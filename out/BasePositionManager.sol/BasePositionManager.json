{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_router","type":"address","internalType":"address"},{"name":"_shortsTracker","type":"address","internalType":"address"},{"name":"_weth","type":"address","internalType":"address"},{"name":"_depositFee","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"BASIS_POINTS_DIVISOR","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"admin","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"approve","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_spender","type":"address","internalType":"address"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"depositFee","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"ethTransferGasLimit","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"feeReserves","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gov","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"increasePositionBufferBps","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxGlobalLongSizes","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxGlobalShortSizes","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"referralStorage","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"router","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"sendValue","inputs":[{"name":"_receiver","type":"address","internalType":"address payable"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAdmin","inputs":[{"name":"_admin","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setDepositFee","inputs":[{"name":"_depositFee","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setEthTransferGasLimit","inputs":[{"name":"_ethTransferGasLimit","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setGov","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setIncreasePositionBufferBps","inputs":[{"name":"_increasePositionBufferBps","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setMaxGlobalSizes","inputs":[{"name":"_tokens","type":"address[]","internalType":"address[]"},{"name":"_longSizes","type":"uint256[]","internalType":"uint256[]"},{"name":"_shortSizes","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setReferralStorage","inputs":[{"name":"_referralStorage","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"shortsTracker","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"weth","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"withdrawFees","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_receiver","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"DecreasePositionReferral","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"},{"name":"sizeDelta","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"marginFeeBasisPoints","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"referralCode","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"referrer","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"IncreasePositionReferral","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"},{"name":"sizeDelta","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"marginFeeBasisPoints","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"referralCode","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"referrer","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SetAdmin","inputs":[{"name":"admin","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SetDepositFee","inputs":[{"name":"depositFee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetEthTransferGasLimit","inputs":[{"name":"ethTransferGasLimit","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetIncreasePositionBufferBps","inputs":[{"name":"increasePositionBufferBps","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetMaxGlobalSizes","inputs":[{"name":"tokens","type":"address[]","indexed":false,"internalType":"address[]"},{"name":"longSizes","type":"uint256[]","indexed":false,"internalType":"uint256[]"},{"name":"shortSizes","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"SetReferralStorage","inputs":[{"name":"referralStorage","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"WithdrawFees","inputs":[{"name":"token","type":"address","indexed":false,"internalType":"address"},{"name":"receiver","type":"address","indexed":false,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AddressEmptyCode","inputs":[{"name":"target","type":"address","internalType":"address"}]},{"type":"error","name":"AddressInsufficientBalance","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"FailedInnerCall","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60806040526207a12060075560646009553480156200001d57600080fd5b5060405162001294380380620012948339810160408190526200004091620000d2565b600160008190558054336001600160a01b031991821681179092556003805482166001600160a01b039889161790556005805482169688169690961790955560068054861693871693909317909255600855600480548416929094169190911790925560028054909116909117905562000139565b80516001600160a01b0381168114620000cd57600080fd5b919050565b600080600080600060a08688031215620000eb57600080fd5b620000f686620000b5565b94506200010660208701620000b5565b93506200011660408701620000b5565b92506200012660608701620000b5565b9150608086015190509295509295909350565b61114b80620001496000396000f3fe60806040526004361061014e5760003560e01c806367a52793116100b6578063e1f21c671161006f578063e1f21c6714610414578063ef12c67e14610434578063f255527814610454578063f851a44014610474578063f887ea4014610494578063fbfa77cf146104b457600080fd5b806367a527931461035b578063704b6c02146103715780639698d25a1461039157806398d1e03a146103be578063ae4d7f9a146103d4578063cfad57a2146103f457600080fd5b806324a084df1161010857806324a084df146102a55780632d79cf42146102c55780633a9b52ad146102db5780633fc8cef3146102fb578063490ae2101461031b578063657bc5d01461033b57600080fd5b80626cc35e146101aa5780631045c74e146101e7578063126082cf1461022257806312d43a51146102385780631ce9cb8f14610258578063233bfe3b1461028557600080fd5b366101a5576006546001600160a01b031633146101a35760405162461bcd60e51b815260206004820152600e60248201526d34b73b30b634b21039b2b73232b960911b60448201526064015b60405180910390fd5b005b600080fd5b3480156101b657600080fd5b50600a546101ca906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f357600080fd5b50610214610202366004610ced565b600c6020526000908152604090205481565b6040519081526020016101de565b34801561022e57600080fd5b5061021461271081565b34801561024457600080fd5b506001546101ca906001600160a01b031681565b34801561026457600080fd5b50610214610273366004610ced565b600b6020526000908152604090205481565b34801561029157600080fd5b506101a36102a0366004610d0a565b6104d4565b3480156102b157600080fd5b506101a36102c0366004610d23565b61053a565b3480156102d157600080fd5b5061021460075481565b3480156102e757600080fd5b506101a36102f6366004610d0a565b61057b565b34801561030757600080fd5b506006546101ca906001600160a01b031681565b34801561032757600080fd5b506101a3610336366004610d0a565b6105da565b34801561034757600080fd5b506004546101ca906001600160a01b031681565b34801561036757600080fd5b5061021460085481565b34801561037d57600080fd5b506101a361038c366004610ced565b610639565b34801561039d57600080fd5b506102146103ac366004610ced565b600d6020526000908152604090205481565b3480156103ca57600080fd5b5061021460095481565b3480156103e057600080fd5b506101a36103ef366004610ced565b6106b1565b34801561040057600080fd5b506101a361040f366004610ced565b610729565b34801561042057600080fd5b506101a361042f366004610d4f565b6107cb565b34801561044057600080fd5b506101a361044f366004610e66565b61086e565b34801561046057600080fd5b506101a361046f366004610f4c565b610990565b34801561048057600080fd5b506002546101ca906001600160a01b031681565b3480156104a057600080fd5b506005546101ca906001600160a01b031681565b3480156104c057600080fd5b506003546101ca906001600160a01b031681565b6002546001600160a01b031633146104fe5760405162461bcd60e51b815260040161019a90610f85565b60098190556040518181527f21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452906020015b60405180910390a150565b6001546001600160a01b031633146105645760405162461bcd60e51b815260040161019a90610fa8565b6105776001600160a01b03831682610a4c565b5050565b6002546001600160a01b031633146105a55760405162461bcd60e51b815260040161019a90610f85565b60078190556040518181527f4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c9060200161052f565b6002546001600160a01b031633146106045760405162461bcd60e51b815260040161019a90610f85565b60088190556040518181527f974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d83006759060200161052f565b6001546001600160a01b031633146106635760405162461bcd60e51b815260040161019a90610fa8565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a19060200161052f565b6002546001600160a01b031633146106db5760405162461bcd60e51b815260040161019a90610f85565b600a80546001600160a01b0319166001600160a01b0383169081179091556040519081527f828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a89060200161052f565b6001546001600160a01b031633146107535760405162461bcd60e51b815260040161019a90610fa8565b6001600160a01b0381166107a95760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f2061646472657373604482015260640161019a565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b031633146107f55760405162461bcd60e51b815260040161019a90610fa8565b60405163095ea7b360e01b81526001600160a01b0383811660048301526024820183905284169063095ea7b3906044016020604051808303816000875af1158015610844573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108689190610fd7565b50505050565b6002546001600160a01b031633146108985760405162461bcd60e51b815260040161019a90610f85565b60005b835181101561094f5760008482815181106108b8576108b8610ff9565b602002602001015190508382815181106108d4576108d4610ff9565b6020026020010151600c6000836001600160a01b03166001600160a01b031681526020019081526020016000208190555082828151811061091757610917610ff9565b6020908102919091018101516001600160a01b039092166000908152600d9091526040902055806109478161100f565b91505061089b565b507fae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b213983838360405161098393929190611071565b60405180910390a1505050565b6002546001600160a01b031633146109ba5760405162461bcd60e51b815260040161019a90610f85565b6001600160a01b0382166000908152600b6020526040812054908190036109e057505050565b6001600160a01b0383166000818152600b6020526040812055610a04908383610ae8565b604080516001600160a01b038086168252841660208201529081018290527f4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e490606001610983565b80471015610a6f5760405163cd78605960e01b815230600482015260240161019a565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610abc576040519150601f19603f3d011682016040523d82523d6000602084013e610ac1565b606091505b5050905080610ae357604051630a12f52160e11b815260040160405180910390fd5b505050565b604080516001600160a01b03848116602483015260448083018590528351808403909101815260649092019092526020810180516001600160e01b031663a9059cbb60e01b179052610ae391859190600090610b4690841683610b94565b90508051600014158015610b6b575080806020019051810190610b699190610fd7565b155b15610ae357604051635274afe760e01b81526001600160a01b038416600482015260240161019a565b6060610ba583836000610bac610bc5565b9392505050565b604051630a12f52160e11b815260040160405180910390fd5b606082471015610bea5760405163cd78605960e01b815230600482015260240161019a565b600080866001600160a01b03168587604051610c0691906110e6565b60006040518083038185875af1925050503d8060008114610c43576040519150601f19603f3d011682016040523d82523d6000602084013e610c48565b606091505b5091509150610c5987838387610c66565b925050505b949350505050565b60608315610cb4578251600003610cad57846001600160a01b03163b600003610cad57604051639996b31560e01b81526001600160a01b038616600482015260240161019a565b5081610c5e565b610c5e8383815115610cc95781518083602001fd5b610bac8163ffffffff16565b6001600160a01b0381168114610cea57600080fd5b50565b600060208284031215610cff57600080fd5b8135610ba581610cd5565b600060208284031215610d1c57600080fd5b5035919050565b60008060408385031215610d3657600080fd5b8235610d4181610cd5565b946020939093013593505050565b600080600060608486031215610d6457600080fd5b8335610d6f81610cd5565b92506020840135610d7f81610cd5565b929592945050506040919091013590565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610dcf57610dcf610d90565b604052919050565b600067ffffffffffffffff821115610df157610df1610d90565b5060051b60200190565b600082601f830112610e0c57600080fd5b81356020610e21610e1c83610dd7565b610da6565b82815260059290921b84018101918181019086841115610e4057600080fd5b8286015b84811015610e5b5780358352918301918301610e44565b509695505050505050565b600080600060608486031215610e7b57600080fd5b833567ffffffffffffffff80821115610e9357600080fd5b818601915086601f830112610ea757600080fd5b81356020610eb7610e1c83610dd7565b82815260059290921b8401810191818101908a841115610ed657600080fd5b948201945b83861015610efd578535610eee81610cd5565b82529482019490820190610edb565b97505087013592505080821115610f1357600080fd5b610f1f87838801610dfb565b93506040860135915080821115610f3557600080fd5b50610f4286828701610dfb565b9150509250925092565b60008060408385031215610f5f57600080fd5b8235610f6a81610cd5565b91506020830135610f7a81610cd5565b809150509250929050565b6020808252600990820152683337b93134b23232b760b91b604082015260600190565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b600060208284031215610fe957600080fd5b81518015158114610ba557600080fd5b634e487b7160e01b600052603260045260246000fd5b60006001820161102f57634e487b7160e01b600052601160045260246000fd5b5060010190565b600081518084526020808501945080840160005b838110156110665781518752958201959082019060010161104a565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156110b35781516001600160a01b03168452928401929084019060010161108e565b505050838103828501526110c78187611036565b91505082810360408401526110dc8185611036565b9695505050505050565b6000825160005b8181101561110757602081860181015185830152016110ed565b50600092019182525091905056fea2646970667358221220502d721ec1bbf070a34be556a0bd926bf91c0ff73cafffefb713f58774dcbdba64736f6c63430008120033","sourceMap":"643:9955:40:-:0;;;1039:10;1002:47;;1433:3;1390:46;;2519:287;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1716:1:84;1921:7;:22;;;133:16:27;;139:10;-1:-1:-1;;;;;;133:16:27;;;;;;;;2634:5:40;:14;;;;-1:-1:-1;;;;;2634:14:40;;;;;;2658:6;:16;;;;;;;;;;;;;;2684:4;:12;;;;;;;;;;;;;;2706:10;:24;2740:13;:30;;;;;;;;;;;;;;;-1:-1:-1;2781:18:40;;;;;;;;;;643:9955;;14:177:177;93:13;;-1:-1:-1;;;;;135:31:177;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:526::-;302:6;310;318;326;334;387:3;375:9;366:7;362:23;358:33;355:53;;;404:1;401;394:12;355:53;427:40;457:9;427:40;:::i;:::-;417:50;;486:49;531:2;520:9;516:18;486:49;:::i;:::-;476:59;;554:49;599:2;588:9;584:18;554:49;:::i;:::-;544:59;;622:49;667:2;656:9;652:18;622:49;:::i;:::-;612:59;;711:3;700:9;696:19;690:26;680:36;;196:526;;;;;;;;:::o;:::-;643:9955:40;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361061014e5760003560e01c806367a52793116100b6578063e1f21c671161006f578063e1f21c6714610414578063ef12c67e14610434578063f255527814610454578063f851a44014610474578063f887ea4014610494578063fbfa77cf146104b457600080fd5b806367a527931461035b578063704b6c02146103715780639698d25a1461039157806398d1e03a146103be578063ae4d7f9a146103d4578063cfad57a2146103f457600080fd5b806324a084df1161010857806324a084df146102a55780632d79cf42146102c55780633a9b52ad146102db5780633fc8cef3146102fb578063490ae2101461031b578063657bc5d01461033b57600080fd5b80626cc35e146101aa5780631045c74e146101e7578063126082cf1461022257806312d43a51146102385780631ce9cb8f14610258578063233bfe3b1461028557600080fd5b366101a5576006546001600160a01b031633146101a35760405162461bcd60e51b815260206004820152600e60248201526d34b73b30b634b21039b2b73232b960911b60448201526064015b60405180910390fd5b005b600080fd5b3480156101b657600080fd5b50600a546101ca906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f357600080fd5b50610214610202366004610ced565b600c6020526000908152604090205481565b6040519081526020016101de565b34801561022e57600080fd5b5061021461271081565b34801561024457600080fd5b506001546101ca906001600160a01b031681565b34801561026457600080fd5b50610214610273366004610ced565b600b6020526000908152604090205481565b34801561029157600080fd5b506101a36102a0366004610d0a565b6104d4565b3480156102b157600080fd5b506101a36102c0366004610d23565b61053a565b3480156102d157600080fd5b5061021460075481565b3480156102e757600080fd5b506101a36102f6366004610d0a565b61057b565b34801561030757600080fd5b506006546101ca906001600160a01b031681565b34801561032757600080fd5b506101a3610336366004610d0a565b6105da565b34801561034757600080fd5b506004546101ca906001600160a01b031681565b34801561036757600080fd5b5061021460085481565b34801561037d57600080fd5b506101a361038c366004610ced565b610639565b34801561039d57600080fd5b506102146103ac366004610ced565b600d6020526000908152604090205481565b3480156103ca57600080fd5b5061021460095481565b3480156103e057600080fd5b506101a36103ef366004610ced565b6106b1565b34801561040057600080fd5b506101a361040f366004610ced565b610729565b34801561042057600080fd5b506101a361042f366004610d4f565b6107cb565b34801561044057600080fd5b506101a361044f366004610e66565b61086e565b34801561046057600080fd5b506101a361046f366004610f4c565b610990565b34801561048057600080fd5b506002546101ca906001600160a01b031681565b3480156104a057600080fd5b506005546101ca906001600160a01b031681565b3480156104c057600080fd5b506003546101ca906001600160a01b031681565b6002546001600160a01b031633146104fe5760405162461bcd60e51b815260040161019a90610f85565b60098190556040518181527f21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452906020015b60405180910390a150565b6001546001600160a01b031633146105645760405162461bcd60e51b815260040161019a90610fa8565b6105776001600160a01b03831682610a4c565b5050565b6002546001600160a01b031633146105a55760405162461bcd60e51b815260040161019a90610f85565b60078190556040518181527f4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c9060200161052f565b6002546001600160a01b031633146106045760405162461bcd60e51b815260040161019a90610f85565b60088190556040518181527f974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d83006759060200161052f565b6001546001600160a01b031633146106635760405162461bcd60e51b815260040161019a90610fa8565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a19060200161052f565b6002546001600160a01b031633146106db5760405162461bcd60e51b815260040161019a90610f85565b600a80546001600160a01b0319166001600160a01b0383169081179091556040519081527f828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a89060200161052f565b6001546001600160a01b031633146107535760405162461bcd60e51b815260040161019a90610fa8565b6001600160a01b0381166107a95760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f2061646472657373604482015260640161019a565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b031633146107f55760405162461bcd60e51b815260040161019a90610fa8565b60405163095ea7b360e01b81526001600160a01b0383811660048301526024820183905284169063095ea7b3906044016020604051808303816000875af1158015610844573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108689190610fd7565b50505050565b6002546001600160a01b031633146108985760405162461bcd60e51b815260040161019a90610f85565b60005b835181101561094f5760008482815181106108b8576108b8610ff9565b602002602001015190508382815181106108d4576108d4610ff9565b6020026020010151600c6000836001600160a01b03166001600160a01b031681526020019081526020016000208190555082828151811061091757610917610ff9565b6020908102919091018101516001600160a01b039092166000908152600d9091526040902055806109478161100f565b91505061089b565b507fae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b213983838360405161098393929190611071565b60405180910390a1505050565b6002546001600160a01b031633146109ba5760405162461bcd60e51b815260040161019a90610f85565b6001600160a01b0382166000908152600b6020526040812054908190036109e057505050565b6001600160a01b0383166000818152600b6020526040812055610a04908383610ae8565b604080516001600160a01b038086168252841660208201529081018290527f4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e490606001610983565b80471015610a6f5760405163cd78605960e01b815230600482015260240161019a565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610abc576040519150601f19603f3d011682016040523d82523d6000602084013e610ac1565b606091505b5050905080610ae357604051630a12f52160e11b815260040160405180910390fd5b505050565b604080516001600160a01b03848116602483015260448083018590528351808403909101815260649092019092526020810180516001600160e01b031663a9059cbb60e01b179052610ae391859190600090610b4690841683610b94565b90508051600014158015610b6b575080806020019051810190610b699190610fd7565b155b15610ae357604051635274afe760e01b81526001600160a01b038416600482015260240161019a565b6060610ba583836000610bac610bc5565b9392505050565b604051630a12f52160e11b815260040160405180910390fd5b606082471015610bea5760405163cd78605960e01b815230600482015260240161019a565b600080866001600160a01b03168587604051610c0691906110e6565b60006040518083038185875af1925050503d8060008114610c43576040519150601f19603f3d011682016040523d82523d6000602084013e610c48565b606091505b5091509150610c5987838387610c66565b925050505b949350505050565b60608315610cb4578251600003610cad57846001600160a01b03163b600003610cad57604051639996b31560e01b81526001600160a01b038616600482015260240161019a565b5081610c5e565b610c5e8383815115610cc95781518083602001fd5b610bac8163ffffffff16565b6001600160a01b0381168114610cea57600080fd5b50565b600060208284031215610cff57600080fd5b8135610ba581610cd5565b600060208284031215610d1c57600080fd5b5035919050565b60008060408385031215610d3657600080fd5b8235610d4181610cd5565b946020939093013593505050565b600080600060608486031215610d6457600080fd5b8335610d6f81610cd5565b92506020840135610d7f81610cd5565b929592945050506040919091013590565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610dcf57610dcf610d90565b604052919050565b600067ffffffffffffffff821115610df157610df1610d90565b5060051b60200190565b600082601f830112610e0c57600080fd5b81356020610e21610e1c83610dd7565b610da6565b82815260059290921b84018101918181019086841115610e4057600080fd5b8286015b84811015610e5b5780358352918301918301610e44565b509695505050505050565b600080600060608486031215610e7b57600080fd5b833567ffffffffffffffff80821115610e9357600080fd5b818601915086601f830112610ea757600080fd5b81356020610eb7610e1c83610dd7565b82815260059290921b8401810191818101908a841115610ed657600080fd5b948201945b83861015610efd578535610eee81610cd5565b82529482019490820190610edb565b97505087013592505080821115610f1357600080fd5b610f1f87838801610dfb565b93506040860135915080821115610f3557600080fd5b50610f4286828701610dfb565b9150509250925092565b60008060408385031215610f5f57600080fd5b8235610f6a81610cd5565b91506020830135610f7a81610cd5565b809150509250929050565b6020808252600990820152683337b93134b23232b760b91b604082015260600190565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b600060208284031215610fe957600080fd5b81518015158114610ba557600080fd5b634e487b7160e01b600052603260045260246000fd5b60006001820161102f57634e487b7160e01b600052601160045260246000fd5b5060010190565b600081518084526020808501945080840160005b838110156110665781518752958201959082019060010161104a565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156110b35781516001600160a01b03168452928401929084019060010161108e565b505050838103828501526110c78187611036565b91505082810360408401526110dc8185611036565b9695505050505050565b6000825160005b8181101561110757602081860181015185830152016110ed565b50600092019182525091905056fea2646970667358221220502d721ec1bbf070a34be556a0bd926bf91c0ff73cafffefb713f58774dcbdba64736f6c63430008120033","sourceMap":"643:9955:40:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2871:4;;-1:-1:-1;;;;;2871:4:40;2857:10;:18;2849:45;;;;-1:-1:-1;;;2849:45:40;;216:2:177;2849:45:40;;;198:21:177;255:2;235:18;;;228:30;-1:-1:-1;;;274:18:177;;;267:44;328:18;;2849:45:40;;;;;;;;;643:9955;;;;;1443:30;;;;;;;;;;-1:-1:-1;1443:30:40;;;;-1:-1:-1;;;;;1443:30:40;;;;;;-1:-1:-1;;;;;521:32:177;;;503:51;;491:2;476:18;1443:30:40;;;;;;;;1533:62;;;;;;;;;;-1:-1:-1;1533:62:40;;;;;:::i;:::-;;;;;;;;;;;;;;;;;1099:25:177;;;1087:2;1072:18;1533:62:40;953:177:177;803:52:40;;;;;;;;;;;;850:5;803:52;;84:18:27;;;;;;;;;;-1:-1:-1;84:18:27;;;;-1:-1:-1;;;;;84:18:27;;;1480:46:40;;;;;;;;;;-1:-1:-1;1480:46:40;;;;;:::i;:::-;;;;;;;;;;;;;;3382:235;;;;;;;;;;-1:-1:-1;3382:235:40;;;;;:::i;:::-;;:::i;4714:125::-;;;;;;;;;;-1:-1:-1;4714:125:40;;;;;:::i;:::-;;:::i;1002:47::-;;;;;;;;;;;;;;;;3026:199;;;;;;;;;;-1:-1:-1;3026:199:40;;;;;:::i;:::-;;:::i;976:19::-;;;;;;;;;;-1:-1:-1;976:19:40;;;;-1:-1:-1;;;;;976:19:40;;;3231:145;;;;;;;;;;-1:-1:-1;3231:145:40;;;;;:::i;:::-;;:::i;915:28::-;;;;;;;;;;-1:-1:-1;915:28:40;;;;-1:-1:-1;;;;;915:28:40;;;1359:25;;;;;;;;;;;;;;;;2907:113;;;;;;;;;;-1:-1:-1;2907:113:40;;;;;:::i;:::-;;:::i;1601:63::-;;;;;;;;;;-1:-1:-1;1601:63:40;;;;;:::i;:::-;;;;;;;;;;;;;;1390:46;;;;;;;;;;;;;;;;3623:175;;;;;;;;;;-1:-1:-1;3623:175:40;;;;;:::i;:::-;;:::i;266:147:27:-;;;;;;;;;;-1:-1:-1;266:147:27;;;;;:::i;:::-;;:::i;4565:143:40:-;;;;;;;;;;-1:-1:-1;4565:143:40;;;;;:::i;:::-;;:::i;3804:442::-;;;;;;;;;;-1:-1:-1;3804:442:40;;;;;:::i;:::-;;:::i;4252:307::-;;;;;;;;;;-1:-1:-1;4252:307:40;;;;;:::i;:::-;;:::i;862:20::-;;;;;;;;;;-1:-1:-1;862:20:40;;;;-1:-1:-1;;;;;862:20:40;;;949:21;;;;;;;;;;-1:-1:-1;949:21:40;;;;-1:-1:-1;;;;;949:21:40;;;889:20;;;;;;;;;;-1:-1:-1;889:20:40;;;;-1:-1:-1;;;;;889:20:40;;;3382:235;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;3485:25:::1;:54:::0;;;3554:56:::1;::::0;1099:25:177;;;3554:56:40::1;::::0;1087:2:177;1072:18;3554:56:40::1;;;;;;;;3382:235:::0;:::o;4714:125::-;213:3:27;;-1:-1:-1;;;;;213:3:27;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:27;;;;;;;:::i;:::-;4804:28:40::1;-1:-1:-1::0;;;;;4804:19:40;::::1;4824:7:::0;4804:19:::1;:28::i;:::-;4714:125:::0;;:::o;3026:199::-;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;3117:19:::1;:42:::0;;;3174:44:::1;::::0;1099:25:177;;;3174:44:40::1;::::0;1087:2:177;1072:18;3174:44:40::1;953:177:177::0;3231:145:40;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;3304:10:::1;:24:::0;;;3343:26:::1;::::0;1099:25:177;;;3343:26:40::1;::::0;1087:2:177;1072:18;3343:26:40::1;953:177:177::0;2907:113:40;213:3:27;;-1:-1:-1;;;;;213:3:27;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:27;;;;;;;:::i;:::-;2968:5:40::1;:14:::0;;-1:-1:-1;;;;;;2968:14:40::1;-1:-1:-1::0;;;;;2968:14:40;::::1;::::0;;::::1;::::0;;;2997:16:::1;::::0;503:51:177;;;2997:16:40::1;::::0;491:2:177;476:18;2997:16:40::1;357:203:177::0;3623:175:40;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;3706:15:::1;:34:::0;;-1:-1:-1;;;;;;3706:34:40::1;-1:-1:-1::0;;;;;3706:34:40;::::1;::::0;;::::1;::::0;;;3755:36:::1;::::0;503:51:177;;;3755:36:40::1;::::0;491:2:177;476:18;3755:36:40::1;357:203:177::0;266:147:27;213:3;;-1:-1:-1;;;;;213:3:27;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:27;;;;;;;:::i;:::-;-1:-1:-1;;;;;331:18:27;::::1;323:63;;;::::0;-1:-1:-1;;;323:63:27;;6104:2:177;323:63:27::1;::::0;::::1;6086:21:177::0;;;6123:18;;;6116:30;6182:34;6162:18;;;6155:62;6234:18;;323:63:27::1;5902:356:177::0;323:63:27::1;396:3;:10:::0;;-1:-1:-1;;;;;;396:10:27::1;-1:-1:-1::0;;;;;396:10:27;;;::::1;::::0;;;::::1;::::0;;266:147::o;4565:143:40:-;213:3:27;;-1:-1:-1;;;;;213:3:27;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:27;;;;;;;:::i;:::-;4660:41:40::1;::::0;-1:-1:-1;;;4660:41:40;;-1:-1:-1;;;;;6455:32:177;;;4660:41:40::1;::::0;::::1;6437:51:177::0;6504:18;;;6497:34;;;4660:22:40;::::1;::::0;::::1;::::0;6410:18:177;;4660:41:40::1;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;4565:143:::0;;;:::o;3804:442::-;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;3970:9:::1;3965:208;3989:7;:14;3985:1;:18;3965:208;;;4024:13;4040:7;4048:1;4040:10;;;;;;;;:::i;:::-;;;;;;;4024:26;;4092:10;4103:1;4092:13;;;;;;;;:::i;:::-;;;;;;;4064:18;:25;4083:5;-1:-1:-1::0;;;;;4064:25:40::1;-1:-1:-1::0;;;;;4064:25:40::1;;;;;;;;;;;;:41;;;;4148:11;4160:1;4148:14;;;;;;;;:::i;:::-;;::::0;;::::1;::::0;;;;;;;-1:-1:-1;;;;;4119:26:40;;::::1;;::::0;;;:19:::1;:26:::0;;;;;;:43;4005:3;::::1;::::0;::::1;:::i;:::-;;;;3965:208;;;;4188:51;4206:7;4215:10;4227:11;4188:51;;;;;;;;:::i;:::-;;;;;;;;3804:442:::0;;;:::o;4252:307::-;2476:5;;-1:-1:-1;;;;;2476:5:40;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:40;;;;;;;:::i;:::-;-1:-1:-1;;;;;4355:19:40;::::1;4338:14;4355:19:::0;;;:11:::1;:19;::::0;;;;;;4388:11;;;4384:24:::1;;4401:7;4714:125:::0;;:::o;4384:24::-:1;-1:-1:-1::0;;;;;4418:19:40;::::1;4440:1;4418:19:::0;;;:11:::1;:19;::::0;;;;:23;4451:46:::1;::::0;4479:9;4490:6;4451:27:::1;:46::i;:::-;4513:39;::::0;;-1:-1:-1;;;;;8933:15:177;;;8915:34;;8985:15;;8980:2;8965:18;;8958:43;9017:18;;;9010:34;;;4513:39:40::1;::::0;8865:2:177;8850:18;4513:39:40::1;8675:375:177::0;1529:330:81;1638:6;1614:21;:30;1610:109;;;1667:41;;-1:-1:-1;;;1667:41:81;;1702:4;1667:41;;;503:51:177;476:18;;1667:41:81;357:203:177;1610:109:81;1730:12;1747:9;-1:-1:-1;;;;;1747:14:81;1769:6;1747:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1729:51;;;1795:7;1790:63;;1825:17;;-1:-1:-1;;;1825:17:81;;;;;;;;;;;1790:63;1600:259;1529:330;;:::o;1283:160:79:-;1392:43;;;-1:-1:-1;;;;;6455:32:177;;;1392:43:79;;;6437:51:177;6504:18;;;;6497:34;;;1392:43:79;;;;;;;;;;6410:18:177;;;;1392:43:79;;;;;;;;-1:-1:-1;;;;;1392:43:79;-1:-1:-1;;;1392:43:79;;;1365:71;;1385:5;;1392:43;-1:-1:-1;;5139:33:79;;1407:14;;1392:43;5139:27;:33::i;:::-;5113:59;;5186:10;:17;5207:1;5186:22;;:57;;;;;5224:10;5213:30;;;;;;;;;;;;:::i;:::-;5212:31;5186:57;5182:135;;;5266:40;;-1:-1:-1;;;5266:40:79;;-1:-1:-1;;;;;521:32:177;;5266:40:79;;;503:51:177;476:18;;5266:40:79;357:203:177;2563:166:81;2638:12;2669:53;2691:6;2699:4;2705:1;2708:13;2669:21;:53::i;:::-;2662:60;2563:166;-1:-1:-1;;;2563:166:81:o;8128:80::-;8184:17;;-1:-1:-1;;;8184:17:81;;;;;;;;;;;4051:483;4227:12;4279:5;4255:21;:29;4251:108;;;4307:41;;-1:-1:-1;;;4307:41:81;;4342:4;4307:41;;;503:51:177;476:18;;4307:41:81;357:203:177;4251:108:81;4369:12;4383:23;4410:6;-1:-1:-1;;;;;4410:11:81;4429:5;4436:4;4410:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4368:73;;;;4458:69;4485:6;4493:7;4502:10;4514:12;4458:26;:69::i;:::-;4451:76;;;;4051:483;;;;;;;:::o;6371:692::-;6562:12;6590:7;6586:471;;;6617:10;:17;6638:1;6617:22;6613:339;;6841:6;-1:-1:-1;;;;;6841:18:81;;6863:1;6841:23;6837:101;;6895:24;;-1:-1:-1;;;6895:24:81;;-1:-1:-1;;;;;521:32:177;;6895:24:81;;;503:51:177;476:18;;6895:24:81;357:203:177;6837:101:81;-1:-1:-1;6972:10:81;6965:17;;6586:471;7013:33;7021:10;7033:12;8384:17;;:21;8380:411;;8612:10;8606:17;8668:15;8655:10;8651:2;8647:19;8640:44;8380:411;8728:14;:12;:14;;:::i;565:131:177:-;-1:-1:-1;;;;;640:31:177;;630:42;;620:70;;686:1;683;676:12;620:70;565:131;:::o;701:247::-;760:6;813:2;801:9;792:7;788:23;784:32;781:52;;;829:1;826;819:12;781:52;868:9;855:23;887:31;912:5;887:31;:::i;1135:180::-;1194:6;1247:2;1235:9;1226:7;1222:23;1218:32;1215:52;;;1263:1;1260;1253:12;1215:52;-1:-1:-1;1286:23:177;;1135:180;-1:-1:-1;1135:180:177:o;1320:323::-;1396:6;1404;1457:2;1445:9;1436:7;1432:23;1428:32;1425:52;;;1473:1;1470;1463:12;1425:52;1512:9;1499:23;1531:31;1556:5;1531:31;:::i;:::-;1581:5;1633:2;1618:18;;;;1605:32;;-1:-1:-1;;;1320:323:177:o;1648:456::-;1725:6;1733;1741;1794:2;1782:9;1773:7;1769:23;1765:32;1762:52;;;1810:1;1807;1800:12;1762:52;1849:9;1836:23;1868:31;1893:5;1868:31;:::i;:::-;1918:5;-1:-1:-1;1975:2:177;1960:18;;1947:32;1988:33;1947:32;1988:33;:::i;:::-;1648:456;;2040:7;;-1:-1:-1;;;2094:2:177;2079:18;;;;2066:32;;1648:456::o;2109:127::-;2170:10;2165:3;2161:20;2158:1;2151:31;2201:4;2198:1;2191:15;2225:4;2222:1;2215:15;2241:275;2312:2;2306:9;2377:2;2358:13;;-1:-1:-1;;2354:27:177;2342:40;;2412:18;2397:34;;2433:22;;;2394:62;2391:88;;;2459:18;;:::i;:::-;2495:2;2488:22;2241:275;;-1:-1:-1;2241:275:177:o;2521:183::-;2581:4;2614:18;2606:6;2603:30;2600:56;;;2636:18;;:::i;:::-;-1:-1:-1;2681:1:177;2677:14;2693:4;2673:25;;2521:183::o;2709:662::-;2763:5;2816:3;2809:4;2801:6;2797:17;2793:27;2783:55;;2834:1;2831;2824:12;2783:55;2870:6;2857:20;2896:4;2920:60;2936:43;2976:2;2936:43;:::i;:::-;2920:60;:::i;:::-;3014:15;;;3100:1;3096:10;;;;3084:23;;3080:32;;;3045:12;;;;3124:15;;;3121:35;;;3152:1;3149;3142:12;3121:35;3188:2;3180:6;3176:15;3200:142;3216:6;3211:3;3208:15;3200:142;;;3282:17;;3270:30;;3320:12;;;;3233;;3200:142;;;-1:-1:-1;3360:5:177;2709:662;-1:-1:-1;;;;;;2709:662:177:o;3376:1441::-;3528:6;3536;3544;3597:2;3585:9;3576:7;3572:23;3568:32;3565:52;;;3613:1;3610;3603:12;3565:52;3653:9;3640:23;3682:18;3723:2;3715:6;3712:14;3709:34;;;3739:1;3736;3729:12;3709:34;3777:6;3766:9;3762:22;3752:32;;3822:7;3815:4;3811:2;3807:13;3803:27;3793:55;;3844:1;3841;3834:12;3793:55;3880:2;3867:16;3902:4;3926:60;3942:43;3982:2;3942:43;:::i;3926:60::-;4020:15;;;4102:1;4098:10;;;;4090:19;;4086:28;;;4051:12;;;;4126:19;;;4123:39;;;4158:1;4155;4148:12;4123:39;4182:11;;;;4202:217;4218:6;4213:3;4210:15;4202:217;;;4298:3;4285:17;4315:31;4340:5;4315:31;:::i;:::-;4359:18;;4235:12;;;;4397;;;;4202:217;;;4438:5;-1:-1:-1;;4481:18:177;;4468:32;;-1:-1:-1;;4512:16:177;;;4509:36;;;4541:1;4538;4531:12;4509:36;4564:63;4619:7;4608:8;4597:9;4593:24;4564:63;:::i;:::-;4554:73;;4680:2;4669:9;4665:18;4652:32;4636:48;;4709:2;4699:8;4696:16;4693:36;;;4725:1;4722;4715:12;4693:36;;4748:63;4803:7;4792:8;4781:9;4777:24;4748:63;:::i;:::-;4738:73;;;3376:1441;;;;;:::o;4822:388::-;4890:6;4898;4951:2;4939:9;4930:7;4926:23;4922:32;4919:52;;;4967:1;4964;4957:12;4919:52;5006:9;4993:23;5025:31;5050:5;5025:31;:::i;:::-;5075:5;-1:-1:-1;5132:2:177;5117:18;;5104:32;5145:33;5104:32;5145:33;:::i;:::-;5197:7;5187:17;;;4822:388;;;;;:::o;5215:332::-;5417:2;5399:21;;;5456:1;5436:18;;;5429:29;-1:-1:-1;;;5489:2:177;5474:18;;5467:39;5538:2;5523:18;;5215:332::o;5552:345::-;5754:2;5736:21;;;5793:2;5773:18;;;5766:30;-1:-1:-1;;;5827:2:177;5812:18;;5805:51;5888:2;5873:18;;5552:345::o;6542:277::-;6609:6;6662:2;6650:9;6641:7;6637:23;6633:32;6630:52;;;6678:1;6675;6668:12;6630:52;6710:9;6704:16;6763:5;6756:13;6749:21;6742:5;6739:32;6729:60;;6785:1;6782;6775:12;6824:127;6885:10;6880:3;6876:20;6873:1;6866:31;6916:4;6913:1;6906:15;6940:4;6937:1;6930:15;6956:232;6995:3;7016:17;;;7013:140;;7075:10;7070:3;7066:20;7063:1;7056:31;7110:4;7107:1;7100:15;7138:4;7135:1;7128:15;7013:140;-1:-1:-1;7180:1:177;7169:13;;6956:232::o;7193:435::-;7246:3;7284:5;7278:12;7311:6;7306:3;7299:19;7337:4;7366:2;7361:3;7357:12;7350:19;;7403:2;7396:5;7392:14;7424:1;7434:169;7448:6;7445:1;7442:13;7434:169;;;7509:13;;7497:26;;7543:12;;;;7578:15;;;;7470:1;7463:9;7434:169;;;-1:-1:-1;7619:3:177;;7193:435;-1:-1:-1;;;;;7193:435:177:o;7633:1037::-;7979:2;7991:21;;;8061:13;;7964:18;;;8083:22;;;7931:4;;8159;;8136:3;8121:19;;;8186:15;;;7931:4;8229:195;8243:6;8240:1;8237:13;8229:195;;;8308:13;;-1:-1:-1;;;;;8304:39:177;8292:52;;8364:12;;;;8399:15;;;;8340:1;8258:9;8229:195;;;8233:3;;;8469:9;8464:3;8460:19;8455:2;8444:9;8440:18;8433:47;8503:41;8540:3;8532:6;8503:41;:::i;:::-;8489:55;;;8592:9;8584:6;8580:22;8575:2;8564:9;8560:18;8553:50;8620:44;8657:6;8649;8620:44;:::i;:::-;8612:52;7633:1037;-1:-1:-1;;;;;;7633:1037:177:o;9265:412::-;9394:3;9432:6;9426:13;9457:1;9467:129;9481:6;9478:1;9475:13;9467:129;;;9579:4;9563:14;;;9559:25;;9553:32;9540:11;;;9533:53;9496:12;9467:129;;;-1:-1:-1;9651:1:177;9615:16;;9640:13;;;-1:-1:-1;9615:16:177;9265:412;-1:-1:-1;9265:412:177:o","linkReferences":{}},"methodIdentifiers":{"BASIS_POINTS_DIVISOR()":"126082cf","admin()":"f851a440","approve(address,address,uint256)":"e1f21c67","depositFee()":"67a52793","ethTransferGasLimit()":"2d79cf42","feeReserves(address)":"1ce9cb8f","gov()":"12d43a51","increasePositionBufferBps()":"98d1e03a","maxGlobalLongSizes(address)":"1045c74e","maxGlobalShortSizes(address)":"9698d25a","referralStorage()":"006cc35e","router()":"f887ea40","sendValue(address,uint256)":"24a084df","setAdmin(address)":"704b6c02","setDepositFee(uint256)":"490ae210","setEthTransferGasLimit(uint256)":"3a9b52ad","setGov(address)":"cfad57a2","setIncreasePositionBufferBps(uint256)":"233bfe3b","setMaxGlobalSizes(address[],uint256[],uint256[])":"ef12c67e","setReferralStorage(address)":"ae4d7f9a","shortsTracker()":"657bc5d0","vault()":"fbfa77cf","weth()":"3fc8cef3","withdrawFees(address,address)":"f2555278"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_vault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_router\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_shortsTracker\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_weth\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_depositFee\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddressInsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedInnerCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"marginFeeBasisPoints\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"referralCode\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"DecreasePositionReferral\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"marginFeeBasisPoints\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"referralCode\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"IncreasePositionReferral\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"SetAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositFee\",\"type\":\"uint256\"}],\"name\":\"SetDepositFee\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ethTransferGasLimit\",\"type\":\"uint256\"}],\"name\":\"SetEthTransferGasLimit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"increasePositionBufferBps\",\"type\":\"uint256\"}],\"name\":\"SetIncreasePositionBufferBps\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"longSizes\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"shortSizes\",\"type\":\"uint256[]\"}],\"name\":\"SetMaxGlobalSizes\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referralStorage\",\"type\":\"address\"}],\"name\":\"SetReferralStorage\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawFees\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BASIS_POINTS_DIVISOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"depositFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ethTransferGasLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"feeReserves\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"increasePositionBufferBps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"maxGlobalLongSizes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"maxGlobalShortSizes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"referralStorage\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"router\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_receiver\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"sendValue\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_depositFee\",\"type\":\"uint256\"}],\"name\":\"setDepositFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_ethTransferGasLimit\",\"type\":\"uint256\"}],\"name\":\"setEthTransferGasLimit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGov\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_increasePositionBufferBps\",\"type\":\"uint256\"}],\"name\":\"setIncreasePositionBufferBps\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"_tokens\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_longSizes\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_shortSizes\",\"type\":\"uint256[]\"}],\"name\":\"setMaxGlobalSizes\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_referralStorage\",\"type\":\"address\"}],\"name\":\"setReferralStorage\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"shortsTracker\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"weth\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_receiver\",\"type\":\"address\"}],\"name\":\"withdrawFees\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"AddressInsufficientBalance(address)\":[{\"details\":\"The ETH balance of the account is not enough to perform the operation.\"}],\"FailedInnerCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/BasePositionManager.sol\":\"BasePositionManager\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/access/Governable.sol\":{\"keccak256\":\"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815\",\"dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod\"]},\"src/core/BasePositionManager.sol\":{\"keccak256\":\"0xcba27a3eee42ab69ca0f24b0952289ecc70edd319c63dde17729e647a3ac70b6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8eb3cb14308092627fc14da13c11cde3752a94286148d03722c8df505bc6496d\",\"dweb:/ipfs/QmfFvotNHmoDRw39pQcWZ9hhWRBcLk9vKUka6XKdFkoRMY\"]},\"src/core/PositionUtils.sol\":{\"keccak256\":\"0xe641b9ae89efdd6ab3298f0edaff60c5a822e22533bf56acbe4d9d0c4478e541\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://390c18c4b8ffbcd44c44973dfe655365c86db7a1e8fd8a3ce15eb0b0d7349f3f\",\"dweb:/ipfs/QmaXPU2ijNPQ2WegdDd9LMikmALkzQJTPmtNc2Wu6j6VJY\"]},\"src/core/interfaces/IBasePositionManager.sol\":{\"keccak256\":\"0x527cf68dc35f1b55cc4a712a185231e3d60a3f1b5c7b0474b01d55daafe84ea2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b29cff53e5fa4d5acc34def9a04261fc6ef35fdfa3a666b650640436b9c2ba51\",\"dweb:/ipfs/QmatAzkQ9pVKtFw4E5C5bakWkLSKxuPozBso54tY9NbzZ9\"]},\"src/core/interfaces/IOrderBook.sol\":{\"keccak256\":\"0x7be9633f9d8a659bd27fda2592ead9ae14874bc87a3c732d586a0ae11751db8e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6685b11f56c0df8aad3e4e93a9074b580f87326584f39acd5271744bb535d041\",\"dweb:/ipfs/Qmf74vwNZ1y2focbFVMAvQwzs6gcLeQvRCHxySAWBySvEC\"]},\"src/core/interfaces/IRouter.sol\":{\"keccak256\":\"0x93380a413ddae5c2fbdcbf7a678a4c9421612310cac96581ffb4a6a1e1fbe071\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://51af01db966d608fb5314f9730d40dbc067a5f70f6cb0d3803dc1c7dc59feeae\",\"dweb:/ipfs/QmU5BCRT2cY1MCguQuniVk2seik5T1nUYsegEjnVSQQoQG\"]},\"src/core/interfaces/IShortsTracker.sol\":{\"keccak256\":\"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5\",\"dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4\"]},\"src/core/interfaces/IVault.sol\":{\"keccak256\":\"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208\",\"dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC\"]},\"src/core/interfaces/IVaultUtils.sol\":{\"keccak256\":\"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3\",\"dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF\"]},\"src/libraries/token/IERC20.sol\":{\"keccak256\":\"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2\",\"dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah\"]},\"src/libraries/token/IERC20Permit.sol\":{\"keccak256\":\"0x530ea5398fd7d4b38ea7fc9c3bc20e49cac03cb7601c0302b80deed23d0c6978\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://03e021b40f068def6c345c82bb997ff1ba7fc80707e0dde168de20e028bcbed5\",\"dweb:/ipfs/QmVDAZGsMnNStKrbmT23NFYWVtje5c37Ft7jPfmSFgeiWW\"]},\"src/libraries/token/SafeERC20.sol\":{\"keccak256\":\"0xf4b6e5728d4ca715fb2995b9889b54d0328421921330eecdc758b45bcd310efc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a5926c82e4f3735eece2269305999bae209d58d7e4a9b5c57ebf1b900abeea89\",\"dweb:/ipfs/Qma5VNXueDEbK6xW1KRyWQuio3KYeKQ8SEzg95VuFpq2cK\"]},\"src/libraries/utils/Address.sol\":{\"keccak256\":\"0x505f3ec70c5eac8378fd93c63ebdc3b7a95b98d8a17763372388811ae4dd3b79\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eb9b3e49c2d73ec823aaf1710a0185555df70a3522dbb5fac4b1b004b985e4cd\",\"dweb:/ipfs/QmU1C9qk4JgqWN6DQwiqHYMoZFSbFig5FKs1SZeUuo8pjF\"]},\"src/libraries/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x0b32fc187badba8280bd857d5b9cc8cf86d73059296d72aa90be87b5b59dd934\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c4bef445029105b1e9efaabf41f4bd33ba60488c275577bf2c77166ec862739\",\"dweb:/ipfs/QmZjutFoYkFpKGVUdX5o7LnYPHubru5Ufz6abs5Dw32MYb\"]},\"src/peripherals/interfaces/ITimelock.sol\":{\"keccak256\":\"0xf0e189d3fa688809e2150e64c06cb1a21dc6f9056a372ed84920eb1e3b85ec04\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://33fc4e59442ea88ac89d151bd97de303e7952dec295904d4d2109281e5aa3f63\",\"dweb:/ipfs/QmdAT7XfghkyHjB2aPTLDUnGyuU9kqFAqCT5g8j8gW2TcM\"]},\"src/referrals/interfaces/IReferralStorage.sol\":{\"keccak256\":\"0x6f5bf1658507e47a6cc2313f818d862700881e71cdf594646ef7f646bb51a996\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d94cd9e2bc409a8c6ca5c464b9317b3cd7458f9c482c7ce0007265d2f6ea70f6\",\"dweb:/ipfs/QmNNfDX2dkERjrpHXxANjWXie5Yz6rDLppALYW3rmjkhA3\"]},\"src/tokens/interfaces/IWETH.sol\":{\"keccak256\":\"0x0bd3c9a45121911ba505e8759ab838c03248c03152961269a04953c7e2779a7f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8f66683b1654209829e8a1cdefbdb7d40e8a666f9a2dda5482903c87667107f5\",\"dweb:/ipfs/QmXFn3vQa9wqZDA7MMqoDehPMbNRj2sKw4wDwuibwuMKCy\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_router","type":"address"},{"internalType":"address","name":"_shortsTracker","type":"address"},{"internalType":"address","name":"_weth","type":"address"},{"internalType":"uint256","name":"_depositFee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"target","type":"address"}],"type":"error","name":"AddressEmptyCode"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"AddressInsufficientBalance"},{"inputs":[],"type":"error","name":"FailedInnerCall"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false},{"internalType":"uint256","name":"sizeDelta","type":"uint256","indexed":false},{"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256","indexed":false},{"internalType":"bytes32","name":"referralCode","type":"bytes32","indexed":false},{"internalType":"address","name":"referrer","type":"address","indexed":false}],"type":"event","name":"DecreasePositionReferral","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false},{"internalType":"uint256","name":"sizeDelta","type":"uint256","indexed":false},{"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256","indexed":false},{"internalType":"bytes32","name":"referralCode","type":"bytes32","indexed":false},{"internalType":"address","name":"referrer","type":"address","indexed":false}],"type":"event","name":"IncreasePositionReferral","anonymous":false},{"inputs":[{"internalType":"address","name":"admin","type":"address","indexed":false}],"type":"event","name":"SetAdmin","anonymous":false},{"inputs":[{"internalType":"uint256","name":"depositFee","type":"uint256","indexed":false}],"type":"event","name":"SetDepositFee","anonymous":false},{"inputs":[{"internalType":"uint256","name":"ethTransferGasLimit","type":"uint256","indexed":false}],"type":"event","name":"SetEthTransferGasLimit","anonymous":false},{"inputs":[{"internalType":"uint256","name":"increasePositionBufferBps","type":"uint256","indexed":false}],"type":"event","name":"SetIncreasePositionBufferBps","anonymous":false},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]","indexed":false},{"internalType":"uint256[]","name":"longSizes","type":"uint256[]","indexed":false},{"internalType":"uint256[]","name":"shortSizes","type":"uint256[]","indexed":false}],"type":"event","name":"SetMaxGlobalSizes","anonymous":false},{"inputs":[{"internalType":"address","name":"referralStorage","type":"address","indexed":false}],"type":"event","name":"SetReferralStorage","anonymous":false},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":false},{"internalType":"address","name":"receiver","type":"address","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"WithdrawFees","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"approve"},{"inputs":[],"stateMutability":"view","type":"function","name":"depositFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ethTransferGasLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"feeReserves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"increasePositionBufferBps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"maxGlobalLongSizes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"maxGlobalShortSizes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"referralStorage","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"router","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address payable","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"sendValue"},{"inputs":[{"internalType":"address","name":"_admin","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAdmin"},{"inputs":[{"internalType":"uint256","name":"_depositFee","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setDepositFee"},{"inputs":[{"internalType":"uint256","name":"_ethTransferGasLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setEthTransferGasLimit"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGov"},{"inputs":[{"internalType":"uint256","name":"_increasePositionBufferBps","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setIncreasePositionBufferBps"},{"inputs":[{"internalType":"address[]","name":"_tokens","type":"address[]"},{"internalType":"uint256[]","name":"_longSizes","type":"uint256[]"},{"internalType":"uint256[]","name":"_shortSizes","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"setMaxGlobalSizes"},{"inputs":[{"internalType":"address","name":"_referralStorage","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setReferralStorage"},{"inputs":[],"stateMutability":"view","type":"function","name":"shortsTracker","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"weth","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_receiver","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"withdrawFees"},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/","chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/BasePositionManager.sol":"BasePositionManager"},"libraries":{}},"sources":{"src/access/Governable.sol":{"keccak256":"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1","urls":["bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815","dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod"],"license":"MIT"},"src/core/BasePositionManager.sol":{"keccak256":"0xcba27a3eee42ab69ca0f24b0952289ecc70edd319c63dde17729e647a3ac70b6","urls":["bzz-raw://8eb3cb14308092627fc14da13c11cde3752a94286148d03722c8df505bc6496d","dweb:/ipfs/QmfFvotNHmoDRw39pQcWZ9hhWRBcLk9vKUka6XKdFkoRMY"],"license":"MIT"},"src/core/PositionUtils.sol":{"keccak256":"0xe641b9ae89efdd6ab3298f0edaff60c5a822e22533bf56acbe4d9d0c4478e541","urls":["bzz-raw://390c18c4b8ffbcd44c44973dfe655365c86db7a1e8fd8a3ce15eb0b0d7349f3f","dweb:/ipfs/QmaXPU2ijNPQ2WegdDd9LMikmALkzQJTPmtNc2Wu6j6VJY"],"license":"MIT"},"src/core/interfaces/IBasePositionManager.sol":{"keccak256":"0x527cf68dc35f1b55cc4a712a185231e3d60a3f1b5c7b0474b01d55daafe84ea2","urls":["bzz-raw://b29cff53e5fa4d5acc34def9a04261fc6ef35fdfa3a666b650640436b9c2ba51","dweb:/ipfs/QmatAzkQ9pVKtFw4E5C5bakWkLSKxuPozBso54tY9NbzZ9"],"license":"MIT"},"src/core/interfaces/IOrderBook.sol":{"keccak256":"0x7be9633f9d8a659bd27fda2592ead9ae14874bc87a3c732d586a0ae11751db8e","urls":["bzz-raw://6685b11f56c0df8aad3e4e93a9074b580f87326584f39acd5271744bb535d041","dweb:/ipfs/Qmf74vwNZ1y2focbFVMAvQwzs6gcLeQvRCHxySAWBySvEC"],"license":"MIT"},"src/core/interfaces/IRouter.sol":{"keccak256":"0x93380a413ddae5c2fbdcbf7a678a4c9421612310cac96581ffb4a6a1e1fbe071","urls":["bzz-raw://51af01db966d608fb5314f9730d40dbc067a5f70f6cb0d3803dc1c7dc59feeae","dweb:/ipfs/QmU5BCRT2cY1MCguQuniVk2seik5T1nUYsegEjnVSQQoQG"],"license":"MIT"},"src/core/interfaces/IShortsTracker.sol":{"keccak256":"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112","urls":["bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5","dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4"],"license":"MIT"},"src/core/interfaces/IVault.sol":{"keccak256":"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453","urls":["bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208","dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC"],"license":"MIT"},"src/core/interfaces/IVaultUtils.sol":{"keccak256":"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd","urls":["bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3","dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF"],"license":"MIT"},"src/libraries/token/IERC20.sol":{"keccak256":"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd","urls":["bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2","dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah"],"license":"MIT"},"src/libraries/token/IERC20Permit.sol":{"keccak256":"0x530ea5398fd7d4b38ea7fc9c3bc20e49cac03cb7601c0302b80deed23d0c6978","urls":["bzz-raw://03e021b40f068def6c345c82bb997ff1ba7fc80707e0dde168de20e028bcbed5","dweb:/ipfs/QmVDAZGsMnNStKrbmT23NFYWVtje5c37Ft7jPfmSFgeiWW"],"license":"MIT"},"src/libraries/token/SafeERC20.sol":{"keccak256":"0xf4b6e5728d4ca715fb2995b9889b54d0328421921330eecdc758b45bcd310efc","urls":["bzz-raw://a5926c82e4f3735eece2269305999bae209d58d7e4a9b5c57ebf1b900abeea89","dweb:/ipfs/Qma5VNXueDEbK6xW1KRyWQuio3KYeKQ8SEzg95VuFpq2cK"],"license":"MIT"},"src/libraries/utils/Address.sol":{"keccak256":"0x505f3ec70c5eac8378fd93c63ebdc3b7a95b98d8a17763372388811ae4dd3b79","urls":["bzz-raw://eb9b3e49c2d73ec823aaf1710a0185555df70a3522dbb5fac4b1b004b985e4cd","dweb:/ipfs/QmU1C9qk4JgqWN6DQwiqHYMoZFSbFig5FKs1SZeUuo8pjF"],"license":"MIT"},"src/libraries/utils/ReentrancyGuard.sol":{"keccak256":"0x0b32fc187badba8280bd857d5b9cc8cf86d73059296d72aa90be87b5b59dd934","urls":["bzz-raw://8c4bef445029105b1e9efaabf41f4bd33ba60488c275577bf2c77166ec862739","dweb:/ipfs/QmZjutFoYkFpKGVUdX5o7LnYPHubru5Ufz6abs5Dw32MYb"],"license":"MIT"},"src/peripherals/interfaces/ITimelock.sol":{"keccak256":"0xf0e189d3fa688809e2150e64c06cb1a21dc6f9056a372ed84920eb1e3b85ec04","urls":["bzz-raw://33fc4e59442ea88ac89d151bd97de303e7952dec295904d4d2109281e5aa3f63","dweb:/ipfs/QmdAT7XfghkyHjB2aPTLDUnGyuU9kqFAqCT5g8j8gW2TcM"],"license":"MIT"},"src/referrals/interfaces/IReferralStorage.sol":{"keccak256":"0x6f5bf1658507e47a6cc2313f818d862700881e71cdf594646ef7f646bb51a996","urls":["bzz-raw://d94cd9e2bc409a8c6ca5c464b9317b3cd7458f9c482c7ce0007265d2f6ea70f6","dweb:/ipfs/QmNNfDX2dkERjrpHXxANjWXie5Yz6rDLppALYW3rmjkhA3"],"license":"MIT"},"src/tokens/interfaces/IWETH.sol":{"keccak256":"0x0bd3c9a45121911ba505e8759ab838c03248c03152961269a04953c7e2779a7f","urls":["bzz-raw://8f66683b1654209829e8a1cdefbdb7d40e8a666f9a2dda5482903c87667107f5","dweb:/ipfs/QmXFn3vQa9wqZDA7MMqoDehPMbNRj2sKw4wDwuibwuMKCy"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/core/BasePositionManager.sol","id":35017,"exportedSymbols":{"Address":[57053],"BasePositionManager":[35016],"Governable":[32410],"IBasePositionManager":[51394],"IERC20":[56117],"IERC20Permit":[56179],"IOrderBook":[51604],"IReferralStorage":[72261],"IRouter":[51936],"IShortsTracker":[52008],"ITimelock":[71674],"IVault":[52650],"IVaultUtils":[52916],"IWETH":[80584],"PositionUtils":[42703],"ReentrancyGuard":[58850],"SafeERC20":[56531]},"nodeType":"SourceUnit","src":"33:10566:40","nodes":[{"id":34047,"nodeType":"PragmaDirective","src":"33:23:40","nodes":[],"literals":["solidity","0.8",".18"]},{"id":34048,"nodeType":"ImportDirective","src":"58:39:40","nodes":[],"absolutePath":"src/libraries/token/IERC20.sol","file":"../libraries/token/IERC20.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":56118,"symbolAliases":[],"unitAlias":""},{"id":34049,"nodeType":"ImportDirective","src":"98:40:40","nodes":[],"absolutePath":"src/tokens/interfaces/IWETH.sol","file":"../tokens/interfaces/IWETH.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":80585,"symbolAliases":[],"unitAlias":""},{"id":34050,"nodeType":"ImportDirective","src":"139:42:40","nodes":[],"absolutePath":"src/libraries/token/SafeERC20.sol","file":"../libraries/token/SafeERC20.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":56532,"symbolAliases":[],"unitAlias":""},{"id":34051,"nodeType":"ImportDirective","src":"182:40:40","nodes":[],"absolutePath":"src/libraries/utils/Address.sol","file":"../libraries/utils/Address.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":57054,"symbolAliases":[],"unitAlias":""},{"id":34052,"nodeType":"ImportDirective","src":"223:48:40","nodes":[],"absolutePath":"src/libraries/utils/ReentrancyGuard.sol","file":"../libraries/utils/ReentrancyGuard.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":58851,"symbolAliases":[],"unitAlias":""},{"id":34053,"nodeType":"ImportDirective","src":"273:34:40","nodes":[],"absolutePath":"src/core/interfaces/IRouter.sol","file":"./interfaces/IRouter.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":51937,"symbolAliases":[],"unitAlias":""},{"id":34054,"nodeType":"ImportDirective","src":"308:33:40","nodes":[],"absolutePath":"src/core/interfaces/IVault.sol","file":"./interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":52651,"symbolAliases":[],"unitAlias":""},{"id":34055,"nodeType":"ImportDirective","src":"342:41:40","nodes":[],"absolutePath":"src/core/interfaces/IShortsTracker.sol","file":"./interfaces/IShortsTracker.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":52009,"symbolAliases":[],"unitAlias":""},{"id":34056,"nodeType":"ImportDirective","src":"384:37:40","nodes":[],"absolutePath":"src/core/interfaces/IOrderBook.sol","file":"./interfaces/IOrderBook.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":51605,"symbolAliases":[],"unitAlias":""},{"id":34057,"nodeType":"ImportDirective","src":"422:47:40","nodes":[],"absolutePath":"src/core/interfaces/IBasePositionManager.sol","file":"./interfaces/IBasePositionManager.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":51395,"symbolAliases":[],"unitAlias":""},{"id":34058,"nodeType":"ImportDirective","src":"471:34:40","nodes":[],"absolutePath":"src/access/Governable.sol","file":"../access/Governable.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":32411,"symbolAliases":[],"unitAlias":""},{"id":34059,"nodeType":"ImportDirective","src":"506:49:40","nodes":[],"absolutePath":"src/peripherals/interfaces/ITimelock.sol","file":"../peripherals/interfaces/ITimelock.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":71675,"symbolAliases":[],"unitAlias":""},{"id":34060,"nodeType":"ImportDirective","src":"556:54:40","nodes":[],"absolutePath":"src/referrals/interfaces/IReferralStorage.sol","file":"../referrals/interfaces/IReferralStorage.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":72262,"symbolAliases":[],"unitAlias":""},{"id":34061,"nodeType":"ImportDirective","src":"612:29:40","nodes":[],"absolutePath":"src/core/PositionUtils.sol","file":"./PositionUtils.sol","nameLocation":"-1:-1:-1","scope":35017,"sourceUnit":42704,"symbolAliases":[],"unitAlias":""},{"id":35016,"nodeType":"ContractDefinition","src":"643:9955:40","nodes":[{"id":34071,"nodeType":"UsingForDirective","src":"731:27:40","nodes":[],"global":false,"libraryName":{"id":34068,"name":"SafeERC20","nameLocations":["737:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":56531,"src":"737:9:40"},"typeName":{"id":34070,"nodeType":"UserDefinedTypeName","pathNode":{"id":34069,"name":"IERC20","nameLocations":["751:6:40"],"nodeType":"IdentifierPath","referencedDeclaration":56117,"src":"751:6:40"},"referencedDeclaration":56117,"src":"751:6:40","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56117","typeString":"contract IERC20"}}},{"id":34074,"nodeType":"UsingForDirective","src":"763:34:40","nodes":[],"global":false,"libraryName":{"id":34072,"name":"Address","nameLocations":["769:7:40"],"nodeType":"IdentifierPath","referencedDeclaration":57053,"src":"769:7:40"},"typeName":{"id":34073,"name":"address","nodeType":"ElementaryTypeName","src":"781:15:40","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}},{"id":34077,"nodeType":"VariableDeclaration","src":"803:52:40","nodes":[],"constant":true,"functionSelector":"126082cf","mutability":"constant","name":"BASIS_POINTS_DIVISOR","nameLocation":"827:20:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34075,"name":"uint256","nodeType":"ElementaryTypeName","src":"803:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030","id":34076,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"850:5:40","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"visibility":"public"},{"id":34079,"nodeType":"VariableDeclaration","src":"862:20:40","nodes":[],"constant":false,"functionSelector":"f851a440","mutability":"mutable","name":"admin","nameLocation":"877:5:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34078,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34081,"nodeType":"VariableDeclaration","src":"889:20:40","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"904:5:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34080,"name":"address","nodeType":"ElementaryTypeName","src":"889:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34083,"nodeType":"VariableDeclaration","src":"915:28:40","nodes":[],"constant":false,"functionSelector":"657bc5d0","mutability":"mutable","name":"shortsTracker","nameLocation":"930:13:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34082,"name":"address","nodeType":"ElementaryTypeName","src":"915:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34085,"nodeType":"VariableDeclaration","src":"949:21:40","nodes":[],"constant":false,"functionSelector":"f887ea40","mutability":"mutable","name":"router","nameLocation":"964:6:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34084,"name":"address","nodeType":"ElementaryTypeName","src":"949:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34087,"nodeType":"VariableDeclaration","src":"976:19:40","nodes":[],"constant":false,"functionSelector":"3fc8cef3","mutability":"mutable","name":"weth","nameLocation":"991:4:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34086,"name":"address","nodeType":"ElementaryTypeName","src":"976:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34092,"nodeType":"VariableDeclaration","src":"1002:47:40","nodes":[],"constant":false,"functionSelector":"2d79cf42","mutability":"mutable","name":"ethTransferGasLimit","nameLocation":"1017:19:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34088,"name":"uint256","nodeType":"ElementaryTypeName","src":"1002:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"commonType":{"typeIdentifier":"t_rational_500000_by_1","typeString":"int_const 500000"},"id":34091,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"353030","id":34089,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1039:3:40","typeDescriptions":{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"},"value":"500"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"31303030","id":34090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1045:4:40","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"src":"1039:10:40","typeDescriptions":{"typeIdentifier":"t_rational_500000_by_1","typeString":"int_const 500000"}},"visibility":"public"},{"id":34094,"nodeType":"VariableDeclaration","src":"1359:25:40","nodes":[],"constant":false,"functionSelector":"67a52793","mutability":"mutable","name":"depositFee","nameLocation":"1374:10:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34093,"name":"uint256","nodeType":"ElementaryTypeName","src":"1359:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":34097,"nodeType":"VariableDeclaration","src":"1390:46:40","nodes":[],"constant":false,"functionSelector":"98d1e03a","mutability":"mutable","name":"increasePositionBufferBps","nameLocation":"1405:25:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34095,"name":"uint256","nodeType":"ElementaryTypeName","src":"1390:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313030","id":34096,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1433:3:40","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"visibility":"public"},{"id":34099,"nodeType":"VariableDeclaration","src":"1443:30:40","nodes":[],"constant":false,"functionSelector":"006cc35e","mutability":"mutable","name":"referralStorage","nameLocation":"1458:15:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34098,"name":"address","nodeType":"ElementaryTypeName","src":"1443:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34103,"nodeType":"VariableDeclaration","src":"1480:46:40","nodes":[],"constant":false,"functionSelector":"1ce9cb8f","mutability":"mutable","name":"feeReserves","nameLocation":"1515:11:40","scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34102,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34100,"name":"address","nodeType":"ElementaryTypeName","src":"1488:7:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1480:27:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34101,"name":"uint256","nodeType":"ElementaryTypeName","src":"1499:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34108,"nodeType":"VariableDeclaration","src":"1533:62:40","nodes":[],"baseFunctions":[51386],"constant":false,"functionSelector":"1045c74e","mutability":"mutable","name":"maxGlobalLongSizes","nameLocation":"1577:18:40","overrides":{"id":34107,"nodeType":"OverrideSpecifier","overrides":[],"src":"1568:8:40"},"scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34106,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34104,"name":"address","nodeType":"ElementaryTypeName","src":"1541:7:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1533:27:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34105,"name":"uint256","nodeType":"ElementaryTypeName","src":"1552:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34113,"nodeType":"VariableDeclaration","src":"1601:63:40","nodes":[],"baseFunctions":[51393],"constant":false,"functionSelector":"9698d25a","mutability":"mutable","name":"maxGlobalShortSizes","nameLocation":"1645:19:40","overrides":{"id":34112,"nodeType":"OverrideSpecifier","overrides":[],"src":"1636:8:40"},"scope":35016,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34111,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34109,"name":"address","nodeType":"ElementaryTypeName","src":"1609:7:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1601:27:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34110,"name":"uint256","nodeType":"ElementaryTypeName","src":"1620:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34117,"nodeType":"EventDefinition","src":"1671:40:40","nodes":[],"anonymous":false,"eventSelector":"974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d8300675","name":"SetDepositFee","nameLocation":"1677:13:40","parameters":{"id":34116,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34115,"indexed":false,"mutability":"mutable","name":"depositFee","nameLocation":"1699:10:40","nodeType":"VariableDeclaration","scope":34117,"src":"1691:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34114,"name":"uint256","nodeType":"ElementaryTypeName","src":"1691:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1690:20:40"}},{"id":34121,"nodeType":"EventDefinition","src":"1716:58:40","nodes":[],"anonymous":false,"eventSelector":"4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c","name":"SetEthTransferGasLimit","nameLocation":"1722:22:40","parameters":{"id":34120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34119,"indexed":false,"mutability":"mutable","name":"ethTransferGasLimit","nameLocation":"1753:19:40","nodeType":"VariableDeclaration","scope":34121,"src":"1745:27:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34118,"name":"uint256","nodeType":"ElementaryTypeName","src":"1745:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1744:29:40"}},{"id":34125,"nodeType":"EventDefinition","src":"1779:70:40","nodes":[],"anonymous":false,"eventSelector":"21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452","name":"SetIncreasePositionBufferBps","nameLocation":"1785:28:40","parameters":{"id":34124,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34123,"indexed":false,"mutability":"mutable","name":"increasePositionBufferBps","nameLocation":"1822:25:40","nodeType":"VariableDeclaration","scope":34125,"src":"1814:33:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34122,"name":"uint256","nodeType":"ElementaryTypeName","src":"1814:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1813:35:40"}},{"id":34129,"nodeType":"EventDefinition","src":"1854:50:40","nodes":[],"anonymous":false,"eventSelector":"828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a8","name":"SetReferralStorage","nameLocation":"1860:18:40","parameters":{"id":34128,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34127,"indexed":false,"mutability":"mutable","name":"referralStorage","nameLocation":"1887:15:40","nodeType":"VariableDeclaration","scope":34129,"src":"1879:23:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34126,"name":"address","nodeType":"ElementaryTypeName","src":"1879:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1878:25:40"}},{"id":34133,"nodeType":"EventDefinition","src":"1909:30:40","nodes":[],"anonymous":false,"eventSelector":"5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a1","name":"SetAdmin","nameLocation":"1915:8:40","parameters":{"id":34132,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34131,"indexed":false,"mutability":"mutable","name":"admin","nameLocation":"1932:5:40","nodeType":"VariableDeclaration","scope":34133,"src":"1924:13:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34130,"name":"address","nodeType":"ElementaryTypeName","src":"1924:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1923:15:40"}},{"id":34141,"nodeType":"EventDefinition","src":"1944:68:40","nodes":[],"anonymous":false,"eventSelector":"4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e4","name":"WithdrawFees","nameLocation":"1950:12:40","parameters":{"id":34140,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34135,"indexed":false,"mutability":"mutable","name":"token","nameLocation":"1971:5:40","nodeType":"VariableDeclaration","scope":34141,"src":"1963:13:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34134,"name":"address","nodeType":"ElementaryTypeName","src":"1963:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34137,"indexed":false,"mutability":"mutable","name":"receiver","nameLocation":"1986:8:40","nodeType":"VariableDeclaration","scope":34141,"src":"1978:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34136,"name":"address","nodeType":"ElementaryTypeName","src":"1978:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34139,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2004:6:40","nodeType":"VariableDeclaration","scope":34141,"src":"1996:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34138,"name":"uint256","nodeType":"ElementaryTypeName","src":"1996:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1962:49:40"}},{"id":34152,"nodeType":"EventDefinition","src":"2018:85:40","nodes":[],"anonymous":false,"eventSelector":"ae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b2139","name":"SetMaxGlobalSizes","nameLocation":"2024:17:40","parameters":{"id":34151,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34144,"indexed":false,"mutability":"mutable","name":"tokens","nameLocation":"2052:6:40","nodeType":"VariableDeclaration","scope":34152,"src":"2042:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":34142,"name":"address","nodeType":"ElementaryTypeName","src":"2042:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34143,"nodeType":"ArrayTypeName","src":"2042:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":34147,"indexed":false,"mutability":"mutable","name":"longSizes","nameLocation":"2070:9:40","nodeType":"VariableDeclaration","scope":34152,"src":"2060:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34145,"name":"uint256","nodeType":"ElementaryTypeName","src":"2060:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34146,"nodeType":"ArrayTypeName","src":"2060:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":34150,"indexed":false,"mutability":"mutable","name":"shortSizes","nameLocation":"2091:10:40","nodeType":"VariableDeclaration","scope":34152,"src":"2081:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34148,"name":"uint256","nodeType":"ElementaryTypeName","src":"2081:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34149,"nodeType":"ArrayTypeName","src":"2081:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2041:61:40"}},{"id":34164,"nodeType":"EventDefinition","src":"2109:151:40","nodes":[],"anonymous":false,"eventSelector":"c2414023ce7002ee98557d1e7be21e5559073336f2217ee5f9b2e50fd85f71ee","name":"IncreasePositionReferral","nameLocation":"2115:24:40","parameters":{"id":34163,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34154,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"2157:7:40","nodeType":"VariableDeclaration","scope":34164,"src":"2149:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34153,"name":"address","nodeType":"ElementaryTypeName","src":"2149:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34156,"indexed":false,"mutability":"mutable","name":"sizeDelta","nameLocation":"2174:9:40","nodeType":"VariableDeclaration","scope":34164,"src":"2166:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34155,"name":"uint256","nodeType":"ElementaryTypeName","src":"2166:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34158,"indexed":false,"mutability":"mutable","name":"marginFeeBasisPoints","nameLocation":"2193:20:40","nodeType":"VariableDeclaration","scope":34164,"src":"2185:28:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34157,"name":"uint256","nodeType":"ElementaryTypeName","src":"2185:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34160,"indexed":false,"mutability":"mutable","name":"referralCode","nameLocation":"2223:12:40","nodeType":"VariableDeclaration","scope":34164,"src":"2215:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2215:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34162,"indexed":false,"mutability":"mutable","name":"referrer","nameLocation":"2245:8:40","nodeType":"VariableDeclaration","scope":34164,"src":"2237:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34161,"name":"address","nodeType":"ElementaryTypeName","src":"2237:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2139:120:40"}},{"id":34176,"nodeType":"EventDefinition","src":"2266:151:40","nodes":[],"anonymous":false,"eventSelector":"474c763ff84bf2c2039a6d9fea955ecd0f724030e3c365b91169c6a16fe751b7","name":"DecreasePositionReferral","nameLocation":"2272:24:40","parameters":{"id":34175,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34166,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"2314:7:40","nodeType":"VariableDeclaration","scope":34176,"src":"2306:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34165,"name":"address","nodeType":"ElementaryTypeName","src":"2306:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34168,"indexed":false,"mutability":"mutable","name":"sizeDelta","nameLocation":"2331:9:40","nodeType":"VariableDeclaration","scope":34176,"src":"2323:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34167,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34170,"indexed":false,"mutability":"mutable","name":"marginFeeBasisPoints","nameLocation":"2350:20:40","nodeType":"VariableDeclaration","scope":34176,"src":"2342:28:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34169,"name":"uint256","nodeType":"ElementaryTypeName","src":"2342:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34172,"indexed":false,"mutability":"mutable","name":"referralCode","nameLocation":"2380:12:40","nodeType":"VariableDeclaration","scope":34176,"src":"2372:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34171,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2372:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34174,"indexed":false,"mutability":"mutable","name":"referrer","nameLocation":"2402:8:40","nodeType":"VariableDeclaration","scope":34176,"src":"2394:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34173,"name":"address","nodeType":"ElementaryTypeName","src":"2394:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2296:120:40"}},{"id":34188,"nodeType":"ModifierDefinition","src":"2423:90:40","nodes":[],"body":{"id":34187,"nodeType":"Block","src":"2444:69:40","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":34182,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34179,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2462:3:40","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":34180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2466:6:40","memberName":"sender","nodeType":"MemberAccess","src":"2462:10:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":34181,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34079,"src":"2476:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2462:19:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"666f7262696464656e","id":34183,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2483:11:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_2459e1459d47a7446e20f4fb8bfae98e67455e19e3816df4e777a2fda0b72c3a","typeString":"literal_string \"forbidden\""},"value":"forbidden"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2459e1459d47a7446e20f4fb8bfae98e67455e19e3816df4e777a2fda0b72c3a","typeString":"literal_string \"forbidden\""}],"id":34178,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2454:7:40","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":34184,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2454:41:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34185,"nodeType":"ExpressionStatement","src":"2454:41:40"},{"id":34186,"nodeType":"PlaceholderStatement","src":"2505:1:40"}]},"name":"onlyAdmin","nameLocation":"2432:9:40","parameters":{"id":34177,"nodeType":"ParameterList","parameters":[],"src":"2441:2:40"},"virtual":false,"visibility":"internal"},{"id":34227,"nodeType":"FunctionDefinition","src":"2519:287:40","nodes":[],"body":{"id":34226,"nodeType":"Block","src":"2624:182:40","nodes":[],"statements":[{"expression":{"id":34203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34201,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"2634:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34202,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34190,"src":"2642:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2634:14:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34204,"nodeType":"ExpressionStatement","src":"2634:14:40"},{"expression":{"id":34207,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34205,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34085,"src":"2658:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34206,"name":"_router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34192,"src":"2667:7:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2658:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34208,"nodeType":"ExpressionStatement","src":"2658:16:40"},{"expression":{"id":34211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34209,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34087,"src":"2684:4:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34210,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34196,"src":"2691:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2684:12:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34212,"nodeType":"ExpressionStatement","src":"2684:12:40"},{"expression":{"id":34215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34213,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34094,"src":"2706:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34214,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34198,"src":"2719:11:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2706:24:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34216,"nodeType":"ExpressionStatement","src":"2706:24:40"},{"expression":{"id":34219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34217,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34083,"src":"2740:13:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34218,"name":"_shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34194,"src":"2756:14:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2740:30:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34220,"nodeType":"ExpressionStatement","src":"2740:30:40"},{"expression":{"id":34224,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34221,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34079,"src":"2781:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":34222,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2789:3:40","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":34223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2793:6:40","memberName":"sender","nodeType":"MemberAccess","src":"2789:10:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2781:18:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34225,"nodeType":"ExpressionStatement","src":"2781:18:40"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":34199,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34190,"mutability":"mutable","name":"_vault","nameLocation":"2539:6:40","nodeType":"VariableDeclaration","scope":34227,"src":"2531:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34189,"name":"address","nodeType":"ElementaryTypeName","src":"2531:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34192,"mutability":"mutable","name":"_router","nameLocation":"2555:7:40","nodeType":"VariableDeclaration","scope":34227,"src":"2547:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34191,"name":"address","nodeType":"ElementaryTypeName","src":"2547:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34194,"mutability":"mutable","name":"_shortsTracker","nameLocation":"2572:14:40","nodeType":"VariableDeclaration","scope":34227,"src":"2564:22:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34193,"name":"address","nodeType":"ElementaryTypeName","src":"2564:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34196,"mutability":"mutable","name":"_weth","nameLocation":"2596:5:40","nodeType":"VariableDeclaration","scope":34227,"src":"2588:13:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34195,"name":"address","nodeType":"ElementaryTypeName","src":"2588:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34198,"mutability":"mutable","name":"_depositFee","nameLocation":"2611:11:40","nodeType":"VariableDeclaration","scope":34227,"src":"2603:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34197,"name":"uint256","nodeType":"ElementaryTypeName","src":"2603:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2530:93:40"},"returnParameters":{"id":34200,"nodeType":"ParameterList","parameters":[],"src":"2624:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":34239,"nodeType":"FunctionDefinition","src":"2812:89:40","nodes":[],"body":{"id":34238,"nodeType":"Block","src":"2839:62:40","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":34234,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34231,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2857:3:40","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":34232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2861:6:40","memberName":"sender","nodeType":"MemberAccess","src":"2857:10:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":34233,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34087,"src":"2871:4:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2857:18:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"696e76616c69642073656e646572","id":34235,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2877:16:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_175ad23f068aed3ab88ee19620d541e9ae3d91161407ed4bb90c97cce31b0783","typeString":"literal_string \"invalid sender\""},"value":"invalid sender"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_175ad23f068aed3ab88ee19620d541e9ae3d91161407ed4bb90c97cce31b0783","typeString":"literal_string \"invalid sender\""}],"id":34230,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2849:7:40","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":34236,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2849:45:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34237,"nodeType":"ExpressionStatement","src":"2849:45:40"}]},"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":34228,"nodeType":"ParameterList","parameters":[],"src":"2819:2:40"},"returnParameters":{"id":34229,"nodeType":"ParameterList","parameters":[],"src":"2839:0:40"},"scope":35016,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":34255,"nodeType":"FunctionDefinition","src":"2907:113:40","nodes":[],"body":{"id":34254,"nodeType":"Block","src":"2958:62:40","nodes":[],"statements":[{"expression":{"id":34248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34246,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34079,"src":"2968:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34247,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34241,"src":"2976:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2968:14:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34249,"nodeType":"ExpressionStatement","src":"2968:14:40"},{"eventCall":{"arguments":[{"id":34251,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34241,"src":"3006:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34250,"name":"SetAdmin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34133,"src":"2997:8:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":34252,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2997:16:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34253,"nodeType":"EmitStatement","src":"2992:21:40"}]},"functionSelector":"704b6c02","implemented":true,"kind":"function","modifiers":[{"id":34244,"kind":"modifierInvocation","modifierName":{"id":34243,"name":"onlyGov","nameLocations":["2950:7:40"],"nodeType":"IdentifierPath","referencedDeclaration":32387,"src":"2950:7:40"},"nodeType":"ModifierInvocation","src":"2950:7:40"}],"name":"setAdmin","nameLocation":"2916:8:40","parameters":{"id":34242,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34241,"mutability":"mutable","name":"_admin","nameLocation":"2933:6:40","nodeType":"VariableDeclaration","scope":34255,"src":"2925:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34240,"name":"address","nodeType":"ElementaryTypeName","src":"2925:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2924:16:40"},"returnParameters":{"id":34245,"nodeType":"ParameterList","parameters":[],"src":"2958:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34271,"nodeType":"FunctionDefinition","src":"3026:199:40","nodes":[],"body":{"id":34270,"nodeType":"Block","src":"3107:118:40","nodes":[],"statements":[{"expression":{"id":34264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34262,"name":"ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34092,"src":"3117:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34263,"name":"_ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34257,"src":"3139:20:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3117:42:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34265,"nodeType":"ExpressionStatement","src":"3117:42:40"},{"eventCall":{"arguments":[{"id":34267,"name":"_ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34257,"src":"3197:20:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34266,"name":"SetEthTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34121,"src":"3174:22:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":34268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3174:44:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34269,"nodeType":"EmitStatement","src":"3169:49:40"}]},"functionSelector":"3a9b52ad","implemented":true,"kind":"function","modifiers":[{"id":34260,"kind":"modifierInvocation","modifierName":{"id":34259,"name":"onlyAdmin","nameLocations":["3097:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"3097:9:40"},"nodeType":"ModifierInvocation","src":"3097:9:40"}],"name":"setEthTransferGasLimit","nameLocation":"3035:22:40","parameters":{"id":34258,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34257,"mutability":"mutable","name":"_ethTransferGasLimit","nameLocation":"3066:20:40","nodeType":"VariableDeclaration","scope":34271,"src":"3058:28:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34256,"name":"uint256","nodeType":"ElementaryTypeName","src":"3058:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3057:30:40"},"returnParameters":{"id":34261,"nodeType":"ParameterList","parameters":[],"src":"3107:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34287,"nodeType":"FunctionDefinition","src":"3231:145:40","nodes":[],"body":{"id":34286,"nodeType":"Block","src":"3294:82:40","nodes":[],"statements":[{"expression":{"id":34280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34278,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34094,"src":"3304:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34279,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34273,"src":"3317:11:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3304:24:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34281,"nodeType":"ExpressionStatement","src":"3304:24:40"},{"eventCall":{"arguments":[{"id":34283,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34273,"src":"3357:11:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34282,"name":"SetDepositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34117,"src":"3343:13:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":34284,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3343:26:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34285,"nodeType":"EmitStatement","src":"3338:31:40"}]},"functionSelector":"490ae210","implemented":true,"kind":"function","modifiers":[{"id":34276,"kind":"modifierInvocation","modifierName":{"id":34275,"name":"onlyAdmin","nameLocations":["3284:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"3284:9:40"},"nodeType":"ModifierInvocation","src":"3284:9:40"}],"name":"setDepositFee","nameLocation":"3240:13:40","parameters":{"id":34274,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34273,"mutability":"mutable","name":"_depositFee","nameLocation":"3262:11:40","nodeType":"VariableDeclaration","scope":34287,"src":"3254:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34272,"name":"uint256","nodeType":"ElementaryTypeName","src":"3254:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3253:21:40"},"returnParameters":{"id":34277,"nodeType":"ParameterList","parameters":[],"src":"3294:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34303,"nodeType":"FunctionDefinition","src":"3382:235:40","nodes":[],"body":{"id":34302,"nodeType":"Block","src":"3475:142:40","nodes":[],"statements":[{"expression":{"id":34296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34294,"name":"increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34097,"src":"3485:25:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34295,"name":"_increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34289,"src":"3513:26:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3485:54:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34297,"nodeType":"ExpressionStatement","src":"3485:54:40"},{"eventCall":{"arguments":[{"id":34299,"name":"_increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34289,"src":"3583:26:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34298,"name":"SetIncreasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34125,"src":"3554:28:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":34300,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3554:56:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34301,"nodeType":"EmitStatement","src":"3549:61:40"}]},"functionSelector":"233bfe3b","implemented":true,"kind":"function","modifiers":[{"id":34292,"kind":"modifierInvocation","modifierName":{"id":34291,"name":"onlyAdmin","nameLocations":["3465:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"3465:9:40"},"nodeType":"ModifierInvocation","src":"3465:9:40"}],"name":"setIncreasePositionBufferBps","nameLocation":"3391:28:40","parameters":{"id":34290,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34289,"mutability":"mutable","name":"_increasePositionBufferBps","nameLocation":"3428:26:40","nodeType":"VariableDeclaration","scope":34303,"src":"3420:34:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34288,"name":"uint256","nodeType":"ElementaryTypeName","src":"3420:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3419:36:40"},"returnParameters":{"id":34293,"nodeType":"ParameterList","parameters":[],"src":"3475:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34319,"nodeType":"FunctionDefinition","src":"3623:175:40","nodes":[],"body":{"id":34318,"nodeType":"Block","src":"3696:102:40","nodes":[],"statements":[{"expression":{"id":34312,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":34310,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34099,"src":"3706:15:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":34311,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34305,"src":"3724:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3706:34:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34313,"nodeType":"ExpressionStatement","src":"3706:34:40"},{"eventCall":{"arguments":[{"id":34315,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34305,"src":"3774:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34314,"name":"SetReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34129,"src":"3755:18:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":34316,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3755:36:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34317,"nodeType":"EmitStatement","src":"3750:41:40"}]},"functionSelector":"ae4d7f9a","implemented":true,"kind":"function","modifiers":[{"id":34308,"kind":"modifierInvocation","modifierName":{"id":34307,"name":"onlyAdmin","nameLocations":["3686:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"3686:9:40"},"nodeType":"ModifierInvocation","src":"3686:9:40"}],"name":"setReferralStorage","nameLocation":"3632:18:40","parameters":{"id":34306,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34305,"mutability":"mutable","name":"_referralStorage","nameLocation":"3659:16:40","nodeType":"VariableDeclaration","scope":34319,"src":"3651:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34304,"name":"address","nodeType":"ElementaryTypeName","src":"3651:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3650:26:40"},"returnParameters":{"id":34309,"nodeType":"ParameterList","parameters":[],"src":"3696:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34375,"nodeType":"FunctionDefinition","src":"3804:442:40","nodes":[],"body":{"id":34374,"nodeType":"Block","src":"3955:291:40","nodes":[],"statements":[{"body":{"id":34366,"nodeType":"Block","src":"4010:163:40","statements":[{"assignments":[34345],"declarations":[{"constant":false,"id":34345,"mutability":"mutable","name":"token","nameLocation":"4032:5:40","nodeType":"VariableDeclaration","scope":34366,"src":"4024:13:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34344,"name":"address","nodeType":"ElementaryTypeName","src":"4024:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34349,"initialValue":{"baseExpression":{"id":34346,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34322,"src":"4040:7:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34348,"indexExpression":{"id":34347,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34334,"src":"4048:1:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4040:10:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4024:26:40"},{"expression":{"id":34356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":34350,"name":"maxGlobalLongSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34108,"src":"4064:18:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34352,"indexExpression":{"id":34351,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34345,"src":"4083:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4064:25:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":34353,"name":"_longSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34325,"src":"4092:10:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":34355,"indexExpression":{"id":34354,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34334,"src":"4103:1:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4092:13:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4064:41:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34357,"nodeType":"ExpressionStatement","src":"4064:41:40"},{"expression":{"id":34364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":34358,"name":"maxGlobalShortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34113,"src":"4119:19:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34360,"indexExpression":{"id":34359,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34345,"src":"4139:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4119:26:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":34361,"name":"_shortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34328,"src":"4148:11:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":34363,"indexExpression":{"id":34362,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34334,"src":"4160:1:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4148:14:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4119:43:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34365,"nodeType":"ExpressionStatement","src":"4119:43:40"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34337,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34334,"src":"3985:1:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":34338,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34322,"src":"3989:7:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3997:6:40","memberName":"length","nodeType":"MemberAccess","src":"3989:14:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3985:18:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34367,"initializationExpression":{"assignments":[34334],"declarations":[{"constant":false,"id":34334,"mutability":"mutable","name":"i","nameLocation":"3978:1:40","nodeType":"VariableDeclaration","scope":34367,"src":"3970:9:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34333,"name":"uint256","nodeType":"ElementaryTypeName","src":"3970:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34336,"initialValue":{"hexValue":"30","id":34335,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3982:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3970:13:40"},"loopExpression":{"expression":{"id":34342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4005:3:40","subExpression":{"id":34341,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34334,"src":"4005:1:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34343,"nodeType":"ExpressionStatement","src":"4005:3:40"},"nodeType":"ForStatement","src":"3965:208:40"},{"eventCall":{"arguments":[{"id":34369,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34322,"src":"4206:7:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":34370,"name":"_longSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34325,"src":"4215:10:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":34371,"name":"_shortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34328,"src":"4227:11:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":34368,"name":"SetMaxGlobalSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34152,"src":"4188:17:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256[] memory)"}},"id":34372,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:51:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34373,"nodeType":"EmitStatement","src":"4183:56:40"}]},"functionSelector":"ef12c67e","implemented":true,"kind":"function","modifiers":[{"id":34331,"kind":"modifierInvocation","modifierName":{"id":34330,"name":"onlyAdmin","nameLocations":["3941:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"3941:9:40"},"nodeType":"ModifierInvocation","src":"3941:9:40"}],"name":"setMaxGlobalSizes","nameLocation":"3813:17:40","parameters":{"id":34329,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34322,"mutability":"mutable","name":"_tokens","nameLocation":"3848:7:40","nodeType":"VariableDeclaration","scope":34375,"src":"3831:24:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":34320,"name":"address","nodeType":"ElementaryTypeName","src":"3831:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34321,"nodeType":"ArrayTypeName","src":"3831:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":34325,"mutability":"mutable","name":"_longSizes","nameLocation":"3874:10:40","nodeType":"VariableDeclaration","scope":34375,"src":"3857:27:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34323,"name":"uint256","nodeType":"ElementaryTypeName","src":"3857:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34324,"nodeType":"ArrayTypeName","src":"3857:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":34328,"mutability":"mutable","name":"_shortSizes","nameLocation":"3903:11:40","nodeType":"VariableDeclaration","scope":34375,"src":"3886:28:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34326,"name":"uint256","nodeType":"ElementaryTypeName","src":"3886:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34327,"nodeType":"ArrayTypeName","src":"3886:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"3830:85:40"},"returnParameters":{"id":34332,"nodeType":"ParameterList","parameters":[],"src":"3955:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34416,"nodeType":"FunctionDefinition","src":"4252:307:40","nodes":[],"body":{"id":34415,"nodeType":"Block","src":"4328:231:40","nodes":[],"statements":[{"assignments":[34385],"declarations":[{"constant":false,"id":34385,"mutability":"mutable","name":"amount","nameLocation":"4346:6:40","nodeType":"VariableDeclaration","scope":34415,"src":"4338:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34384,"name":"uint256","nodeType":"ElementaryTypeName","src":"4338:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34389,"initialValue":{"baseExpression":{"id":34386,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34103,"src":"4355:11:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34388,"indexExpression":{"id":34387,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34377,"src":"4367:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4355:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4338:36:40"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34390,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34385,"src":"4388:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":34391,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4398:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4388:11:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34394,"nodeType":"IfStatement","src":"4384:24:40","trueBody":{"functionReturnParameters":34383,"id":34393,"nodeType":"Return","src":"4401:7:40"}},{"expression":{"id":34399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":34395,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34103,"src":"4418:11:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34397,"indexExpression":{"id":34396,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34377,"src":"4430:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4418:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":34398,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4440:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4418:23:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34400,"nodeType":"ExpressionStatement","src":"4418:23:40"},{"expression":{"arguments":[{"id":34405,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34379,"src":"4479:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34406,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34385,"src":"4490:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":34402,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34377,"src":"4458:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34401,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56117,"src":"4451:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$56117_$","typeString":"type(contract IERC20)"}},"id":34403,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4451:14:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56117","typeString":"contract IERC20"}},"id":34404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4466:12:40","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":56229,"src":"4451:27:40","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$56117_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$56117_$","typeString":"function (contract IERC20,address,uint256)"}},"id":34407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4451:46:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34408,"nodeType":"ExpressionStatement","src":"4451:46:40"},{"eventCall":{"arguments":[{"id":34410,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34377,"src":"4526:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34411,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34379,"src":"4534:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34412,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34385,"src":"4545:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34409,"name":"WithdrawFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34141,"src":"4513:12:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":34413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4513:39:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34414,"nodeType":"EmitStatement","src":"4508:44:40"}]},"functionSelector":"f2555278","implemented":true,"kind":"function","modifiers":[{"id":34382,"kind":"modifierInvocation","modifierName":{"id":34381,"name":"onlyAdmin","nameLocations":["4318:9:40"],"nodeType":"IdentifierPath","referencedDeclaration":34188,"src":"4318:9:40"},"nodeType":"ModifierInvocation","src":"4318:9:40"}],"name":"withdrawFees","nameLocation":"4261:12:40","parameters":{"id":34380,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34377,"mutability":"mutable","name":"_token","nameLocation":"4282:6:40","nodeType":"VariableDeclaration","scope":34416,"src":"4274:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34376,"name":"address","nodeType":"ElementaryTypeName","src":"4274:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34379,"mutability":"mutable","name":"_receiver","nameLocation":"4298:9:40","nodeType":"VariableDeclaration","scope":34416,"src":"4290:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34378,"name":"address","nodeType":"ElementaryTypeName","src":"4290:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4273:35:40"},"returnParameters":{"id":34383,"nodeType":"ParameterList","parameters":[],"src":"4328:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34436,"nodeType":"FunctionDefinition","src":"4565:143:40","nodes":[],"body":{"id":34435,"nodeType":"Block","src":"4650:58:40","nodes":[],"statements":[{"expression":{"arguments":[{"id":34431,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34420,"src":"4683:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34432,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34422,"src":"4693:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":34428,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34418,"src":"4667:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34427,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56117,"src":"4660:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$56117_$","typeString":"type(contract IERC20)"}},"id":34429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4660:14:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56117","typeString":"contract IERC20"}},"id":34430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4675:7:40","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":56104,"src":"4660:22:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":34433,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4660:41:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34434,"nodeType":"ExpressionStatement","src":"4660:41:40"}]},"functionSelector":"e1f21c67","implemented":true,"kind":"function","modifiers":[{"id":34425,"kind":"modifierInvocation","modifierName":{"id":34424,"name":"onlyGov","nameLocations":["4642:7:40"],"nodeType":"IdentifierPath","referencedDeclaration":32387,"src":"4642:7:40"},"nodeType":"ModifierInvocation","src":"4642:7:40"}],"name":"approve","nameLocation":"4574:7:40","parameters":{"id":34423,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34418,"mutability":"mutable","name":"_token","nameLocation":"4590:6:40","nodeType":"VariableDeclaration","scope":34436,"src":"4582:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34417,"name":"address","nodeType":"ElementaryTypeName","src":"4582:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34420,"mutability":"mutable","name":"_spender","nameLocation":"4606:8:40","nodeType":"VariableDeclaration","scope":34436,"src":"4598:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34419,"name":"address","nodeType":"ElementaryTypeName","src":"4598:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34422,"mutability":"mutable","name":"_amount","nameLocation":"4624:7:40","nodeType":"VariableDeclaration","scope":34436,"src":"4616:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34421,"name":"uint256","nodeType":"ElementaryTypeName","src":"4616:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4581:51:40"},"returnParameters":{"id":34426,"nodeType":"ParameterList","parameters":[],"src":"4650:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34452,"nodeType":"FunctionDefinition","src":"4714:125:40","nodes":[],"body":{"id":34451,"nodeType":"Block","src":"4794:45:40","nodes":[],"statements":[{"expression":{"arguments":[{"id":34448,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34440,"src":"4824:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":34445,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34438,"src":"4804:9:40","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":34447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4814:9:40","memberName":"sendValue","nodeType":"MemberAccess","referencedDeclaration":56725,"src":"4804:19:40","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$_t_uint256_$returns$__$attached_to$_t_address_payable_$","typeString":"function (address payable,uint256)"}},"id":34449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4804:28:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34450,"nodeType":"ExpressionStatement","src":"4804:28:40"}]},"functionSelector":"24a084df","implemented":true,"kind":"function","modifiers":[{"id":34443,"kind":"modifierInvocation","modifierName":{"id":34442,"name":"onlyGov","nameLocations":["4786:7:40"],"nodeType":"IdentifierPath","referencedDeclaration":32387,"src":"4786:7:40"},"nodeType":"ModifierInvocation","src":"4786:7:40"}],"name":"sendValue","nameLocation":"4723:9:40","parameters":{"id":34441,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34438,"mutability":"mutable","name":"_receiver","nameLocation":"4749:9:40","nodeType":"VariableDeclaration","scope":34452,"src":"4733:25:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":34437,"name":"address","nodeType":"ElementaryTypeName","src":"4733:15:40","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"},{"constant":false,"id":34440,"mutability":"mutable","name":"_amount","nameLocation":"4768:7:40","nodeType":"VariableDeclaration","scope":34452,"src":"4760:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34439,"name":"uint256","nodeType":"ElementaryTypeName","src":"4760:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4732:44:40"},"returnParameters":{"id":34444,"nodeType":"ParameterList","parameters":[],"src":"4794:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":34524,"nodeType":"FunctionDefinition","src":"4845:742:40","nodes":[],"body":{"id":34523,"nodeType":"Block","src":"4946:641:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34461,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34458,"src":"4960:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":34462,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4974:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4960:15:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34466,"nodeType":"IfStatement","src":"4956:52:40","trueBody":{"id":34465,"nodeType":"Block","src":"4977:31:40","statements":[{"functionReturnParameters":34460,"id":34464,"nodeType":"Return","src":"4991:7:40"}]}},{"condition":{"id":34467,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34456,"src":"5022:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":34521,"nodeType":"Block","src":"5299:282:40","statements":[{"assignments":[34496],"declarations":[{"constant":false,"id":34496,"mutability":"mutable","name":"maxGlobalShortSize","nameLocation":"5321:18:40","nodeType":"VariableDeclaration","scope":34521,"src":"5313:26:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34495,"name":"uint256","nodeType":"ElementaryTypeName","src":"5313:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34500,"initialValue":{"baseExpression":{"id":34497,"name":"maxGlobalShortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34113,"src":"5342:19:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34499,"indexExpression":{"id":34498,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34454,"src":"5362:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5342:32:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5313:61:40"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":34514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34501,"name":"maxGlobalShortSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34496,"src":"5392:18:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":34502,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5413:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5392:22:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":34508,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34454,"src":"5449:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34505,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"5425:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34504,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"5418:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5418:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5432:16:40","memberName":"globalShortSizes","nodeType":"MemberAccess","referencedDeclaration":52512,"src":"5418:30:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":34509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5418:43:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":34510,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34458,"src":"5464:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5418:56:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":34512,"name":"maxGlobalShortSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34496,"src":"5477:18:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5418:77:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5392:103:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34520,"nodeType":"IfStatement","src":"5388:183:40","trueBody":{"id":34519,"nodeType":"Block","src":"5509:62:40","statements":[{"expression":{"arguments":[{"hexValue":"6d61782073686f727473206578636565646564","id":34516,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5534:21:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_e31bc38308f1bfce89ce1974a1fb3f8ac21f556f8fc6a7e5beab0885b0759ed9","typeString":"literal_string \"max shorts exceeded\""},"value":"max shorts exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_e31bc38308f1bfce89ce1974a1fb3f8ac21f556f8fc6a7e5beab0885b0759ed9","typeString":"literal_string \"max shorts exceeded\""}],"id":34515,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"5527:6:40","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":34517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5527:29:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34518,"nodeType":"ExpressionStatement","src":"5527:29:40"}]}}]},"id":34522,"nodeType":"IfStatement","src":"5018:563:40","trueBody":{"id":34494,"nodeType":"Block","src":"5031:262:40","statements":[{"assignments":[34469],"declarations":[{"constant":false,"id":34469,"mutability":"mutable","name":"maxGlobalLongSize","nameLocation":"5053:17:40","nodeType":"VariableDeclaration","scope":34494,"src":"5045:25:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34468,"name":"uint256","nodeType":"ElementaryTypeName","src":"5045:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34473,"initialValue":{"baseExpression":{"id":34470,"name":"maxGlobalLongSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34108,"src":"5073:18:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34472,"indexExpression":{"id":34471,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34454,"src":"5092:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5073:31:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5045:59:40"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":34487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34474,"name":"maxGlobalLongSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34469,"src":"5122:17:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":34475,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5142:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5122:21:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":34481,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34454,"src":"5175:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34478,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"5154:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34477,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"5147:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5147:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5161:13:40","memberName":"guaranteedUsd","nodeType":"MemberAccess","referencedDeclaration":52547,"src":"5147:27:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":34482,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5147:40:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":34483,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34458,"src":"5190:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5147:53:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":34485,"name":"maxGlobalLongSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34469,"src":"5203:17:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5147:73:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5122:98:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34493,"nodeType":"IfStatement","src":"5118:165:40","trueBody":{"id":34492,"nodeType":"Block","src":"5222:61:40","statements":[{"expression":{"arguments":[{"hexValue":"6d6178206c6f6e6773206578636565646564","id":34489,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5247:20:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_7e59af16ab48264fd2e24e13cfa8bb955e5036210d961e6f15d26f5ffaeacf66","typeString":"literal_string \"max longs exceeded\""},"value":"max longs exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_7e59af16ab48264fd2e24e13cfa8bb955e5036210d961e6f15d26f5ffaeacf66","typeString":"literal_string \"max longs exceeded\""}],"id":34488,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"5240:6:40","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":34490,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5240:28:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34491,"nodeType":"ExpressionStatement","src":"5240:28:40"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_validateMaxGlobalSize","nameLocation":"4854:22:40","parameters":{"id":34459,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34454,"mutability":"mutable","name":"_indexToken","nameLocation":"4885:11:40","nodeType":"VariableDeclaration","scope":34524,"src":"4877:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34453,"name":"address","nodeType":"ElementaryTypeName","src":"4877:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34456,"mutability":"mutable","name":"_isLong","nameLocation":"4903:7:40","nodeType":"VariableDeclaration","scope":34524,"src":"4898:12:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34455,"name":"bool","nodeType":"ElementaryTypeName","src":"4898:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":34458,"mutability":"mutable","name":"_sizeDelta","nameLocation":"4920:10:40","nodeType":"VariableDeclaration","scope":34524,"src":"4912:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34457,"name":"uint256","nodeType":"ElementaryTypeName","src":"4912:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4876:55:40"},"returnParameters":{"id":34460,"nodeType":"ParameterList","parameters":[],"src":"4946:0:40"},"scope":35016,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":34565,"nodeType":"FunctionDefinition","src":"5593:503:40","nodes":[],"body":{"id":34564,"nodeType":"Block","src":"5798:298:40","nodes":[],"statements":[{"expression":{"arguments":[{"id":34540,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34530,"src":"5831:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34541,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34534,"src":"5844:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":34542,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34532,"src":"5853:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34539,"name":"_validateMaxGlobalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34524,"src":"5808:22:40","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bool_$_t_uint256_$returns$__$","typeString":"function (address,bool,uint256) view"}},"id":34543,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5808:56:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34544,"nodeType":"ExpressionStatement","src":"5808:56:40"},{"expression":{"arguments":[{"id":34548,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"5919:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34549,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34085,"src":"5926:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34550,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34083,"src":"5934:13:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34551,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34526,"src":"5949:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34552,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34528,"src":"5959:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34553,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34530,"src":"5977:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34554,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34532,"src":"5990:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34555,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34534,"src":"6002:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":34556,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34536,"src":"6011:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":34545,"name":"PositionUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42703,"src":"5875:13:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PositionUtils_$42703_$","typeString":"type(library PositionUtils)"}},"id":34547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5889:16:40","memberName":"increasePosition","nodeType":"MemberAccess","referencedDeclaration":42702,"src":"5875:30:40","typeDescriptions":{"typeIdentifier":"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_address_$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_bool_$_t_uint256_$returns$__$","typeString":"function (address,address,address,address,address,address,uint256,bool,uint256)"}},"id":34557,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5875:152:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34558,"nodeType":"ExpressionStatement","src":"5875:152:40"},{"expression":{"arguments":[{"id":34560,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34526,"src":"6068:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34561,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34532,"src":"6078:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34559,"name":"_emitIncreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34956,"src":"6038:29:40","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":34562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6038:51:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34563,"nodeType":"ExpressionStatement","src":"6038:51:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_increasePosition","nameLocation":"5602:17:40","parameters":{"id":34537,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34526,"mutability":"mutable","name":"_account","nameLocation":"5637:8:40","nodeType":"VariableDeclaration","scope":34565,"src":"5629:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34525,"name":"address","nodeType":"ElementaryTypeName","src":"5629:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34528,"mutability":"mutable","name":"_collateralToken","nameLocation":"5663:16:40","nodeType":"VariableDeclaration","scope":34565,"src":"5655:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34527,"name":"address","nodeType":"ElementaryTypeName","src":"5655:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34530,"mutability":"mutable","name":"_indexToken","nameLocation":"5697:11:40","nodeType":"VariableDeclaration","scope":34565,"src":"5689:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34529,"name":"address","nodeType":"ElementaryTypeName","src":"5689:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34532,"mutability":"mutable","name":"_sizeDelta","nameLocation":"5726:10:40","nodeType":"VariableDeclaration","scope":34565,"src":"5718:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34531,"name":"uint256","nodeType":"ElementaryTypeName","src":"5718:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34534,"mutability":"mutable","name":"_isLong","nameLocation":"5751:7:40","nodeType":"VariableDeclaration","scope":34565,"src":"5746:12:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34533,"name":"bool","nodeType":"ElementaryTypeName","src":"5746:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":34536,"mutability":"mutable","name":"_price","nameLocation":"5776:6:40","nodeType":"VariableDeclaration","scope":34565,"src":"5768:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34535,"name":"uint256","nodeType":"ElementaryTypeName","src":"5768:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5619:169:40"},"returnParameters":{"id":34538,"nodeType":"ParameterList","parameters":[],"src":"5798:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34683,"nodeType":"FunctionDefinition","src":"6102:1284:40","nodes":[],"body":{"id":34682,"nodeType":"Block","src":"6386:1000:40","nodes":[],"statements":[{"assignments":[34587],"declarations":[{"constant":false,"id":34587,"mutability":"mutable","name":"_vault","nameLocation":"6404:6:40","nodeType":"VariableDeclaration","scope":34682,"src":"6396:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34586,"name":"address","nodeType":"ElementaryTypeName","src":"6396:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34589,"initialValue":{"id":34588,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"6413:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6396:22:40"},{"assignments":[34591],"declarations":[{"constant":false,"id":34591,"mutability":"mutable","name":"markPrice","nameLocation":"6437:9:40","nodeType":"VariableDeclaration","scope":34682,"src":"6429:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34590,"name":"uint256","nodeType":"ElementaryTypeName","src":"6429:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34606,"initialValue":{"condition":{"id":34592,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34577,"src":"6449:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":34603,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34571,"src":"6528:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34600,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34587,"src":"6508:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34599,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"6501:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34601,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6501:14:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6516:11:40","memberName":"getMaxPrice","nodeType":"MemberAccess","referencedDeclaration":52598,"src":"6501:26:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":34604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6501:39:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6449:91:40","trueExpression":{"arguments":[{"id":34597,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34571,"src":"6486:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34594,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34587,"src":"6466:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34593,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"6459:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34595,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6459:14:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34596,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6474:11:40","memberName":"getMinPrice","nodeType":"MemberAccess","referencedDeclaration":52605,"src":"6459:26:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":34598,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6459:39:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6429:111:40"},{"condition":{"id":34607,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34577,"src":"6554:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":34623,"nodeType":"Block","src":"6643:74:40","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34617,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34591,"src":"6665:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":34618,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34581,"src":"6678:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6665:19:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"6d61726b5072696365203e207072696365","id":34620,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6686:19:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_fa45b7a3f6f3ec20038e49a180248b57318b9c72a6695dd02fe12b56f908b342","typeString":"literal_string \"markPrice > price\""},"value":"markPrice > price"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fa45b7a3f6f3ec20038e49a180248b57318b9c72a6695dd02fe12b56f908b342","typeString":"literal_string \"markPrice > price\""}],"id":34616,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6657:7:40","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":34621,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6657:49:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34622,"nodeType":"ExpressionStatement","src":"6657:49:40"}]},"id":34624,"nodeType":"IfStatement","src":"6550:167:40","trueBody":{"id":34615,"nodeType":"Block","src":"6563:74:40","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34609,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34591,"src":"6585:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":34610,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34581,"src":"6598:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6585:19:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"6d61726b5072696365203c207072696365","id":34612,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6606:19:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_e2c8241340f111591bf8f249b6e50205d0fc7a92cf488fadac5d60c809e440dc","typeString":"literal_string \"markPrice < price\""},"value":"markPrice < price"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e2c8241340f111591bf8f249b6e50205d0fc7a92cf488fadac5d60c809e440dc","typeString":"literal_string \"markPrice < price\""}],"id":34608,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6577:7:40","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":34613,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6577:49:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34614,"nodeType":"ExpressionStatement","src":"6577:49:40"}]}},{"assignments":[34626],"declarations":[{"constant":false,"id":34626,"mutability":"mutable","name":"timelock","nameLocation":"6735:8:40","nodeType":"VariableDeclaration","scope":34682,"src":"6727:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34625,"name":"address","nodeType":"ElementaryTypeName","src":"6727:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34632,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":34628,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34587,"src":"6753:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34627,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"6746:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34629,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6746:14:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6761:3:40","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52054,"src":"6746:18:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":34631,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6746:20:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6727:39:40"},{"expression":{"arguments":[{"id":34637,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34567,"src":"6915:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34638,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34569,"src":"6925:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34639,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34571,"src":"6943:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34640,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34577,"src":"6956:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":34641,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34575,"src":"6965:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34642,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34591,"src":"6977:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":34643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6988:5:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"arguments":[{"id":34634,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34083,"src":"6865:13:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34633,"name":"IShortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52008,"src":"6850:14:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IShortsTracker_$52008_$","typeString":"type(contract IShortsTracker)"}},"id":34635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6850:29:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IShortsTracker_$52008","typeString":"contract IShortsTracker"}},"id":34636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6880:21:40","memberName":"updateGlobalShortData","nodeType":"MemberAccess","referencedDeclaration":51986,"src":"6850:51:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (address,address,address,bool,uint256,uint256,bool) external"}},"id":34644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6850:153:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34645,"nodeType":"ExpressionStatement","src":"6850:153:40"},{"expression":{"arguments":[{"id":34650,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34587,"src":"7049:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34647,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34626,"src":"7024:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34646,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71674,"src":"7014:9:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$71674_$","typeString":"type(contract ITimelock)"}},"id":34648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$71674","typeString":"contract ITimelock"}},"id":34649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7034:14:40","memberName":"enableLeverage","nodeType":"MemberAccess","referencedDeclaration":71312,"src":"7014:34:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":34651,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:42:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34652,"nodeType":"ExpressionStatement","src":"7014:42:40"},{"assignments":[34654],"declarations":[{"constant":false,"id":34654,"mutability":"mutable","name":"amountOut","nameLocation":"7074:9:40","nodeType":"VariableDeclaration","scope":34682,"src":"7066:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34653,"name":"uint256","nodeType":"ElementaryTypeName","src":"7066:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34667,"initialValue":{"arguments":[{"id":34659,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34567,"src":"7138:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34660,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34569,"src":"7148:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34661,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34571,"src":"7166:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34662,"name":"_collateralDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34573,"src":"7179:16:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34663,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34575,"src":"7197:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34664,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34577,"src":"7209:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":34665,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34579,"src":"7218:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34656,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34085,"src":"7094:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34655,"name":"IRouter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51936,"src":"7086:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IRouter_$51936_$","typeString":"type(contract IRouter)"}},"id":34657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7086:15:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$51936","typeString":"contract IRouter"}},"id":34658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7102:22:40","memberName":"pluginDecreasePosition","nodeType":"MemberAccess","referencedDeclaration":51923,"src":"7086:38:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,address,uint256,uint256,bool,address) external returns (uint256)"}},"id":34666,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7086:151:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7066:171:40"},{"expression":{"arguments":[{"id":34672,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34587,"src":"7283:6:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34669,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34626,"src":"7257:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34668,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71674,"src":"7247:9:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$71674_$","typeString":"type(contract ITimelock)"}},"id":34670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7247:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$71674","typeString":"contract ITimelock"}},"id":34671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7267:15:40","memberName":"disableLeverage","nodeType":"MemberAccess","referencedDeclaration":71317,"src":"7247:35:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":34673,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7247:43:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34674,"nodeType":"ExpressionStatement","src":"7247:43:40"},{"expression":{"arguments":[{"id":34676,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34567,"src":"7331:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34677,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34575,"src":"7341:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":34675,"name":"_emitDecreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35015,"src":"7301:29:40","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":34678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7301:51:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34679,"nodeType":"ExpressionStatement","src":"7301:51:40"},{"expression":{"id":34680,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34654,"src":"7370:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":34585,"id":34681,"nodeType":"Return","src":"7363:16:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_decreasePosition","nameLocation":"6111:17:40","parameters":{"id":34582,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34567,"mutability":"mutable","name":"_account","nameLocation":"6146:8:40","nodeType":"VariableDeclaration","scope":34683,"src":"6138:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34566,"name":"address","nodeType":"ElementaryTypeName","src":"6138:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34569,"mutability":"mutable","name":"_collateralToken","nameLocation":"6172:16:40","nodeType":"VariableDeclaration","scope":34683,"src":"6164:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34568,"name":"address","nodeType":"ElementaryTypeName","src":"6164:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34571,"mutability":"mutable","name":"_indexToken","nameLocation":"6206:11:40","nodeType":"VariableDeclaration","scope":34683,"src":"6198:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34570,"name":"address","nodeType":"ElementaryTypeName","src":"6198:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34573,"mutability":"mutable","name":"_collateralDelta","nameLocation":"6235:16:40","nodeType":"VariableDeclaration","scope":34683,"src":"6227:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34572,"name":"uint256","nodeType":"ElementaryTypeName","src":"6227:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34575,"mutability":"mutable","name":"_sizeDelta","nameLocation":"6269:10:40","nodeType":"VariableDeclaration","scope":34683,"src":"6261:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34574,"name":"uint256","nodeType":"ElementaryTypeName","src":"6261:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34577,"mutability":"mutable","name":"_isLong","nameLocation":"6294:7:40","nodeType":"VariableDeclaration","scope":34683,"src":"6289:12:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34576,"name":"bool","nodeType":"ElementaryTypeName","src":"6289:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":34579,"mutability":"mutable","name":"_receiver","nameLocation":"6319:9:40","nodeType":"VariableDeclaration","scope":34683,"src":"6311:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34578,"name":"address","nodeType":"ElementaryTypeName","src":"6311:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34581,"mutability":"mutable","name":"_price","nameLocation":"6346:6:40","nodeType":"VariableDeclaration","scope":34683,"src":"6338:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34580,"name":"uint256","nodeType":"ElementaryTypeName","src":"6338:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6128:230:40"},"returnParameters":{"id":34585,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34584,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":34683,"src":"6377:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34583,"name":"uint256","nodeType":"ElementaryTypeName","src":"6377:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6376:9:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34717,"nodeType":"FunctionDefinition","src":"7392:263:40","nodes":[],"body":{"id":34716,"nodeType":"Block","src":"7494:161:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34695,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34686,"src":"7508:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34696,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7514:6:40","memberName":"length","nodeType":"MemberAccess","src":"7508:12:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"32","id":34697,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7524:1:40","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"7508:17:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34711,"nodeType":"IfStatement","src":"7504:105:40","trueBody":{"id":34710,"nodeType":"Block","src":"7527:82:40","statements":[{"expression":{"arguments":[{"baseExpression":{"id":34700,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34686,"src":"7559:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34702,"indexExpression":{"hexValue":"30","id":34701,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7565:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7559:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":34703,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34686,"src":"7569:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34705,"indexExpression":{"hexValue":"31","id":34704,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7575:1:40","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7569:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34706,"name":"_minOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34688,"src":"7579:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34707,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34690,"src":"7588:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":34699,"name":"_vaultSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34751,"src":"7548:10:40","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,uint256,address) returns (uint256)"}},"id":34708,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7548:50:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":34694,"id":34709,"nodeType":"Return","src":"7541:57:40"}]}},{"expression":{"arguments":[{"hexValue":"696e76616c6964205f706174682e6c656e677468","id":34713,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7625:22:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_6bb25b40f00c36221d697676d65ea34330ca08a4aa30770d38fc6db73b948613","typeString":"literal_string \"invalid _path.length\""},"value":"invalid _path.length"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6bb25b40f00c36221d697676d65ea34330ca08a4aa30770d38fc6db73b948613","typeString":"literal_string \"invalid _path.length\""}],"id":34712,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"7618:6:40","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":34714,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7618:30:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34715,"nodeType":"ExpressionStatement","src":"7618:30:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_swap","nameLocation":"7401:5:40","parameters":{"id":34691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34686,"mutability":"mutable","name":"_path","nameLocation":"7424:5:40","nodeType":"VariableDeclaration","scope":34717,"src":"7407:22:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":34684,"name":"address","nodeType":"ElementaryTypeName","src":"7407:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34685,"nodeType":"ArrayTypeName","src":"7407:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":34688,"mutability":"mutable","name":"_minOut","nameLocation":"7439:7:40","nodeType":"VariableDeclaration","scope":34717,"src":"7431:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34687,"name":"uint256","nodeType":"ElementaryTypeName","src":"7431:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34690,"mutability":"mutable","name":"_receiver","nameLocation":"7456:9:40","nodeType":"VariableDeclaration","scope":34717,"src":"7448:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34689,"name":"address","nodeType":"ElementaryTypeName","src":"7448:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7406:60:40"},"returnParameters":{"id":34694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34693,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":34717,"src":"7485:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34692,"name":"uint256","nodeType":"ElementaryTypeName","src":"7485:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7484:9:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34751,"nodeType":"FunctionDefinition","src":"7661:318:40","nodes":[],"body":{"id":34750,"nodeType":"Block","src":"7801:178:40","nodes":[],"statements":[{"assignments":[34731],"declarations":[{"constant":false,"id":34731,"mutability":"mutable","name":"amountOut","nameLocation":"7819:9:40","nodeType":"VariableDeclaration","scope":34750,"src":"7811:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34730,"name":"uint256","nodeType":"ElementaryTypeName","src":"7811:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34740,"initialValue":{"arguments":[{"id":34736,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34719,"src":"7850:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34737,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34721,"src":"7860:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34738,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34725,"src":"7871:9:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34733,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"7838:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34732,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"7831:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7831:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7845:4:40","memberName":"swap","nodeType":"MemberAccess","referencedDeclaration":52315,"src":"7831:18:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,address) external returns (uint256)"}},"id":34739,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7831:50:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7811:70:40"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34742,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34731,"src":"7899:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":34743,"name":"_minOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34723,"src":"7912:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7899:20:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"696e73756666696369656e7420616d6f756e744f7574","id":34745,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7921:24:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_a4ffc30c61c8fce619a74c55696733a3aed4f85d934ab1f5cb72e5818cb86f41","typeString":"literal_string \"insufficient amountOut\""},"value":"insufficient amountOut"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_a4ffc30c61c8fce619a74c55696733a3aed4f85d934ab1f5cb72e5818cb86f41","typeString":"literal_string \"insufficient amountOut\""}],"id":34741,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"7891:7:40","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":34746,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7891:55:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34747,"nodeType":"ExpressionStatement","src":"7891:55:40"},{"expression":{"id":34748,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34731,"src":"7963:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":34729,"id":34749,"nodeType":"Return","src":"7956:16:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_vaultSwap","nameLocation":"7670:10:40","parameters":{"id":34726,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34719,"mutability":"mutable","name":"_tokenIn","nameLocation":"7689:8:40","nodeType":"VariableDeclaration","scope":34751,"src":"7681:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34718,"name":"address","nodeType":"ElementaryTypeName","src":"7681:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34721,"mutability":"mutable","name":"_tokenOut","nameLocation":"7707:9:40","nodeType":"VariableDeclaration","scope":34751,"src":"7699:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34720,"name":"address","nodeType":"ElementaryTypeName","src":"7699:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34723,"mutability":"mutable","name":"_minOut","nameLocation":"7726:7:40","nodeType":"VariableDeclaration","scope":34751,"src":"7718:15:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34722,"name":"uint256","nodeType":"ElementaryTypeName","src":"7718:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34725,"mutability":"mutable","name":"_receiver","nameLocation":"7743:9:40","nodeType":"VariableDeclaration","scope":34751,"src":"7735:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34724,"name":"address","nodeType":"ElementaryTypeName","src":"7735:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7680:73:40"},"returnParameters":{"id":34729,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34728,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":34751,"src":"7788:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34727,"name":"uint256","nodeType":"ElementaryTypeName","src":"7788:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7787:9:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34770,"nodeType":"FunctionDefinition","src":"7985:135:40","nodes":[],"body":{"id":34769,"nodeType":"Block","src":"8020:100:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34754,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8034:3:40","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":34755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8038:5:40","memberName":"value","nodeType":"MemberAccess","src":"8034:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":34756,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8047:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8034:14:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34768,"nodeType":"IfStatement","src":"8030:84:40","trueBody":{"id":34767,"nodeType":"Block","src":"8050:64:40","statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":34759,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34087,"src":"8070:4:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34758,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80584,"src":"8064:5:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$80584_$","typeString":"type(contract IWETH)"}},"id":34760,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8064:11:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"id":34761,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8076:7:40","memberName":"deposit","nodeType":"MemberAccess","referencedDeclaration":80569,"src":"8064:19:40","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":34764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":34762,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8091:3:40","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":34763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8095:5:40","memberName":"value","nodeType":"MemberAccess","src":"8091:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8064:37:40","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":34765,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8064:39:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34766,"nodeType":"ExpressionStatement","src":"8064:39:40"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_transferInETH","nameLocation":"7994:14:40","parameters":{"id":34752,"nodeType":"ParameterList","parameters":[],"src":"8008:2:40"},"returnParameters":{"id":34753,"nodeType":"ParameterList","parameters":[],"src":"8020:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34821,"nodeType":"FunctionDefinition","src":"8126:514:40","nodes":[],"body":{"id":34820,"nodeType":"Block","src":"8233:407:40","nodes":[],"statements":[{"assignments":[34779],"declarations":[{"constant":false,"id":34779,"mutability":"mutable","name":"_weth","nameLocation":"8249:5:40","nodeType":"VariableDeclaration","scope":34820,"src":"8243:11:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"},"typeName":{"id":34778,"nodeType":"UserDefinedTypeName","pathNode":{"id":34777,"name":"IWETH","nameLocations":["8243:5:40"],"nodeType":"IdentifierPath","referencedDeclaration":80584,"src":"8243:5:40"},"referencedDeclaration":80584,"src":"8243:5:40","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"visibility":"internal"}],"id":34783,"initialValue":{"arguments":[{"id":34781,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34087,"src":"8263:4:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34780,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80584,"src":"8257:5:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$80584_$","typeString":"type(contract IWETH)"}},"id":34782,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8257:11:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"nodeType":"VariableDeclarationStatement","src":"8243:25:40"},{"expression":{"arguments":[{"id":34787,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34772,"src":"8293:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":34784,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34779,"src":"8278:5:40","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"id":34786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8284:8:40","memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":80583,"src":"8278:14:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":34788,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8278:26:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34789,"nodeType":"ExpressionStatement","src":"8278:26:40"},{"assignments":[34791,null],"declarations":[{"constant":false,"id":34791,"mutability":"mutable","name":"success","nameLocation":"8321:7:40","nodeType":"VariableDeclaration","scope":34820,"src":"8316:12:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34790,"name":"bool","nodeType":"ElementaryTypeName","src":"8316:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":34799,"initialValue":{"arguments":[{"hexValue":"","id":34797,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8418:2:40","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"id":34792,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34774,"src":"8358:9:40","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":34793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8368:4:40","memberName":"call","nodeType":"MemberAccess","src":"8358:14:40","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":34796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value","gas"],"nodeType":"FunctionCallOptions","options":[{"id":34794,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34772,"src":"8380:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34795,"name":"ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34092,"src":"8397:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8358:59:40","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$gasvalue","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":34798,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8358:63:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"8315:106:40"},{"condition":{"id":34800,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34791,"src":"8436:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34802,"nodeType":"IfStatement","src":"8432:20:40","trueBody":{"functionReturnParameters":34776,"id":34801,"nodeType":"Return","src":"8445:7:40"}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":[],"expression":{"id":34803,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34779,"src":"8543:5:40","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"id":34805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8549:7:40","memberName":"deposit","nodeType":"MemberAccess","referencedDeclaration":80569,"src":"8543:13:40","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":34807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":34806,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34772,"src":"8564:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8543:32:40","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":34808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8543:34:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34809,"nodeType":"ExpressionStatement","src":"8543:34:40"},{"expression":{"arguments":[{"arguments":[{"id":34815,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34774,"src":"8610:9:40","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":34814,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8602:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":34813,"name":"address","nodeType":"ElementaryTypeName","src":"8602:7:40","typeDescriptions":{}}},"id":34816,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8602:18:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34817,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34772,"src":"8622:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":34810,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34779,"src":"8587:5:40","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$80584","typeString":"contract IWETH"}},"id":34812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8593:8:40","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":80578,"src":"8587:14:40","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":34818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8587:46:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34819,"nodeType":"ExpressionStatement","src":"8587:46:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_transferOutETHWithGasLimitFallbackToWeth","nameLocation":"8135:41:40","parameters":{"id":34775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34772,"mutability":"mutable","name":"_amountOut","nameLocation":"8185:10:40","nodeType":"VariableDeclaration","scope":34821,"src":"8177:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34771,"name":"uint256","nodeType":"ElementaryTypeName","src":"8177:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34774,"mutability":"mutable","name":"_receiver","nameLocation":"8213:9:40","nodeType":"VariableDeclaration","scope":34821,"src":"8197:25:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":34773,"name":"address","nodeType":"ElementaryTypeName","src":"8197:15:40","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"}],"src":"8176:47:40"},"returnParameters":{"id":34776,"nodeType":"ParameterList","parameters":[],"src":"8233:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34897,"nodeType":"FunctionDefinition","src":"8646:806:40","nodes":[],"body":{"id":34896,"nodeType":"Block","src":"8865:587:40","nodes":[],"statements":[{"assignments":[34840],"declarations":[{"constant":false,"id":34840,"mutability":"mutable","name":"shouldDeductFee","nameLocation":"8880:15:40","nodeType":"VariableDeclaration","scope":34896,"src":"8875:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34839,"name":"bool","nodeType":"ElementaryTypeName","src":"8875:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":34852,"initialValue":{"arguments":[{"id":34843,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"8941:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34844,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34823,"src":"8948:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34845,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34826,"src":"8958:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":34846,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34828,"src":"8965:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34847,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34830,"src":"8976:11:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34848,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34832,"src":"8989:7:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":34849,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34834,"src":"8998:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34850,"name":"increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34097,"src":"9010:25:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":34841,"name":"PositionUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42703,"src":"8898:13:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PositionUtils_$42703_$","typeString":"type(library PositionUtils)"}},"id":34842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8912:15:40","memberName":"shouldDeductFee","nodeType":"MemberAccess","referencedDeclaration":42599,"src":"8898:29:40","typeDescriptions":{"typeIdentifier":"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,address[] memory,uint256,address,bool,uint256,uint256) returns (bool)"}},"id":34851,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8898:147:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8875:170:40"},{"condition":{"id":34853,"name":"shouldDeductFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34840,"src":"9060:15:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34893,"nodeType":"IfStatement","src":"9056:363:40","trueBody":{"id":34892,"nodeType":"Block","src":"9077:342:40","statements":[{"assignments":[34855],"declarations":[{"constant":false,"id":34855,"mutability":"mutable","name":"afterFeeAmount","nameLocation":"9099:14:40","nodeType":"VariableDeclaration","scope":34892,"src":"9091:22:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34854,"name":"uint256","nodeType":"ElementaryTypeName","src":"9091:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34864,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34856,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34828,"src":"9116:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34857,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34077,"src":"9129:20:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":34858,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34094,"src":"9152:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9129:33:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":34860,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9128:35:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9116:47:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":34862,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34077,"src":"9166:20:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9116:70:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9091:95:40"},{"assignments":[34866],"declarations":[{"constant":false,"id":34866,"mutability":"mutable","name":"feeAmount","nameLocation":"9208:9:40","nodeType":"VariableDeclaration","scope":34892,"src":"9200:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34865,"name":"uint256","nodeType":"ElementaryTypeName","src":"9200:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":34870,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34867,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34828,"src":"9220:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":34868,"name":"afterFeeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34855,"src":"9232:14:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9220:26:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9200:46:40"},{"assignments":[34872],"declarations":[{"constant":false,"id":34872,"mutability":"mutable","name":"feeToken","nameLocation":"9268:8:40","nodeType":"VariableDeclaration","scope":34892,"src":"9260:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34871,"name":"address","nodeType":"ElementaryTypeName","src":"9260:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34879,"initialValue":{"baseExpression":{"id":34873,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34826,"src":"9279:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34878,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34874,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34826,"src":"9285:5:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":34875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9291:6:40","memberName":"length","nodeType":"MemberAccess","src":"9285:12:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":34876,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9300:1:40","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9285:16:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9279:23:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9260:42:40"},{"expression":{"id":34888,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":34880,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34103,"src":"9316:11:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34882,"indexExpression":{"id":34881,"name":"feeToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34872,"src":"9328:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9316:21:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":34887,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":34883,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34103,"src":"9340:11:40","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":34885,"indexExpression":{"id":34884,"name":"feeToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34872,"src":"9352:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9340:21:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":34886,"name":"feeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34866,"src":"9364:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9340:33:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9316:57:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34889,"nodeType":"ExpressionStatement","src":"9316:57:40"},{"expression":{"id":34890,"name":"afterFeeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34855,"src":"9394:14:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":34838,"id":34891,"nodeType":"Return","src":"9387:21:40"}]}},{"expression":{"id":34894,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34828,"src":"9436:9:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":34838,"id":34895,"nodeType":"Return","src":"9429:16:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_collectFees","nameLocation":"8655:12:40","parameters":{"id":34835,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34823,"mutability":"mutable","name":"_account","nameLocation":"8685:8:40","nodeType":"VariableDeclaration","scope":34897,"src":"8677:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34822,"name":"address","nodeType":"ElementaryTypeName","src":"8677:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34826,"mutability":"mutable","name":"_path","nameLocation":"8720:5:40","nodeType":"VariableDeclaration","scope":34897,"src":"8703:22:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":34824,"name":"address","nodeType":"ElementaryTypeName","src":"8703:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34825,"nodeType":"ArrayTypeName","src":"8703:9:40","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":34828,"mutability":"mutable","name":"_amountIn","nameLocation":"8743:9:40","nodeType":"VariableDeclaration","scope":34897,"src":"8735:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34827,"name":"uint256","nodeType":"ElementaryTypeName","src":"8735:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34830,"mutability":"mutable","name":"_indexToken","nameLocation":"8770:11:40","nodeType":"VariableDeclaration","scope":34897,"src":"8762:19:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34829,"name":"address","nodeType":"ElementaryTypeName","src":"8762:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34832,"mutability":"mutable","name":"_isLong","nameLocation":"8796:7:40","nodeType":"VariableDeclaration","scope":34897,"src":"8791:12:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":34831,"name":"bool","nodeType":"ElementaryTypeName","src":"8791:4:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":34834,"mutability":"mutable","name":"_sizeDelta","nameLocation":"8821:10:40","nodeType":"VariableDeclaration","scope":34897,"src":"8813:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34833,"name":"uint256","nodeType":"ElementaryTypeName","src":"8813:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8667:170:40"},"returnParameters":{"id":34838,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34837,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":34897,"src":"8856:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34836,"name":"uint256","nodeType":"ElementaryTypeName","src":"8856:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8855:9:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":34956,"nodeType":"FunctionDefinition","src":"9458:566:40","nodes":[],"body":{"id":34955,"nodeType":"Block","src":"9544:480:40","nodes":[],"statements":[{"assignments":[34905],"declarations":[{"constant":false,"id":34905,"mutability":"mutable","name":"_referralStorage","nameLocation":"9562:16:40","nodeType":"VariableDeclaration","scope":34955,"src":"9554:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34904,"name":"address","nodeType":"ElementaryTypeName","src":"9554:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34907,"initialValue":{"id":34906,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34099,"src":"9581:15:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9554:42:40"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":34913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34908,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"9610:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":34911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9638:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":34910,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9630:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":34909,"name":"address","nodeType":"ElementaryTypeName","src":"9630:7:40","typeDescriptions":{}}},"id":34912,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9630:10:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9610:30:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34915,"nodeType":"IfStatement","src":"9606:43:40","trueBody":{"functionReturnParameters":34903,"id":34914,"nodeType":"Return","src":"9642:7:40"}},{"assignments":[34917,34919],"declarations":[{"constant":false,"id":34917,"mutability":"mutable","name":"referralCode","nameLocation":"9668:12:40","nodeType":"VariableDeclaration","scope":34955,"src":"9660:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34916,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9660:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34919,"mutability":"mutable","name":"referrer","nameLocation":"9690:8:40","nodeType":"VariableDeclaration","scope":34955,"src":"9682:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34918,"name":"address","nodeType":"ElementaryTypeName","src":"9682:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34926,"initialValue":{"arguments":[{"id":34924,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34899,"src":"9759:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34921,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"9719:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34920,"name":"IReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72261,"src":"9702:16:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IReferralStorage_$72261_$","typeString":"type(contract IReferralStorage)"}},"id":34922,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9702:34:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IReferralStorage_$72261","typeString":"contract IReferralStorage"}},"id":34923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9737:21:40","memberName":"getTraderReferralInfo","nodeType":"MemberAccess","referencedDeclaration":72230,"src":"9702:56:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bytes32_$_t_address_$","typeString":"function (address) view external returns (bytes32,address)"}},"id":34925,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9702:66:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_address_$","typeString":"tuple(bytes32,address)"}},"nodeType":"VariableDeclarationStatement","src":"9659:109:40"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":34932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34927,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34917,"src":"9782:12:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":34930,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9806:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":34929,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9798:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":34928,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9798:7:40","typeDescriptions":{}}},"id":34931,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9798:10:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"9782:26:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34934,"nodeType":"IfStatement","src":"9778:39:40","trueBody":{"functionReturnParameters":34903,"id":34933,"nodeType":"Return","src":"9810:7:40"}},{"assignments":[34936],"declarations":[{"constant":false,"id":34936,"mutability":"mutable","name":"timelock","nameLocation":"9835:8:40","nodeType":"VariableDeclaration","scope":34955,"src":"9827:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34935,"name":"address","nodeType":"ElementaryTypeName","src":"9827:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34942,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":34938,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"9853:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34937,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"9846:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34939,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9846:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9860:3:40","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52054,"src":"9846:17:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":34941,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9846:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9827:38:40"},{"eventCall":{"arguments":[{"id":34944,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34899,"src":"9919:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":34945,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34901,"src":"9929:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":34947,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34936,"src":"9951:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34946,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71674,"src":"9941:9:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$71674_$","typeString":"type(contract ITimelock)"}},"id":34948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9941:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$71674","typeString":"contract ITimelock"}},"id":34949,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9961:20:40","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":71144,"src":"9941:40:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":34950,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9941:42:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":34951,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34917,"src":"9985:12:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":34952,"name":"referrer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34919,"src":"9999:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":34943,"name":"IncreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34164,"src":"9881:24:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_bytes32_$_t_address_$returns$__$","typeString":"function (address,uint256,uint256,bytes32,address)"}},"id":34953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9881:136:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":34954,"nodeType":"EmitStatement","src":"9876:141:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_emitIncreasePositionReferral","nameLocation":"9467:29:40","parameters":{"id":34902,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34899,"mutability":"mutable","name":"_account","nameLocation":"9505:8:40","nodeType":"VariableDeclaration","scope":34956,"src":"9497:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34898,"name":"address","nodeType":"ElementaryTypeName","src":"9497:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34901,"mutability":"mutable","name":"_sizeDelta","nameLocation":"9523:10:40","nodeType":"VariableDeclaration","scope":34956,"src":"9515:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34900,"name":"uint256","nodeType":"ElementaryTypeName","src":"9515:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9496:38:40"},"returnParameters":{"id":34903,"nodeType":"ParameterList","parameters":[],"src":"9544:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35015,"nodeType":"FunctionDefinition","src":"10030:566:40","nodes":[],"body":{"id":35014,"nodeType":"Block","src":"10116:480:40","nodes":[],"statements":[{"assignments":[34964],"declarations":[{"constant":false,"id":34964,"mutability":"mutable","name":"_referralStorage","nameLocation":"10134:16:40","nodeType":"VariableDeclaration","scope":35014,"src":"10126:24:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34963,"name":"address","nodeType":"ElementaryTypeName","src":"10126:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34966,"initialValue":{"id":34965,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34099,"src":"10153:15:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10126:42:40"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":34972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34967,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34964,"src":"10182:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":34970,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10210:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":34969,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10202:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":34968,"name":"address","nodeType":"ElementaryTypeName","src":"10202:7:40","typeDescriptions":{}}},"id":34971,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10202:10:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10182:30:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34974,"nodeType":"IfStatement","src":"10178:43:40","trueBody":{"functionReturnParameters":34962,"id":34973,"nodeType":"Return","src":"10214:7:40"}},{"assignments":[34976,34978],"declarations":[{"constant":false,"id":34976,"mutability":"mutable","name":"referralCode","nameLocation":"10240:12:40","nodeType":"VariableDeclaration","scope":35014,"src":"10232:20:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34975,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10232:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34978,"mutability":"mutable","name":"referrer","nameLocation":"10262:8:40","nodeType":"VariableDeclaration","scope":35014,"src":"10254:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34977,"name":"address","nodeType":"ElementaryTypeName","src":"10254:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":34985,"initialValue":{"arguments":[{"id":34983,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34958,"src":"10331:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":34980,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34964,"src":"10291:16:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34979,"name":"IReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72261,"src":"10274:16:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IReferralStorage_$72261_$","typeString":"type(contract IReferralStorage)"}},"id":34981,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10274:34:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IReferralStorage_$72261","typeString":"contract IReferralStorage"}},"id":34982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10309:21:40","memberName":"getTraderReferralInfo","nodeType":"MemberAccess","referencedDeclaration":72230,"src":"10274:56:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bytes32_$_t_address_$","typeString":"function (address) view external returns (bytes32,address)"}},"id":34984,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10274:66:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_address_$","typeString":"tuple(bytes32,address)"}},"nodeType":"VariableDeclarationStatement","src":"10231:109:40"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":34991,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":34986,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34976,"src":"10354:12:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":34989,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10378:1:40","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":34988,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10370:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":34987,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10370:7:40","typeDescriptions":{}}},"id":34990,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10370:10:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"10354:26:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":34993,"nodeType":"IfStatement","src":"10350:39:40","trueBody":{"functionReturnParameters":34962,"id":34992,"nodeType":"Return","src":"10382:7:40"}},{"assignments":[34995],"declarations":[{"constant":false,"id":34995,"mutability":"mutable","name":"timelock","nameLocation":"10407:8:40","nodeType":"VariableDeclaration","scope":35014,"src":"10399:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34994,"name":"address","nodeType":"ElementaryTypeName","src":"10399:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35001,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":34997,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34081,"src":"10425:5:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":34996,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52650,"src":"10418:6:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$52650_$","typeString":"type(contract IVault)"}},"id":34998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10418:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":34999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10432:3:40","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52054,"src":"10418:17:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":35000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10418:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10399:38:40"},{"eventCall":{"arguments":[{"id":35003,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34958,"src":"10491:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35004,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34960,"src":"10501:10:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35006,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34995,"src":"10523:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35005,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71674,"src":"10513:9:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$71674_$","typeString":"type(contract ITimelock)"}},"id":35007,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10513:19:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$71674","typeString":"contract ITimelock"}},"id":35008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10533:20:40","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":71144,"src":"10513:40:40","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":35009,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10513:42:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35010,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34976,"src":"10557:12:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":35011,"name":"referrer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34978,"src":"10571:8:40","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":35002,"name":"DecreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34176,"src":"10453:24:40","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_bytes32_$_t_address_$returns$__$","typeString":"function (address,uint256,uint256,bytes32,address)"}},"id":35012,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10453:136:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35013,"nodeType":"EmitStatement","src":"10448:141:40"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_emitDecreasePositionReferral","nameLocation":"10039:29:40","parameters":{"id":34961,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34958,"mutability":"mutable","name":"_account","nameLocation":"10077:8:40","nodeType":"VariableDeclaration","scope":35015,"src":"10069:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34957,"name":"address","nodeType":"ElementaryTypeName","src":"10069:7:40","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34960,"mutability":"mutable","name":"_sizeDelta","nameLocation":"10095:10:40","nodeType":"VariableDeclaration","scope":35015,"src":"10087:18:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34959,"name":"uint256","nodeType":"ElementaryTypeName","src":"10087:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10068:38:40"},"returnParameters":{"id":34962,"nodeType":"ParameterList","parameters":[],"src":"10116:0:40"},"scope":35016,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":34062,"name":"IBasePositionManager","nameLocations":["675:20:40"],"nodeType":"IdentifierPath","referencedDeclaration":51394,"src":"675:20:40"},"id":34063,"nodeType":"InheritanceSpecifier","src":"675:20:40"},{"baseName":{"id":34064,"name":"ReentrancyGuard","nameLocations":["697:15:40"],"nodeType":"IdentifierPath","referencedDeclaration":58850,"src":"697:15:40"},"id":34065,"nodeType":"InheritanceSpecifier","src":"697:15:40"},{"baseName":{"id":34066,"name":"Governable","nameLocations":["714:10:40"],"nodeType":"IdentifierPath","referencedDeclaration":32410,"src":"714:10:40"},"id":34067,"nodeType":"InheritanceSpecifier","src":"714:10:40"}],"canonicalName":"BasePositionManager","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[35016,32410,58850,51394],"name":"BasePositionManager","nameLocation":"652:19:40","scope":35017,"usedErrors":[56196,56676,56681,56684,58795]}],"license":"MIT"},"id":40}