{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_router","type":"address","internalType":"address"},{"name":"_shortsTracker","type":"address","internalType":"address"},{"name":"_weth","type":"address","internalType":"address"},{"name":"_depositFee","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"BASIS_POINTS_DIVISOR","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"admin","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"approve","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_spender","type":"address","internalType":"address"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"depositFee","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"ethTransferGasLimit","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"feeReserves","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gov","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"increasePositionBufferBps","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxGlobalLongSizes","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxGlobalShortSizes","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"referralStorage","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"router","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"sendValue","inputs":[{"name":"_receiver","type":"address","internalType":"address payable"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAdmin","inputs":[{"name":"_admin","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setDepositFee","inputs":[{"name":"_depositFee","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setEthTransferGasLimit","inputs":[{"name":"_ethTransferGasLimit","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setGov","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setIncreasePositionBufferBps","inputs":[{"name":"_increasePositionBufferBps","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setMaxGlobalSizes","inputs":[{"name":"_tokens","type":"address[]","internalType":"address[]"},{"name":"_longSizes","type":"uint256[]","internalType":"uint256[]"},{"name":"_shortSizes","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setReferralStorage","inputs":[{"name":"_referralStorage","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"shortsTracker","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"weth","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"withdrawFees","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_receiver","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"DecreasePositionReferral","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"},{"name":"sizeDelta","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"marginFeeBasisPoints","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"referralCode","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"referrer","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"IncreasePositionReferral","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"},{"name":"sizeDelta","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"marginFeeBasisPoints","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"referralCode","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"referrer","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SetAdmin","inputs":[{"name":"admin","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SetDepositFee","inputs":[{"name":"depositFee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetEthTransferGasLimit","inputs":[{"name":"ethTransferGasLimit","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetIncreasePositionBufferBps","inputs":[{"name":"increasePositionBufferBps","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SetMaxGlobalSizes","inputs":[{"name":"tokens","type":"address[]","indexed":false,"internalType":"address[]"},{"name":"longSizes","type":"uint256[]","indexed":false,"internalType":"uint256[]"},{"name":"shortSizes","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"SetReferralStorage","inputs":[{"name":"referralStorage","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"WithdrawFees","inputs":[{"name":"token","type":"address","indexed":false,"internalType":"address"},{"name":"receiver","type":"address","indexed":false,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AddressEmptyCode","inputs":[{"name":"target","type":"address","internalType":"address"}]},{"type":"error","name":"AddressInsufficientBalance","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"FailedInnerCall","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60806040526207a12060075560646009553480156200001d57600080fd5b5060405162001294380380620012948339810160408190526200004091620000d2565b600160008190558054336001600160a01b031991821681179092556003805482166001600160a01b039889161790556005805482169688169690961790955560068054861693871693909317909255600855600480548416929094169190911790925560028054909116909117905562000139565b80516001600160a01b0381168114620000cd57600080fd5b919050565b600080600080600060a08688031215620000eb57600080fd5b620000f686620000b5565b94506200010660208701620000b5565b93506200011660408701620000b5565b92506200012660608701620000b5565b9150608086015190509295509295909350565b61114b80620001496000396000f3fe60806040526004361061014e5760003560e01c806367a52793116100b6578063e1f21c671161006f578063e1f21c6714610414578063ef12c67e14610434578063f255527814610454578063f851a44014610474578063f887ea4014610494578063fbfa77cf146104b457600080fd5b806367a527931461035b578063704b6c02146103715780639698d25a1461039157806398d1e03a146103be578063ae4d7f9a146103d4578063cfad57a2146103f457600080fd5b806324a084df1161010857806324a084df146102a55780632d79cf42146102c55780633a9b52ad146102db5780633fc8cef3146102fb578063490ae2101461031b578063657bc5d01461033b57600080fd5b80626cc35e146101aa5780631045c74e146101e7578063126082cf1461022257806312d43a51146102385780631ce9cb8f14610258578063233bfe3b1461028557600080fd5b366101a5576006546001600160a01b031633146101a35760405162461bcd60e51b815260206004820152600e60248201526d34b73b30b634b21039b2b73232b960911b60448201526064015b60405180910390fd5b005b600080fd5b3480156101b657600080fd5b50600a546101ca906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f357600080fd5b50610214610202366004610ced565b600c6020526000908152604090205481565b6040519081526020016101de565b34801561022e57600080fd5b5061021461271081565b34801561024457600080fd5b506001546101ca906001600160a01b031681565b34801561026457600080fd5b50610214610273366004610ced565b600b6020526000908152604090205481565b34801561029157600080fd5b506101a36102a0366004610d0a565b6104d4565b3480156102b157600080fd5b506101a36102c0366004610d23565b61053a565b3480156102d157600080fd5b5061021460075481565b3480156102e757600080fd5b506101a36102f6366004610d0a565b61057b565b34801561030757600080fd5b506006546101ca906001600160a01b031681565b34801561032757600080fd5b506101a3610336366004610d0a565b6105da565b34801561034757600080fd5b506004546101ca906001600160a01b031681565b34801561036757600080fd5b5061021460085481565b34801561037d57600080fd5b506101a361038c366004610ced565b610639565b34801561039d57600080fd5b506102146103ac366004610ced565b600d6020526000908152604090205481565b3480156103ca57600080fd5b5061021460095481565b3480156103e057600080fd5b506101a36103ef366004610ced565b6106b1565b34801561040057600080fd5b506101a361040f366004610ced565b610729565b34801561042057600080fd5b506101a361042f366004610d4f565b6107cb565b34801561044057600080fd5b506101a361044f366004610e66565b61086e565b34801561046057600080fd5b506101a361046f366004610f4c565b610990565b34801561048057600080fd5b506002546101ca906001600160a01b031681565b3480156104a057600080fd5b506005546101ca906001600160a01b031681565b3480156104c057600080fd5b506003546101ca906001600160a01b031681565b6002546001600160a01b031633146104fe5760405162461bcd60e51b815260040161019a90610f85565b60098190556040518181527f21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452906020015b60405180910390a150565b6001546001600160a01b031633146105645760405162461bcd60e51b815260040161019a90610fa8565b6105776001600160a01b03831682610a4c565b5050565b6002546001600160a01b031633146105a55760405162461bcd60e51b815260040161019a90610f85565b60078190556040518181527f4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c9060200161052f565b6002546001600160a01b031633146106045760405162461bcd60e51b815260040161019a90610f85565b60088190556040518181527f974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d83006759060200161052f565b6001546001600160a01b031633146106635760405162461bcd60e51b815260040161019a90610fa8565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a19060200161052f565b6002546001600160a01b031633146106db5760405162461bcd60e51b815260040161019a90610f85565b600a80546001600160a01b0319166001600160a01b0383169081179091556040519081527f828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a89060200161052f565b6001546001600160a01b031633146107535760405162461bcd60e51b815260040161019a90610fa8565b6001600160a01b0381166107a95760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f2061646472657373604482015260640161019a565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b031633146107f55760405162461bcd60e51b815260040161019a90610fa8565b60405163095ea7b360e01b81526001600160a01b0383811660048301526024820183905284169063095ea7b3906044016020604051808303816000875af1158015610844573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108689190610fd7565b50505050565b6002546001600160a01b031633146108985760405162461bcd60e51b815260040161019a90610f85565b60005b835181101561094f5760008482815181106108b8576108b8610ff9565b602002602001015190508382815181106108d4576108d4610ff9565b6020026020010151600c6000836001600160a01b03166001600160a01b031681526020019081526020016000208190555082828151811061091757610917610ff9565b6020908102919091018101516001600160a01b039092166000908152600d9091526040902055806109478161100f565b91505061089b565b507fae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b213983838360405161098393929190611071565b60405180910390a1505050565b6002546001600160a01b031633146109ba5760405162461bcd60e51b815260040161019a90610f85565b6001600160a01b0382166000908152600b6020526040812054908190036109e057505050565b6001600160a01b0383166000818152600b6020526040812055610a04908383610ae8565b604080516001600160a01b038086168252841660208201529081018290527f4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e490606001610983565b80471015610a6f5760405163cd78605960e01b815230600482015260240161019a565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610abc576040519150601f19603f3d011682016040523d82523d6000602084013e610ac1565b606091505b5050905080610ae357604051630a12f52160e11b815260040160405180910390fd5b505050565b604080516001600160a01b03848116602483015260448083018590528351808403909101815260649092019092526020810180516001600160e01b031663a9059cbb60e01b179052610ae391859190600090610b4690841683610b94565b90508051600014158015610b6b575080806020019051810190610b699190610fd7565b155b15610ae357604051635274afe760e01b81526001600160a01b038416600482015260240161019a565b6060610ba583836000610bac610bc5565b9392505050565b604051630a12f52160e11b815260040160405180910390fd5b606082471015610bea5760405163cd78605960e01b815230600482015260240161019a565b600080866001600160a01b03168587604051610c0691906110e6565b60006040518083038185875af1925050503d8060008114610c43576040519150601f19603f3d011682016040523d82523d6000602084013e610c48565b606091505b5091509150610c5987838387610c66565b925050505b949350505050565b60608315610cb4578251600003610cad57846001600160a01b03163b600003610cad57604051639996b31560e01b81526001600160a01b038616600482015260240161019a565b5081610c5e565b610c5e8383815115610cc95781518083602001fd5b610bac8163ffffffff16565b6001600160a01b0381168114610cea57600080fd5b50565b600060208284031215610cff57600080fd5b8135610ba581610cd5565b600060208284031215610d1c57600080fd5b5035919050565b60008060408385031215610d3657600080fd5b8235610d4181610cd5565b946020939093013593505050565b600080600060608486031215610d6457600080fd5b8335610d6f81610cd5565b92506020840135610d7f81610cd5565b929592945050506040919091013590565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610dcf57610dcf610d90565b604052919050565b600067ffffffffffffffff821115610df157610df1610d90565b5060051b60200190565b600082601f830112610e0c57600080fd5b81356020610e21610e1c83610dd7565b610da6565b82815260059290921b84018101918181019086841115610e4057600080fd5b8286015b84811015610e5b5780358352918301918301610e44565b509695505050505050565b600080600060608486031215610e7b57600080fd5b833567ffffffffffffffff80821115610e9357600080fd5b818601915086601f830112610ea757600080fd5b81356020610eb7610e1c83610dd7565b82815260059290921b8401810191818101908a841115610ed657600080fd5b948201945b83861015610efd578535610eee81610cd5565b82529482019490820190610edb565b97505087013592505080821115610f1357600080fd5b610f1f87838801610dfb565b93506040860135915080821115610f3557600080fd5b50610f4286828701610dfb565b9150509250925092565b60008060408385031215610f5f57600080fd5b8235610f6a81610cd5565b91506020830135610f7a81610cd5565b809150509250929050565b6020808252600990820152683337b93134b23232b760b91b604082015260600190565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b600060208284031215610fe957600080fd5b81518015158114610ba557600080fd5b634e487b7160e01b600052603260045260246000fd5b60006001820161102f57634e487b7160e01b600052601160045260246000fd5b5060010190565b600081518084526020808501945080840160005b838110156110665781518752958201959082019060010161104a565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156110b35781516001600160a01b03168452928401929084019060010161108e565b505050838103828501526110c78187611036565b91505082810360408401526110dc8185611036565b9695505050505050565b6000825160005b8181101561110757602081860181015185830152016110ed565b50600092019182525091905056fea2646970667358221220502d721ec1bbf070a34be556a0bd926bf91c0ff73cafffefb713f58774dcbdba64736f6c63430008120033","sourceMap":"643:9955:43:-:0;;;1039:10;1002:47;;1433:3;1390:46;;2519:287;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1716:1:87;1921:7;:22;;;133:16:30;;139:10;-1:-1:-1;;;;;;133:16:30;;;;;;;;2634:5:43;:14;;;;-1:-1:-1;;;;;2634:14:43;;;;;;2658:6;:16;;;;;;;;;;;;;;2684:4;:12;;;;;;;;;;;;;;2706:10;:24;2740:13;:30;;;;;;;;;;;;;;;-1:-1:-1;2781:18:43;;;;;;;;;;643:9955;;14:177:181;93:13;;-1:-1:-1;;;;;135:31:181;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:526::-;302:6;310;318;326;334;387:3;375:9;366:7;362:23;358:33;355:53;;;404:1;401;394:12;355:53;427:40;457:9;427:40;:::i;:::-;417:50;;486:49;531:2;520:9;516:18;486:49;:::i;:::-;476:59;;554:49;599:2;588:9;584:18;554:49;:::i;:::-;544:59;;622:49;667:2;656:9;652:18;622:49;:::i;:::-;612:59;;711:3;700:9;696:19;690:26;680:36;;196:526;;;;;;;;:::o;:::-;643:9955:43;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361061014e5760003560e01c806367a52793116100b6578063e1f21c671161006f578063e1f21c6714610414578063ef12c67e14610434578063f255527814610454578063f851a44014610474578063f887ea4014610494578063fbfa77cf146104b457600080fd5b806367a527931461035b578063704b6c02146103715780639698d25a1461039157806398d1e03a146103be578063ae4d7f9a146103d4578063cfad57a2146103f457600080fd5b806324a084df1161010857806324a084df146102a55780632d79cf42146102c55780633a9b52ad146102db5780633fc8cef3146102fb578063490ae2101461031b578063657bc5d01461033b57600080fd5b80626cc35e146101aa5780631045c74e146101e7578063126082cf1461022257806312d43a51146102385780631ce9cb8f14610258578063233bfe3b1461028557600080fd5b366101a5576006546001600160a01b031633146101a35760405162461bcd60e51b815260206004820152600e60248201526d34b73b30b634b21039b2b73232b960911b60448201526064015b60405180910390fd5b005b600080fd5b3480156101b657600080fd5b50600a546101ca906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f357600080fd5b50610214610202366004610ced565b600c6020526000908152604090205481565b6040519081526020016101de565b34801561022e57600080fd5b5061021461271081565b34801561024457600080fd5b506001546101ca906001600160a01b031681565b34801561026457600080fd5b50610214610273366004610ced565b600b6020526000908152604090205481565b34801561029157600080fd5b506101a36102a0366004610d0a565b6104d4565b3480156102b157600080fd5b506101a36102c0366004610d23565b61053a565b3480156102d157600080fd5b5061021460075481565b3480156102e757600080fd5b506101a36102f6366004610d0a565b61057b565b34801561030757600080fd5b506006546101ca906001600160a01b031681565b34801561032757600080fd5b506101a3610336366004610d0a565b6105da565b34801561034757600080fd5b506004546101ca906001600160a01b031681565b34801561036757600080fd5b5061021460085481565b34801561037d57600080fd5b506101a361038c366004610ced565b610639565b34801561039d57600080fd5b506102146103ac366004610ced565b600d6020526000908152604090205481565b3480156103ca57600080fd5b5061021460095481565b3480156103e057600080fd5b506101a36103ef366004610ced565b6106b1565b34801561040057600080fd5b506101a361040f366004610ced565b610729565b34801561042057600080fd5b506101a361042f366004610d4f565b6107cb565b34801561044057600080fd5b506101a361044f366004610e66565b61086e565b34801561046057600080fd5b506101a361046f366004610f4c565b610990565b34801561048057600080fd5b506002546101ca906001600160a01b031681565b3480156104a057600080fd5b506005546101ca906001600160a01b031681565b3480156104c057600080fd5b506003546101ca906001600160a01b031681565b6002546001600160a01b031633146104fe5760405162461bcd60e51b815260040161019a90610f85565b60098190556040518181527f21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452906020015b60405180910390a150565b6001546001600160a01b031633146105645760405162461bcd60e51b815260040161019a90610fa8565b6105776001600160a01b03831682610a4c565b5050565b6002546001600160a01b031633146105a55760405162461bcd60e51b815260040161019a90610f85565b60078190556040518181527f4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c9060200161052f565b6002546001600160a01b031633146106045760405162461bcd60e51b815260040161019a90610f85565b60088190556040518181527f974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d83006759060200161052f565b6001546001600160a01b031633146106635760405162461bcd60e51b815260040161019a90610fa8565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a19060200161052f565b6002546001600160a01b031633146106db5760405162461bcd60e51b815260040161019a90610f85565b600a80546001600160a01b0319166001600160a01b0383169081179091556040519081527f828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a89060200161052f565b6001546001600160a01b031633146107535760405162461bcd60e51b815260040161019a90610fa8565b6001600160a01b0381166107a95760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f2061646472657373604482015260640161019a565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b031633146107f55760405162461bcd60e51b815260040161019a90610fa8565b60405163095ea7b360e01b81526001600160a01b0383811660048301526024820183905284169063095ea7b3906044016020604051808303816000875af1158015610844573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108689190610fd7565b50505050565b6002546001600160a01b031633146108985760405162461bcd60e51b815260040161019a90610f85565b60005b835181101561094f5760008482815181106108b8576108b8610ff9565b602002602001015190508382815181106108d4576108d4610ff9565b6020026020010151600c6000836001600160a01b03166001600160a01b031681526020019081526020016000208190555082828151811061091757610917610ff9565b6020908102919091018101516001600160a01b039092166000908152600d9091526040902055806109478161100f565b91505061089b565b507fae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b213983838360405161098393929190611071565b60405180910390a1505050565b6002546001600160a01b031633146109ba5760405162461bcd60e51b815260040161019a90610f85565b6001600160a01b0382166000908152600b6020526040812054908190036109e057505050565b6001600160a01b0383166000818152600b6020526040812055610a04908383610ae8565b604080516001600160a01b038086168252841660208201529081018290527f4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e490606001610983565b80471015610a6f5760405163cd78605960e01b815230600482015260240161019a565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610abc576040519150601f19603f3d011682016040523d82523d6000602084013e610ac1565b606091505b5050905080610ae357604051630a12f52160e11b815260040160405180910390fd5b505050565b604080516001600160a01b03848116602483015260448083018590528351808403909101815260649092019092526020810180516001600160e01b031663a9059cbb60e01b179052610ae391859190600090610b4690841683610b94565b90508051600014158015610b6b575080806020019051810190610b699190610fd7565b155b15610ae357604051635274afe760e01b81526001600160a01b038416600482015260240161019a565b6060610ba583836000610bac610bc5565b9392505050565b604051630a12f52160e11b815260040160405180910390fd5b606082471015610bea5760405163cd78605960e01b815230600482015260240161019a565b600080866001600160a01b03168587604051610c0691906110e6565b60006040518083038185875af1925050503d8060008114610c43576040519150601f19603f3d011682016040523d82523d6000602084013e610c48565b606091505b5091509150610c5987838387610c66565b925050505b949350505050565b60608315610cb4578251600003610cad57846001600160a01b03163b600003610cad57604051639996b31560e01b81526001600160a01b038616600482015260240161019a565b5081610c5e565b610c5e8383815115610cc95781518083602001fd5b610bac8163ffffffff16565b6001600160a01b0381168114610cea57600080fd5b50565b600060208284031215610cff57600080fd5b8135610ba581610cd5565b600060208284031215610d1c57600080fd5b5035919050565b60008060408385031215610d3657600080fd5b8235610d4181610cd5565b946020939093013593505050565b600080600060608486031215610d6457600080fd5b8335610d6f81610cd5565b92506020840135610d7f81610cd5565b929592945050506040919091013590565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610dcf57610dcf610d90565b604052919050565b600067ffffffffffffffff821115610df157610df1610d90565b5060051b60200190565b600082601f830112610e0c57600080fd5b81356020610e21610e1c83610dd7565b610da6565b82815260059290921b84018101918181019086841115610e4057600080fd5b8286015b84811015610e5b5780358352918301918301610e44565b509695505050505050565b600080600060608486031215610e7b57600080fd5b833567ffffffffffffffff80821115610e9357600080fd5b818601915086601f830112610ea757600080fd5b81356020610eb7610e1c83610dd7565b82815260059290921b8401810191818101908a841115610ed657600080fd5b948201945b83861015610efd578535610eee81610cd5565b82529482019490820190610edb565b97505087013592505080821115610f1357600080fd5b610f1f87838801610dfb565b93506040860135915080821115610f3557600080fd5b50610f4286828701610dfb565b9150509250925092565b60008060408385031215610f5f57600080fd5b8235610f6a81610cd5565b91506020830135610f7a81610cd5565b809150509250929050565b6020808252600990820152683337b93134b23232b760b91b604082015260600190565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b600060208284031215610fe957600080fd5b81518015158114610ba557600080fd5b634e487b7160e01b600052603260045260246000fd5b60006001820161102f57634e487b7160e01b600052601160045260246000fd5b5060010190565b600081518084526020808501945080840160005b838110156110665781518752958201959082019060010161104a565b509495945050505050565b606080825284519082018190526000906020906080840190828801845b828110156110b35781516001600160a01b03168452928401929084019060010161108e565b505050838103828501526110c78187611036565b91505082810360408401526110dc8185611036565b9695505050505050565b6000825160005b8181101561110757602081860181015185830152016110ed565b50600092019182525091905056fea2646970667358221220502d721ec1bbf070a34be556a0bd926bf91c0ff73cafffefb713f58774dcbdba64736f6c63430008120033","sourceMap":"643:9955:43:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2871:4;;-1:-1:-1;;;;;2871:4:43;2857:10;:18;2849:45;;;;-1:-1:-1;;;2849:45:43;;216:2:181;2849:45:43;;;198:21:181;255:2;235:18;;;228:30;-1:-1:-1;;;274:18:181;;;267:44;328:18;;2849:45:43;;;;;;;;;643:9955;;;;;1443:30;;;;;;;;;;-1:-1:-1;1443:30:43;;;;-1:-1:-1;;;;;1443:30:43;;;;;;-1:-1:-1;;;;;521:32:181;;;503:51;;491:2;476:18;1443:30:43;;;;;;;;1533:62;;;;;;;;;;-1:-1:-1;1533:62:43;;;;;:::i;:::-;;;;;;;;;;;;;;;;;1099:25:181;;;1087:2;1072:18;1533:62:43;953:177:181;803:52:43;;;;;;;;;;;;850:5;803:52;;84:18:30;;;;;;;;;;-1:-1:-1;84:18:30;;;;-1:-1:-1;;;;;84:18:30;;;1480:46:43;;;;;;;;;;-1:-1:-1;1480:46:43;;;;;:::i;:::-;;;;;;;;;;;;;;3382:235;;;;;;;;;;-1:-1:-1;3382:235:43;;;;;:::i;:::-;;:::i;4714:125::-;;;;;;;;;;-1:-1:-1;4714:125:43;;;;;:::i;:::-;;:::i;1002:47::-;;;;;;;;;;;;;;;;3026:199;;;;;;;;;;-1:-1:-1;3026:199:43;;;;;:::i;:::-;;:::i;976:19::-;;;;;;;;;;-1:-1:-1;976:19:43;;;;-1:-1:-1;;;;;976:19:43;;;3231:145;;;;;;;;;;-1:-1:-1;3231:145:43;;;;;:::i;:::-;;:::i;915:28::-;;;;;;;;;;-1:-1:-1;915:28:43;;;;-1:-1:-1;;;;;915:28:43;;;1359:25;;;;;;;;;;;;;;;;2907:113;;;;;;;;;;-1:-1:-1;2907:113:43;;;;;:::i;:::-;;:::i;1601:63::-;;;;;;;;;;-1:-1:-1;1601:63:43;;;;;:::i;:::-;;;;;;;;;;;;;;1390:46;;;;;;;;;;;;;;;;3623:175;;;;;;;;;;-1:-1:-1;3623:175:43;;;;;:::i;:::-;;:::i;266:147:30:-;;;;;;;;;;-1:-1:-1;266:147:30;;;;;:::i;:::-;;:::i;4565:143:43:-;;;;;;;;;;-1:-1:-1;4565:143:43;;;;;:::i;:::-;;:::i;3804:442::-;;;;;;;;;;-1:-1:-1;3804:442:43;;;;;:::i;:::-;;:::i;4252:307::-;;;;;;;;;;-1:-1:-1;4252:307:43;;;;;:::i;:::-;;:::i;862:20::-;;;;;;;;;;-1:-1:-1;862:20:43;;;;-1:-1:-1;;;;;862:20:43;;;949:21;;;;;;;;;;-1:-1:-1;949:21:43;;;;-1:-1:-1;;;;;949:21:43;;;889:20;;;;;;;;;;-1:-1:-1;889:20:43;;;;-1:-1:-1;;;;;889:20:43;;;3382:235;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;3485:25:::1;:54:::0;;;3554:56:::1;::::0;1099:25:181;;;3554:56:43::1;::::0;1087:2:181;1072:18;3554:56:43::1;;;;;;;;3382:235:::0;:::o;4714:125::-;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;4804:28:43::1;-1:-1:-1::0;;;;;4804:19:43;::::1;4824:7:::0;4804:19:::1;:28::i;:::-;4714:125:::0;;:::o;3026:199::-;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;3117:19:::1;:42:::0;;;3174:44:::1;::::0;1099:25:181;;;3174:44:43::1;::::0;1087:2:181;1072:18;3174:44:43::1;953:177:181::0;3231:145:43;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;3304:10:::1;:24:::0;;;3343:26:::1;::::0;1099:25:181;;;3343:26:43::1;::::0;1087:2:181;1072:18;3343:26:43::1;953:177:181::0;2907:113:43;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;2968:5:43::1;:14:::0;;-1:-1:-1;;;;;;2968:14:43::1;-1:-1:-1::0;;;;;2968:14:43;::::1;::::0;;::::1;::::0;;;2997:16:::1;::::0;503:51:181;;;2997:16:43::1;::::0;491:2:181;476:18;2997:16:43::1;357:203:181::0;3623:175:43;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;3706:15:::1;:34:::0;;-1:-1:-1;;;;;;3706:34:43::1;-1:-1:-1::0;;;;;3706:34:43;::::1;::::0;;::::1;::::0;;;3755:36:::1;::::0;503:51:181;;;3755:36:43::1;::::0;491:2:181;476:18;3755:36:43::1;357:203:181::0;266:147:30;213:3;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;-1:-1:-1;;;;;331:18:30;::::1;323:63;;;::::0;-1:-1:-1;;;323:63:30;;6104:2:181;323:63:30::1;::::0;::::1;6086:21:181::0;;;6123:18;;;6116:30;6182:34;6162:18;;;6155:62;6234:18;;323:63:30::1;5902:356:181::0;323:63:30::1;396:3;:10:::0;;-1:-1:-1;;;;;;396:10:30::1;-1:-1:-1::0;;;;;396:10:30;;;::::1;::::0;;;::::1;::::0;;266:147::o;4565:143:43:-;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;4660:41:43::1;::::0;-1:-1:-1;;;4660:41:43;;-1:-1:-1;;;;;6455:32:181;;;4660:41:43::1;::::0;::::1;6437:51:181::0;6504:18;;;6497:34;;;4660:22:43;::::1;::::0;::::1;::::0;6410:18:181;;4660:41:43::1;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;4565:143:::0;;;:::o;3804:442::-;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;3970:9:::1;3965:208;3989:7;:14;3985:1;:18;3965:208;;;4024:13;4040:7;4048:1;4040:10;;;;;;;;:::i;:::-;;;;;;;4024:26;;4092:10;4103:1;4092:13;;;;;;;;:::i;:::-;;;;;;;4064:18;:25;4083:5;-1:-1:-1::0;;;;;4064:25:43::1;-1:-1:-1::0;;;;;4064:25:43::1;;;;;;;;;;;;:41;;;;4148:11;4160:1;4148:14;;;;;;;;:::i;:::-;;::::0;;::::1;::::0;;;;;;;-1:-1:-1;;;;;4119:26:43;;::::1;;::::0;;;:19:::1;:26:::0;;;;;;:43;4005:3;::::1;::::0;::::1;:::i;:::-;;;;3965:208;;;;4188:51;4206:7;4215:10;4227:11;4188:51;;;;;;;;:::i;:::-;;;;;;;;3804:442:::0;;;:::o;4252:307::-;2476:5;;-1:-1:-1;;;;;2476:5:43;2462:10;:19;2454:41;;;;-1:-1:-1;;;2454:41:43;;;;;;;:::i;:::-;-1:-1:-1;;;;;4355:19:43;::::1;4338:14;4355:19:::0;;;:11:::1;:19;::::0;;;;;;4388:11;;;4384:24:::1;;4401:7;4714:125:::0;;:::o;4384:24::-:1;-1:-1:-1::0;;;;;4418:19:43;::::1;4440:1;4418:19:::0;;;:11:::1;:19;::::0;;;;:23;4451:46:::1;::::0;4479:9;4490:6;4451:27:::1;:46::i;:::-;4513:39;::::0;;-1:-1:-1;;;;;8933:15:181;;;8915:34;;8985:15;;8980:2;8965:18;;8958:43;9017:18;;;9010:34;;;4513:39:43::1;::::0;8865:2:181;8850:18;4513:39:43::1;8675:375:181::0;1529:330:84;1638:6;1614:21;:30;1610:109;;;1667:41;;-1:-1:-1;;;1667:41:84;;1702:4;1667:41;;;503:51:181;476:18;;1667:41:84;357:203:181;1610:109:84;1730:12;1747:9;-1:-1:-1;;;;;1747:14:84;1769:6;1747:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1729:51;;;1795:7;1790:63;;1825:17;;-1:-1:-1;;;1825:17:84;;;;;;;;;;;1790:63;1600:259;1529:330;;:::o;1283:160:82:-;1392:43;;;-1:-1:-1;;;;;6455:32:181;;;1392:43:82;;;6437:51:181;6504:18;;;;6497:34;;;1392:43:82;;;;;;;;;;6410:18:181;;;;1392:43:82;;;;;;;;-1:-1:-1;;;;;1392:43:82;-1:-1:-1;;;1392:43:82;;;1365:71;;1385:5;;1392:43;-1:-1:-1;;5139:33:82;;1407:14;;1392:43;5139:27;:33::i;:::-;5113:59;;5186:10;:17;5207:1;5186:22;;:57;;;;;5224:10;5213:30;;;;;;;;;;;;:::i;:::-;5212:31;5186:57;5182:135;;;5266:40;;-1:-1:-1;;;5266:40:82;;-1:-1:-1;;;;;521:32:181;;5266:40:82;;;503:51:181;476:18;;5266:40:82;357:203:181;2563:166:84;2638:12;2669:53;2691:6;2699:4;2705:1;2708:13;2669:21;:53::i;:::-;2662:60;2563:166;-1:-1:-1;;;2563:166:84:o;8128:80::-;8184:17;;-1:-1:-1;;;8184:17:84;;;;;;;;;;;4051:483;4227:12;4279:5;4255:21;:29;4251:108;;;4307:41;;-1:-1:-1;;;4307:41:84;;4342:4;4307:41;;;503:51:181;476:18;;4307:41:84;357:203:181;4251:108:84;4369:12;4383:23;4410:6;-1:-1:-1;;;;;4410:11:84;4429:5;4436:4;4410:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4368:73;;;;4458:69;4485:6;4493:7;4502:10;4514:12;4458:26;:69::i;:::-;4451:76;;;;4051:483;;;;;;;:::o;6371:692::-;6562:12;6590:7;6586:471;;;6617:10;:17;6638:1;6617:22;6613:339;;6841:6;-1:-1:-1;;;;;6841:18:84;;6863:1;6841:23;6837:101;;6895:24;;-1:-1:-1;;;6895:24:84;;-1:-1:-1;;;;;521:32:181;;6895:24:84;;;503:51:181;476:18;;6895:24:84;357:203:181;6837:101:84;-1:-1:-1;6972:10:84;6965:17;;6586:471;7013:33;7021:10;7033:12;8384:17;;:21;8380:411;;8612:10;8606:17;8668:15;8655:10;8651:2;8647:19;8640:44;8380:411;8728:14;:12;:14;;:::i;565:131:181:-;-1:-1:-1;;;;;640:31:181;;630:42;;620:70;;686:1;683;676:12;620:70;565:131;:::o;701:247::-;760:6;813:2;801:9;792:7;788:23;784:32;781:52;;;829:1;826;819:12;781:52;868:9;855:23;887:31;912:5;887:31;:::i;1135:180::-;1194:6;1247:2;1235:9;1226:7;1222:23;1218:32;1215:52;;;1263:1;1260;1253:12;1215:52;-1:-1:-1;1286:23:181;;1135:180;-1:-1:-1;1135:180:181:o;1320:323::-;1396:6;1404;1457:2;1445:9;1436:7;1432:23;1428:32;1425:52;;;1473:1;1470;1463:12;1425:52;1512:9;1499:23;1531:31;1556:5;1531:31;:::i;:::-;1581:5;1633:2;1618:18;;;;1605:32;;-1:-1:-1;;;1320:323:181:o;1648:456::-;1725:6;1733;1741;1794:2;1782:9;1773:7;1769:23;1765:32;1762:52;;;1810:1;1807;1800:12;1762:52;1849:9;1836:23;1868:31;1893:5;1868:31;:::i;:::-;1918:5;-1:-1:-1;1975:2:181;1960:18;;1947:32;1988:33;1947:32;1988:33;:::i;:::-;1648:456;;2040:7;;-1:-1:-1;;;2094:2:181;2079:18;;;;2066:32;;1648:456::o;2109:127::-;2170:10;2165:3;2161:20;2158:1;2151:31;2201:4;2198:1;2191:15;2225:4;2222:1;2215:15;2241:275;2312:2;2306:9;2377:2;2358:13;;-1:-1:-1;;2354:27:181;2342:40;;2412:18;2397:34;;2433:22;;;2394:62;2391:88;;;2459:18;;:::i;:::-;2495:2;2488:22;2241:275;;-1:-1:-1;2241:275:181:o;2521:183::-;2581:4;2614:18;2606:6;2603:30;2600:56;;;2636:18;;:::i;:::-;-1:-1:-1;2681:1:181;2677:14;2693:4;2673:25;;2521:183::o;2709:662::-;2763:5;2816:3;2809:4;2801:6;2797:17;2793:27;2783:55;;2834:1;2831;2824:12;2783:55;2870:6;2857:20;2896:4;2920:60;2936:43;2976:2;2936:43;:::i;:::-;2920:60;:::i;:::-;3014:15;;;3100:1;3096:10;;;;3084:23;;3080:32;;;3045:12;;;;3124:15;;;3121:35;;;3152:1;3149;3142:12;3121:35;3188:2;3180:6;3176:15;3200:142;3216:6;3211:3;3208:15;3200:142;;;3282:17;;3270:30;;3320:12;;;;3233;;3200:142;;;-1:-1:-1;3360:5:181;2709:662;-1:-1:-1;;;;;;2709:662:181:o;3376:1441::-;3528:6;3536;3544;3597:2;3585:9;3576:7;3572:23;3568:32;3565:52;;;3613:1;3610;3603:12;3565:52;3653:9;3640:23;3682:18;3723:2;3715:6;3712:14;3709:34;;;3739:1;3736;3729:12;3709:34;3777:6;3766:9;3762:22;3752:32;;3822:7;3815:4;3811:2;3807:13;3803:27;3793:55;;3844:1;3841;3834:12;3793:55;3880:2;3867:16;3902:4;3926:60;3942:43;3982:2;3942:43;:::i;3926:60::-;4020:15;;;4102:1;4098:10;;;;4090:19;;4086:28;;;4051:12;;;;4126:19;;;4123:39;;;4158:1;4155;4148:12;4123:39;4182:11;;;;4202:217;4218:6;4213:3;4210:15;4202:217;;;4298:3;4285:17;4315:31;4340:5;4315:31;:::i;:::-;4359:18;;4235:12;;;;4397;;;;4202:217;;;4438:5;-1:-1:-1;;4481:18:181;;4468:32;;-1:-1:-1;;4512:16:181;;;4509:36;;;4541:1;4538;4531:12;4509:36;4564:63;4619:7;4608:8;4597:9;4593:24;4564:63;:::i;:::-;4554:73;;4680:2;4669:9;4665:18;4652:32;4636:48;;4709:2;4699:8;4696:16;4693:36;;;4725:1;4722;4715:12;4693:36;;4748:63;4803:7;4792:8;4781:9;4777:24;4748:63;:::i;:::-;4738:73;;;3376:1441;;;;;:::o;4822:388::-;4890:6;4898;4951:2;4939:9;4930:7;4926:23;4922:32;4919:52;;;4967:1;4964;4957:12;4919:52;5006:9;4993:23;5025:31;5050:5;5025:31;:::i;:::-;5075:5;-1:-1:-1;5132:2:181;5117:18;;5104:32;5145:33;5104:32;5145:33;:::i;:::-;5197:7;5187:17;;;4822:388;;;;;:::o;5215:332::-;5417:2;5399:21;;;5456:1;5436:18;;;5429:29;-1:-1:-1;;;5489:2:181;5474:18;;5467:39;5538:2;5523:18;;5215:332::o;5552:345::-;5754:2;5736:21;;;5793:2;5773:18;;;5766:30;-1:-1:-1;;;5827:2:181;5812:18;;5805:51;5888:2;5873:18;;5552:345::o;6542:277::-;6609:6;6662:2;6650:9;6641:7;6637:23;6633:32;6630:52;;;6678:1;6675;6668:12;6630:52;6710:9;6704:16;6763:5;6756:13;6749:21;6742:5;6739:32;6729:60;;6785:1;6782;6775:12;6824:127;6885:10;6880:3;6876:20;6873:1;6866:31;6916:4;6913:1;6906:15;6940:4;6937:1;6930:15;6956:232;6995:3;7016:17;;;7013:140;;7075:10;7070:3;7066:20;7063:1;7056:31;7110:4;7107:1;7100:15;7138:4;7135:1;7128:15;7013:140;-1:-1:-1;7180:1:181;7169:13;;6956:232::o;7193:435::-;7246:3;7284:5;7278:12;7311:6;7306:3;7299:19;7337:4;7366:2;7361:3;7357:12;7350:19;;7403:2;7396:5;7392:14;7424:1;7434:169;7448:6;7445:1;7442:13;7434:169;;;7509:13;;7497:26;;7543:12;;;;7578:15;;;;7470:1;7463:9;7434:169;;;-1:-1:-1;7619:3:181;;7193:435;-1:-1:-1;;;;;7193:435:181:o;7633:1037::-;7979:2;7991:21;;;8061:13;;7964:18;;;8083:22;;;7931:4;;8159;;8136:3;8121:19;;;8186:15;;;7931:4;8229:195;8243:6;8240:1;8237:13;8229:195;;;8308:13;;-1:-1:-1;;;;;8304:39:181;8292:52;;8364:12;;;;8399:15;;;;8340:1;8258:9;8229:195;;;8233:3;;;8469:9;8464:3;8460:19;8455:2;8444:9;8440:18;8433:47;8503:41;8540:3;8532:6;8503:41;:::i;:::-;8489:55;;;8592:9;8584:6;8580:22;8575:2;8564:9;8560:18;8553:50;8620:44;8657:6;8649;8620:44;:::i;:::-;8612:52;7633:1037;-1:-1:-1;;;;;;7633:1037:181:o;9265:412::-;9394:3;9432:6;9426:13;9457:1;9467:129;9481:6;9478:1;9475:13;9467:129;;;9579:4;9563:14;;;9559:25;;9553:32;9540:11;;;9533:53;9496:12;9467:129;;;-1:-1:-1;9651:1:181;9615:16;;9640:13;;;-1:-1:-1;9615:16:181;9265:412;-1:-1:-1;9265:412:181:o","linkReferences":{}},"methodIdentifiers":{"BASIS_POINTS_DIVISOR()":"126082cf","admin()":"f851a440","approve(address,address,uint256)":"e1f21c67","depositFee()":"67a52793","ethTransferGasLimit()":"2d79cf42","feeReserves(address)":"1ce9cb8f","gov()":"12d43a51","increasePositionBufferBps()":"98d1e03a","maxGlobalLongSizes(address)":"1045c74e","maxGlobalShortSizes(address)":"9698d25a","referralStorage()":"006cc35e","router()":"f887ea40","sendValue(address,uint256)":"24a084df","setAdmin(address)":"704b6c02","setDepositFee(uint256)":"490ae210","setEthTransferGasLimit(uint256)":"3a9b52ad","setGov(address)":"cfad57a2","setIncreasePositionBufferBps(uint256)":"233bfe3b","setMaxGlobalSizes(address[],uint256[],uint256[])":"ef12c67e","setReferralStorage(address)":"ae4d7f9a","shortsTracker()":"657bc5d0","vault()":"fbfa77cf","weth()":"3fc8cef3","withdrawFees(address,address)":"f2555278"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_vault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_router\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_shortsTracker\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_weth\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_depositFee\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddressInsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedInnerCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"marginFeeBasisPoints\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"referralCode\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"DecreasePositionReferral\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"marginFeeBasisPoints\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"referralCode\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"IncreasePositionReferral\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"SetAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositFee\",\"type\":\"uint256\"}],\"name\":\"SetDepositFee\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ethTransferGasLimit\",\"type\":\"uint256\"}],\"name\":\"SetEthTransferGasLimit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"increasePositionBufferBps\",\"type\":\"uint256\"}],\"name\":\"SetIncreasePositionBufferBps\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"longSizes\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"shortSizes\",\"type\":\"uint256[]\"}],\"name\":\"SetMaxGlobalSizes\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"referralStorage\",\"type\":\"address\"}],\"name\":\"SetReferralStorage\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawFees\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BASIS_POINTS_DIVISOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"depositFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ethTransferGasLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"feeReserves\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"increasePositionBufferBps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"maxGlobalLongSizes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"maxGlobalShortSizes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"referralStorage\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"router\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_receiver\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"sendValue\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_depositFee\",\"type\":\"uint256\"}],\"name\":\"setDepositFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_ethTransferGasLimit\",\"type\":\"uint256\"}],\"name\":\"setEthTransferGasLimit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGov\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_increasePositionBufferBps\",\"type\":\"uint256\"}],\"name\":\"setIncreasePositionBufferBps\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"_tokens\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_longSizes\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_shortSizes\",\"type\":\"uint256[]\"}],\"name\":\"setMaxGlobalSizes\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_referralStorage\",\"type\":\"address\"}],\"name\":\"setReferralStorage\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"shortsTracker\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"weth\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_receiver\",\"type\":\"address\"}],\"name\":\"withdrawFees\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"AddressInsufficientBalance(address)\":[{\"details\":\"The ETH balance of the account is not enough to perform the operation.\"}],\"FailedInnerCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/BasePositionManager.sol\":\"BasePositionManager\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/access/Governable.sol\":{\"keccak256\":\"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815\",\"dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod\"]},\"src/core/BasePositionManager.sol\":{\"keccak256\":\"0xcba27a3eee42ab69ca0f24b0952289ecc70edd319c63dde17729e647a3ac70b6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8eb3cb14308092627fc14da13c11cde3752a94286148d03722c8df505bc6496d\",\"dweb:/ipfs/QmfFvotNHmoDRw39pQcWZ9hhWRBcLk9vKUka6XKdFkoRMY\"]},\"src/core/PositionUtils.sol\":{\"keccak256\":\"0xe641b9ae89efdd6ab3298f0edaff60c5a822e22533bf56acbe4d9d0c4478e541\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://390c18c4b8ffbcd44c44973dfe655365c86db7a1e8fd8a3ce15eb0b0d7349f3f\",\"dweb:/ipfs/QmaXPU2ijNPQ2WegdDd9LMikmALkzQJTPmtNc2Wu6j6VJY\"]},\"src/core/interfaces/IBasePositionManager.sol\":{\"keccak256\":\"0x527cf68dc35f1b55cc4a712a185231e3d60a3f1b5c7b0474b01d55daafe84ea2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b29cff53e5fa4d5acc34def9a04261fc6ef35fdfa3a666b650640436b9c2ba51\",\"dweb:/ipfs/QmatAzkQ9pVKtFw4E5C5bakWkLSKxuPozBso54tY9NbzZ9\"]},\"src/core/interfaces/IOrderBook.sol\":{\"keccak256\":\"0x7be9633f9d8a659bd27fda2592ead9ae14874bc87a3c732d586a0ae11751db8e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6685b11f56c0df8aad3e4e93a9074b580f87326584f39acd5271744bb535d041\",\"dweb:/ipfs/Qmf74vwNZ1y2focbFVMAvQwzs6gcLeQvRCHxySAWBySvEC\"]},\"src/core/interfaces/IRouter.sol\":{\"keccak256\":\"0x93380a413ddae5c2fbdcbf7a678a4c9421612310cac96581ffb4a6a1e1fbe071\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://51af01db966d608fb5314f9730d40dbc067a5f70f6cb0d3803dc1c7dc59feeae\",\"dweb:/ipfs/QmU5BCRT2cY1MCguQuniVk2seik5T1nUYsegEjnVSQQoQG\"]},\"src/core/interfaces/IShortsTracker.sol\":{\"keccak256\":\"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5\",\"dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4\"]},\"src/core/interfaces/IVault.sol\":{\"keccak256\":\"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208\",\"dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC\"]},\"src/core/interfaces/IVaultUtils.sol\":{\"keccak256\":\"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3\",\"dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF\"]},\"src/libraries/token/IERC20.sol\":{\"keccak256\":\"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2\",\"dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah\"]},\"src/libraries/token/IERC20Permit.sol\":{\"keccak256\":\"0x530ea5398fd7d4b38ea7fc9c3bc20e49cac03cb7601c0302b80deed23d0c6978\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://03e021b40f068def6c345c82bb997ff1ba7fc80707e0dde168de20e028bcbed5\",\"dweb:/ipfs/QmVDAZGsMnNStKrbmT23NFYWVtje5c37Ft7jPfmSFgeiWW\"]},\"src/libraries/token/SafeERC20.sol\":{\"keccak256\":\"0xf4b6e5728d4ca715fb2995b9889b54d0328421921330eecdc758b45bcd310efc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a5926c82e4f3735eece2269305999bae209d58d7e4a9b5c57ebf1b900abeea89\",\"dweb:/ipfs/Qma5VNXueDEbK6xW1KRyWQuio3KYeKQ8SEzg95VuFpq2cK\"]},\"src/libraries/utils/Address.sol\":{\"keccak256\":\"0x505f3ec70c5eac8378fd93c63ebdc3b7a95b98d8a17763372388811ae4dd3b79\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eb9b3e49c2d73ec823aaf1710a0185555df70a3522dbb5fac4b1b004b985e4cd\",\"dweb:/ipfs/QmU1C9qk4JgqWN6DQwiqHYMoZFSbFig5FKs1SZeUuo8pjF\"]},\"src/libraries/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x0b32fc187badba8280bd857d5b9cc8cf86d73059296d72aa90be87b5b59dd934\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c4bef445029105b1e9efaabf41f4bd33ba60488c275577bf2c77166ec862739\",\"dweb:/ipfs/QmZjutFoYkFpKGVUdX5o7LnYPHubru5Ufz6abs5Dw32MYb\"]},\"src/peripherals/interfaces/ITimelock.sol\":{\"keccak256\":\"0xf0e189d3fa688809e2150e64c06cb1a21dc6f9056a372ed84920eb1e3b85ec04\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://33fc4e59442ea88ac89d151bd97de303e7952dec295904d4d2109281e5aa3f63\",\"dweb:/ipfs/QmdAT7XfghkyHjB2aPTLDUnGyuU9kqFAqCT5g8j8gW2TcM\"]},\"src/referrals/interfaces/IReferralStorage.sol\":{\"keccak256\":\"0x6f5bf1658507e47a6cc2313f818d862700881e71cdf594646ef7f646bb51a996\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d94cd9e2bc409a8c6ca5c464b9317b3cd7458f9c482c7ce0007265d2f6ea70f6\",\"dweb:/ipfs/QmNNfDX2dkERjrpHXxANjWXie5Yz6rDLppALYW3rmjkhA3\"]},\"src/tokens/interfaces/IWETH.sol\":{\"keccak256\":\"0x0bd3c9a45121911ba505e8759ab838c03248c03152961269a04953c7e2779a7f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8f66683b1654209829e8a1cdefbdb7d40e8a666f9a2dda5482903c87667107f5\",\"dweb:/ipfs/QmXFn3vQa9wqZDA7MMqoDehPMbNRj2sKw4wDwuibwuMKCy\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_router","type":"address"},{"internalType":"address","name":"_shortsTracker","type":"address"},{"internalType":"address","name":"_weth","type":"address"},{"internalType":"uint256","name":"_depositFee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"target","type":"address"}],"type":"error","name":"AddressEmptyCode"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"AddressInsufficientBalance"},{"inputs":[],"type":"error","name":"FailedInnerCall"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false},{"internalType":"uint256","name":"sizeDelta","type":"uint256","indexed":false},{"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256","indexed":false},{"internalType":"bytes32","name":"referralCode","type":"bytes32","indexed":false},{"internalType":"address","name":"referrer","type":"address","indexed":false}],"type":"event","name":"DecreasePositionReferral","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false},{"internalType":"uint256","name":"sizeDelta","type":"uint256","indexed":false},{"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256","indexed":false},{"internalType":"bytes32","name":"referralCode","type":"bytes32","indexed":false},{"internalType":"address","name":"referrer","type":"address","indexed":false}],"type":"event","name":"IncreasePositionReferral","anonymous":false},{"inputs":[{"internalType":"address","name":"admin","type":"address","indexed":false}],"type":"event","name":"SetAdmin","anonymous":false},{"inputs":[{"internalType":"uint256","name":"depositFee","type":"uint256","indexed":false}],"type":"event","name":"SetDepositFee","anonymous":false},{"inputs":[{"internalType":"uint256","name":"ethTransferGasLimit","type":"uint256","indexed":false}],"type":"event","name":"SetEthTransferGasLimit","anonymous":false},{"inputs":[{"internalType":"uint256","name":"increasePositionBufferBps","type":"uint256","indexed":false}],"type":"event","name":"SetIncreasePositionBufferBps","anonymous":false},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]","indexed":false},{"internalType":"uint256[]","name":"longSizes","type":"uint256[]","indexed":false},{"internalType":"uint256[]","name":"shortSizes","type":"uint256[]","indexed":false}],"type":"event","name":"SetMaxGlobalSizes","anonymous":false},{"inputs":[{"internalType":"address","name":"referralStorage","type":"address","indexed":false}],"type":"event","name":"SetReferralStorage","anonymous":false},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":false},{"internalType":"address","name":"receiver","type":"address","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"WithdrawFees","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"approve"},{"inputs":[],"stateMutability":"view","type":"function","name":"depositFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ethTransferGasLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"feeReserves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"increasePositionBufferBps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"maxGlobalLongSizes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"maxGlobalShortSizes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"referralStorage","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"router","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address payable","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"sendValue"},{"inputs":[{"internalType":"address","name":"_admin","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAdmin"},{"inputs":[{"internalType":"uint256","name":"_depositFee","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setDepositFee"},{"inputs":[{"internalType":"uint256","name":"_ethTransferGasLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setEthTransferGasLimit"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGov"},{"inputs":[{"internalType":"uint256","name":"_increasePositionBufferBps","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setIncreasePositionBufferBps"},{"inputs":[{"internalType":"address[]","name":"_tokens","type":"address[]"},{"internalType":"uint256[]","name":"_longSizes","type":"uint256[]"},{"internalType":"uint256[]","name":"_shortSizes","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"setMaxGlobalSizes"},{"inputs":[{"internalType":"address","name":"_referralStorage","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setReferralStorage"},{"inputs":[],"stateMutability":"view","type":"function","name":"shortsTracker","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"weth","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_receiver","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"withdrawFees"},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/","chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/BasePositionManager.sol":"BasePositionManager"},"evmVersion":"paris","libraries":{}},"sources":{"src/access/Governable.sol":{"keccak256":"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1","urls":["bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815","dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod"],"license":"MIT"},"src/core/BasePositionManager.sol":{"keccak256":"0xcba27a3eee42ab69ca0f24b0952289ecc70edd319c63dde17729e647a3ac70b6","urls":["bzz-raw://8eb3cb14308092627fc14da13c11cde3752a94286148d03722c8df505bc6496d","dweb:/ipfs/QmfFvotNHmoDRw39pQcWZ9hhWRBcLk9vKUka6XKdFkoRMY"],"license":"MIT"},"src/core/PositionUtils.sol":{"keccak256":"0xe641b9ae89efdd6ab3298f0edaff60c5a822e22533bf56acbe4d9d0c4478e541","urls":["bzz-raw://390c18c4b8ffbcd44c44973dfe655365c86db7a1e8fd8a3ce15eb0b0d7349f3f","dweb:/ipfs/QmaXPU2ijNPQ2WegdDd9LMikmALkzQJTPmtNc2Wu6j6VJY"],"license":"MIT"},"src/core/interfaces/IBasePositionManager.sol":{"keccak256":"0x527cf68dc35f1b55cc4a712a185231e3d60a3f1b5c7b0474b01d55daafe84ea2","urls":["bzz-raw://b29cff53e5fa4d5acc34def9a04261fc6ef35fdfa3a666b650640436b9c2ba51","dweb:/ipfs/QmatAzkQ9pVKtFw4E5C5bakWkLSKxuPozBso54tY9NbzZ9"],"license":"MIT"},"src/core/interfaces/IOrderBook.sol":{"keccak256":"0x7be9633f9d8a659bd27fda2592ead9ae14874bc87a3c732d586a0ae11751db8e","urls":["bzz-raw://6685b11f56c0df8aad3e4e93a9074b580f87326584f39acd5271744bb535d041","dweb:/ipfs/Qmf74vwNZ1y2focbFVMAvQwzs6gcLeQvRCHxySAWBySvEC"],"license":"MIT"},"src/core/interfaces/IRouter.sol":{"keccak256":"0x93380a413ddae5c2fbdcbf7a678a4c9421612310cac96581ffb4a6a1e1fbe071","urls":["bzz-raw://51af01db966d608fb5314f9730d40dbc067a5f70f6cb0d3803dc1c7dc59feeae","dweb:/ipfs/QmU5BCRT2cY1MCguQuniVk2seik5T1nUYsegEjnVSQQoQG"],"license":"MIT"},"src/core/interfaces/IShortsTracker.sol":{"keccak256":"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112","urls":["bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5","dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4"],"license":"MIT"},"src/core/interfaces/IVault.sol":{"keccak256":"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453","urls":["bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208","dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC"],"license":"MIT"},"src/core/interfaces/IVaultUtils.sol":{"keccak256":"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd","urls":["bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3","dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF"],"license":"MIT"},"src/libraries/token/IERC20.sol":{"keccak256":"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd","urls":["bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2","dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah"],"license":"MIT"},"src/libraries/token/IERC20Permit.sol":{"keccak256":"0x530ea5398fd7d4b38ea7fc9c3bc20e49cac03cb7601c0302b80deed23d0c6978","urls":["bzz-raw://03e021b40f068def6c345c82bb997ff1ba7fc80707e0dde168de20e028bcbed5","dweb:/ipfs/QmVDAZGsMnNStKrbmT23NFYWVtje5c37Ft7jPfmSFgeiWW"],"license":"MIT"},"src/libraries/token/SafeERC20.sol":{"keccak256":"0xf4b6e5728d4ca715fb2995b9889b54d0328421921330eecdc758b45bcd310efc","urls":["bzz-raw://a5926c82e4f3735eece2269305999bae209d58d7e4a9b5c57ebf1b900abeea89","dweb:/ipfs/Qma5VNXueDEbK6xW1KRyWQuio3KYeKQ8SEzg95VuFpq2cK"],"license":"MIT"},"src/libraries/utils/Address.sol":{"keccak256":"0x505f3ec70c5eac8378fd93c63ebdc3b7a95b98d8a17763372388811ae4dd3b79","urls":["bzz-raw://eb9b3e49c2d73ec823aaf1710a0185555df70a3522dbb5fac4b1b004b985e4cd","dweb:/ipfs/QmU1C9qk4JgqWN6DQwiqHYMoZFSbFig5FKs1SZeUuo8pjF"],"license":"MIT"},"src/libraries/utils/ReentrancyGuard.sol":{"keccak256":"0x0b32fc187badba8280bd857d5b9cc8cf86d73059296d72aa90be87b5b59dd934","urls":["bzz-raw://8c4bef445029105b1e9efaabf41f4bd33ba60488c275577bf2c77166ec862739","dweb:/ipfs/QmZjutFoYkFpKGVUdX5o7LnYPHubru5Ufz6abs5Dw32MYb"],"license":"MIT"},"src/peripherals/interfaces/ITimelock.sol":{"keccak256":"0xf0e189d3fa688809e2150e64c06cb1a21dc6f9056a372ed84920eb1e3b85ec04","urls":["bzz-raw://33fc4e59442ea88ac89d151bd97de303e7952dec295904d4d2109281e5aa3f63","dweb:/ipfs/QmdAT7XfghkyHjB2aPTLDUnGyuU9kqFAqCT5g8j8gW2TcM"],"license":"MIT"},"src/referrals/interfaces/IReferralStorage.sol":{"keccak256":"0x6f5bf1658507e47a6cc2313f818d862700881e71cdf594646ef7f646bb51a996","urls":["bzz-raw://d94cd9e2bc409a8c6ca5c464b9317b3cd7458f9c482c7ce0007265d2f6ea70f6","dweb:/ipfs/QmNNfDX2dkERjrpHXxANjWXie5Yz6rDLppALYW3rmjkhA3"],"license":"MIT"},"src/tokens/interfaces/IWETH.sol":{"keccak256":"0x0bd3c9a45121911ba505e8759ab838c03248c03152961269a04953c7e2779a7f","urls":["bzz-raw://8f66683b1654209829e8a1cdefbdb7d40e8a666f9a2dda5482903c87667107f5","dweb:/ipfs/QmXFn3vQa9wqZDA7MMqoDehPMbNRj2sKw4wDwuibwuMKCy"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/core/BasePositionManager.sol","id":35841,"exportedSymbols":{"Address":[57853],"BasePositionManager":[35840],"Governable":[33234],"IBasePositionManager":[52194],"IERC20":[56917],"IERC20Permit":[56979],"IOrderBook":[52404],"IReferralStorage":[73061],"IRouter":[52736],"IShortsTracker":[52808],"ITimelock":[72474],"IVault":[53450],"IVaultUtils":[53716],"IWETH":[81384],"PositionUtils":[43503],"ReentrancyGuard":[59650],"SafeERC20":[57331]},"nodeType":"SourceUnit","src":"33:10566:43","nodes":[{"id":34871,"nodeType":"PragmaDirective","src":"33:23:43","nodes":[],"literals":["solidity","0.8",".18"]},{"id":34872,"nodeType":"ImportDirective","src":"58:39:43","nodes":[],"absolutePath":"src/libraries/token/IERC20.sol","file":"../libraries/token/IERC20.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":56918,"symbolAliases":[],"unitAlias":""},{"id":34873,"nodeType":"ImportDirective","src":"98:40:43","nodes":[],"absolutePath":"src/tokens/interfaces/IWETH.sol","file":"../tokens/interfaces/IWETH.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":81385,"symbolAliases":[],"unitAlias":""},{"id":34874,"nodeType":"ImportDirective","src":"139:42:43","nodes":[],"absolutePath":"src/libraries/token/SafeERC20.sol","file":"../libraries/token/SafeERC20.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":57332,"symbolAliases":[],"unitAlias":""},{"id":34875,"nodeType":"ImportDirective","src":"182:40:43","nodes":[],"absolutePath":"src/libraries/utils/Address.sol","file":"../libraries/utils/Address.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":57854,"symbolAliases":[],"unitAlias":""},{"id":34876,"nodeType":"ImportDirective","src":"223:48:43","nodes":[],"absolutePath":"src/libraries/utils/ReentrancyGuard.sol","file":"../libraries/utils/ReentrancyGuard.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":59651,"symbolAliases":[],"unitAlias":""},{"id":34877,"nodeType":"ImportDirective","src":"273:34:43","nodes":[],"absolutePath":"src/core/interfaces/IRouter.sol","file":"./interfaces/IRouter.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":52737,"symbolAliases":[],"unitAlias":""},{"id":34878,"nodeType":"ImportDirective","src":"308:33:43","nodes":[],"absolutePath":"src/core/interfaces/IVault.sol","file":"./interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":53451,"symbolAliases":[],"unitAlias":""},{"id":34879,"nodeType":"ImportDirective","src":"342:41:43","nodes":[],"absolutePath":"src/core/interfaces/IShortsTracker.sol","file":"./interfaces/IShortsTracker.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":52809,"symbolAliases":[],"unitAlias":""},{"id":34880,"nodeType":"ImportDirective","src":"384:37:43","nodes":[],"absolutePath":"src/core/interfaces/IOrderBook.sol","file":"./interfaces/IOrderBook.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":52405,"symbolAliases":[],"unitAlias":""},{"id":34881,"nodeType":"ImportDirective","src":"422:47:43","nodes":[],"absolutePath":"src/core/interfaces/IBasePositionManager.sol","file":"./interfaces/IBasePositionManager.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":52195,"symbolAliases":[],"unitAlias":""},{"id":34882,"nodeType":"ImportDirective","src":"471:34:43","nodes":[],"absolutePath":"src/access/Governable.sol","file":"../access/Governable.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":33235,"symbolAliases":[],"unitAlias":""},{"id":34883,"nodeType":"ImportDirective","src":"506:49:43","nodes":[],"absolutePath":"src/peripherals/interfaces/ITimelock.sol","file":"../peripherals/interfaces/ITimelock.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":72475,"symbolAliases":[],"unitAlias":""},{"id":34884,"nodeType":"ImportDirective","src":"556:54:43","nodes":[],"absolutePath":"src/referrals/interfaces/IReferralStorage.sol","file":"../referrals/interfaces/IReferralStorage.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":73062,"symbolAliases":[],"unitAlias":""},{"id":34885,"nodeType":"ImportDirective","src":"612:29:43","nodes":[],"absolutePath":"src/core/PositionUtils.sol","file":"./PositionUtils.sol","nameLocation":"-1:-1:-1","scope":35841,"sourceUnit":43504,"symbolAliases":[],"unitAlias":""},{"id":35840,"nodeType":"ContractDefinition","src":"643:9955:43","nodes":[{"id":34895,"nodeType":"UsingForDirective","src":"731:27:43","nodes":[],"global":false,"libraryName":{"id":34892,"name":"SafeERC20","nameLocations":["737:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":57331,"src":"737:9:43"},"typeName":{"id":34894,"nodeType":"UserDefinedTypeName","pathNode":{"id":34893,"name":"IERC20","nameLocations":["751:6:43"],"nodeType":"IdentifierPath","referencedDeclaration":56917,"src":"751:6:43"},"referencedDeclaration":56917,"src":"751:6:43","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56917","typeString":"contract IERC20"}}},{"id":34898,"nodeType":"UsingForDirective","src":"763:34:43","nodes":[],"global":false,"libraryName":{"id":34896,"name":"Address","nameLocations":["769:7:43"],"nodeType":"IdentifierPath","referencedDeclaration":57853,"src":"769:7:43"},"typeName":{"id":34897,"name":"address","nodeType":"ElementaryTypeName","src":"781:15:43","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}},{"id":34901,"nodeType":"VariableDeclaration","src":"803:52:43","nodes":[],"constant":true,"functionSelector":"126082cf","mutability":"constant","name":"BASIS_POINTS_DIVISOR","nameLocation":"827:20:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34899,"name":"uint256","nodeType":"ElementaryTypeName","src":"803:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030","id":34900,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"850:5:43","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"visibility":"public"},{"id":34903,"nodeType":"VariableDeclaration","src":"862:20:43","nodes":[],"constant":false,"functionSelector":"f851a440","mutability":"mutable","name":"admin","nameLocation":"877:5:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34902,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34905,"nodeType":"VariableDeclaration","src":"889:20:43","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"904:5:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34904,"name":"address","nodeType":"ElementaryTypeName","src":"889:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34907,"nodeType":"VariableDeclaration","src":"915:28:43","nodes":[],"constant":false,"functionSelector":"657bc5d0","mutability":"mutable","name":"shortsTracker","nameLocation":"930:13:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34906,"name":"address","nodeType":"ElementaryTypeName","src":"915:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34909,"nodeType":"VariableDeclaration","src":"949:21:43","nodes":[],"constant":false,"functionSelector":"f887ea40","mutability":"mutable","name":"router","nameLocation":"964:6:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34908,"name":"address","nodeType":"ElementaryTypeName","src":"949:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34911,"nodeType":"VariableDeclaration","src":"976:19:43","nodes":[],"constant":false,"functionSelector":"3fc8cef3","mutability":"mutable","name":"weth","nameLocation":"991:4:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34910,"name":"address","nodeType":"ElementaryTypeName","src":"976:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34916,"nodeType":"VariableDeclaration","src":"1002:47:43","nodes":[],"constant":false,"functionSelector":"2d79cf42","mutability":"mutable","name":"ethTransferGasLimit","nameLocation":"1017:19:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34912,"name":"uint256","nodeType":"ElementaryTypeName","src":"1002:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"commonType":{"typeIdentifier":"t_rational_500000_by_1","typeString":"int_const 500000"},"id":34915,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"353030","id":34913,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1039:3:43","typeDescriptions":{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"},"value":"500"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"31303030","id":34914,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1045:4:43","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"src":"1039:10:43","typeDescriptions":{"typeIdentifier":"t_rational_500000_by_1","typeString":"int_const 500000"}},"visibility":"public"},{"id":34918,"nodeType":"VariableDeclaration","src":"1359:25:43","nodes":[],"constant":false,"functionSelector":"67a52793","mutability":"mutable","name":"depositFee","nameLocation":"1374:10:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34917,"name":"uint256","nodeType":"ElementaryTypeName","src":"1359:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":34921,"nodeType":"VariableDeclaration","src":"1390:46:43","nodes":[],"constant":false,"functionSelector":"98d1e03a","mutability":"mutable","name":"increasePositionBufferBps","nameLocation":"1405:25:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34919,"name":"uint256","nodeType":"ElementaryTypeName","src":"1390:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313030","id":34920,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1433:3:43","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"visibility":"public"},{"id":34923,"nodeType":"VariableDeclaration","src":"1443:30:43","nodes":[],"constant":false,"functionSelector":"006cc35e","mutability":"mutable","name":"referralStorage","nameLocation":"1458:15:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34922,"name":"address","nodeType":"ElementaryTypeName","src":"1443:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":34927,"nodeType":"VariableDeclaration","src":"1480:46:43","nodes":[],"constant":false,"functionSelector":"1ce9cb8f","mutability":"mutable","name":"feeReserves","nameLocation":"1515:11:43","scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34926,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34924,"name":"address","nodeType":"ElementaryTypeName","src":"1488:7:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1480:27:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34925,"name":"uint256","nodeType":"ElementaryTypeName","src":"1499:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34932,"nodeType":"VariableDeclaration","src":"1533:62:43","nodes":[],"baseFunctions":[52186],"constant":false,"functionSelector":"1045c74e","mutability":"mutable","name":"maxGlobalLongSizes","nameLocation":"1577:18:43","overrides":{"id":34931,"nodeType":"OverrideSpecifier","overrides":[],"src":"1568:8:43"},"scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34930,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34928,"name":"address","nodeType":"ElementaryTypeName","src":"1541:7:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1533:27:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34929,"name":"uint256","nodeType":"ElementaryTypeName","src":"1552:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34937,"nodeType":"VariableDeclaration","src":"1601:63:43","nodes":[],"baseFunctions":[52193],"constant":false,"functionSelector":"9698d25a","mutability":"mutable","name":"maxGlobalShortSizes","nameLocation":"1645:19:43","overrides":{"id":34936,"nodeType":"OverrideSpecifier","overrides":[],"src":"1636:8:43"},"scope":35840,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":34935,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":34933,"name":"address","nodeType":"ElementaryTypeName","src":"1609:7:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1601:27:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":34934,"name":"uint256","nodeType":"ElementaryTypeName","src":"1620:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":34941,"nodeType":"EventDefinition","src":"1671:40:43","nodes":[],"anonymous":false,"eventSelector":"974fd3c1fcb4653dfc4fb740c4c692cd212d55c28f163f310128cb64d8300675","name":"SetDepositFee","nameLocation":"1677:13:43","parameters":{"id":34940,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34939,"indexed":false,"mutability":"mutable","name":"depositFee","nameLocation":"1699:10:43","nodeType":"VariableDeclaration","scope":34941,"src":"1691:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34938,"name":"uint256","nodeType":"ElementaryTypeName","src":"1691:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1690:20:43"}},{"id":34945,"nodeType":"EventDefinition","src":"1716:58:43","nodes":[],"anonymous":false,"eventSelector":"4d371d598d3a13f99ce992a17975bbaf1e1c256e072ec7d2f93ce88e40d9ba1c","name":"SetEthTransferGasLimit","nameLocation":"1722:22:43","parameters":{"id":34944,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34943,"indexed":false,"mutability":"mutable","name":"ethTransferGasLimit","nameLocation":"1753:19:43","nodeType":"VariableDeclaration","scope":34945,"src":"1745:27:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34942,"name":"uint256","nodeType":"ElementaryTypeName","src":"1745:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1744:29:43"}},{"id":34949,"nodeType":"EventDefinition","src":"1779:70:43","nodes":[],"anonymous":false,"eventSelector":"21167d0d4661af93817ebce920f18986eed3d75d5e1c03f2aed05efcbafbc452","name":"SetIncreasePositionBufferBps","nameLocation":"1785:28:43","parameters":{"id":34948,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34947,"indexed":false,"mutability":"mutable","name":"increasePositionBufferBps","nameLocation":"1822:25:43","nodeType":"VariableDeclaration","scope":34949,"src":"1814:33:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34946,"name":"uint256","nodeType":"ElementaryTypeName","src":"1814:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1813:35:43"}},{"id":34953,"nodeType":"EventDefinition","src":"1854:50:43","nodes":[],"anonymous":false,"eventSelector":"828abcccea18192c21d645e575652c49e20b986dab777906fc473d056b01b6a8","name":"SetReferralStorage","nameLocation":"1860:18:43","parameters":{"id":34952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34951,"indexed":false,"mutability":"mutable","name":"referralStorage","nameLocation":"1887:15:43","nodeType":"VariableDeclaration","scope":34953,"src":"1879:23:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34950,"name":"address","nodeType":"ElementaryTypeName","src":"1879:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1878:25:43"}},{"id":34957,"nodeType":"EventDefinition","src":"1909:30:43","nodes":[],"anonymous":false,"eventSelector":"5a272403b402d892977df56625f4164ccaf70ca3863991c43ecfe76a6905b0a1","name":"SetAdmin","nameLocation":"1915:8:43","parameters":{"id":34956,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34955,"indexed":false,"mutability":"mutable","name":"admin","nameLocation":"1932:5:43","nodeType":"VariableDeclaration","scope":34957,"src":"1924:13:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34954,"name":"address","nodeType":"ElementaryTypeName","src":"1924:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1923:15:43"}},{"id":34965,"nodeType":"EventDefinition","src":"1944:68:43","nodes":[],"anonymous":false,"eventSelector":"4f1b51dd7a2fcb861aa2670f668be66835c4ee12b4bbbf037e4d0018f39819e4","name":"WithdrawFees","nameLocation":"1950:12:43","parameters":{"id":34964,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34959,"indexed":false,"mutability":"mutable","name":"token","nameLocation":"1971:5:43","nodeType":"VariableDeclaration","scope":34965,"src":"1963:13:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34958,"name":"address","nodeType":"ElementaryTypeName","src":"1963:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34961,"indexed":false,"mutability":"mutable","name":"receiver","nameLocation":"1986:8:43","nodeType":"VariableDeclaration","scope":34965,"src":"1978:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34960,"name":"address","nodeType":"ElementaryTypeName","src":"1978:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34963,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2004:6:43","nodeType":"VariableDeclaration","scope":34965,"src":"1996:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34962,"name":"uint256","nodeType":"ElementaryTypeName","src":"1996:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1962:49:43"}},{"id":34976,"nodeType":"EventDefinition","src":"2018:85:43","nodes":[],"anonymous":false,"eventSelector":"ae32d569b058895b9620d6552b09aaffedc9a6f396be4d595a224ad09f8b2139","name":"SetMaxGlobalSizes","nameLocation":"2024:17:43","parameters":{"id":34975,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34968,"indexed":false,"mutability":"mutable","name":"tokens","nameLocation":"2052:6:43","nodeType":"VariableDeclaration","scope":34976,"src":"2042:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":34966,"name":"address","nodeType":"ElementaryTypeName","src":"2042:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34967,"nodeType":"ArrayTypeName","src":"2042:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":34971,"indexed":false,"mutability":"mutable","name":"longSizes","nameLocation":"2070:9:43","nodeType":"VariableDeclaration","scope":34976,"src":"2060:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34969,"name":"uint256","nodeType":"ElementaryTypeName","src":"2060:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34970,"nodeType":"ArrayTypeName","src":"2060:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":34974,"indexed":false,"mutability":"mutable","name":"shortSizes","nameLocation":"2091:10:43","nodeType":"VariableDeclaration","scope":34976,"src":"2081:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":34972,"name":"uint256","nodeType":"ElementaryTypeName","src":"2081:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":34973,"nodeType":"ArrayTypeName","src":"2081:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2041:61:43"}},{"id":34988,"nodeType":"EventDefinition","src":"2109:151:43","nodes":[],"anonymous":false,"eventSelector":"c2414023ce7002ee98557d1e7be21e5559073336f2217ee5f9b2e50fd85f71ee","name":"IncreasePositionReferral","nameLocation":"2115:24:43","parameters":{"id":34987,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34978,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"2157:7:43","nodeType":"VariableDeclaration","scope":34988,"src":"2149:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34977,"name":"address","nodeType":"ElementaryTypeName","src":"2149:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34980,"indexed":false,"mutability":"mutable","name":"sizeDelta","nameLocation":"2174:9:43","nodeType":"VariableDeclaration","scope":34988,"src":"2166:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34979,"name":"uint256","nodeType":"ElementaryTypeName","src":"2166:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34982,"indexed":false,"mutability":"mutable","name":"marginFeeBasisPoints","nameLocation":"2193:20:43","nodeType":"VariableDeclaration","scope":34988,"src":"2185:28:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34981,"name":"uint256","nodeType":"ElementaryTypeName","src":"2185:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34984,"indexed":false,"mutability":"mutable","name":"referralCode","nameLocation":"2223:12:43","nodeType":"VariableDeclaration","scope":34988,"src":"2215:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34983,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2215:7:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34986,"indexed":false,"mutability":"mutable","name":"referrer","nameLocation":"2245:8:43","nodeType":"VariableDeclaration","scope":34988,"src":"2237:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34985,"name":"address","nodeType":"ElementaryTypeName","src":"2237:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2139:120:43"}},{"id":35000,"nodeType":"EventDefinition","src":"2266:151:43","nodes":[],"anonymous":false,"eventSelector":"474c763ff84bf2c2039a6d9fea955ecd0f724030e3c365b91169c6a16fe751b7","name":"DecreasePositionReferral","nameLocation":"2272:24:43","parameters":{"id":34999,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34990,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"2314:7:43","nodeType":"VariableDeclaration","scope":35000,"src":"2306:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34989,"name":"address","nodeType":"ElementaryTypeName","src":"2306:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":34992,"indexed":false,"mutability":"mutable","name":"sizeDelta","nameLocation":"2331:9:43","nodeType":"VariableDeclaration","scope":35000,"src":"2323:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34991,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34994,"indexed":false,"mutability":"mutable","name":"marginFeeBasisPoints","nameLocation":"2350:20:43","nodeType":"VariableDeclaration","scope":35000,"src":"2342:28:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":34993,"name":"uint256","nodeType":"ElementaryTypeName","src":"2342:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":34996,"indexed":false,"mutability":"mutable","name":"referralCode","nameLocation":"2380:12:43","nodeType":"VariableDeclaration","scope":35000,"src":"2372:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":34995,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2372:7:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":34998,"indexed":false,"mutability":"mutable","name":"referrer","nameLocation":"2402:8:43","nodeType":"VariableDeclaration","scope":35000,"src":"2394:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34997,"name":"address","nodeType":"ElementaryTypeName","src":"2394:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2296:120:43"}},{"id":35012,"nodeType":"ModifierDefinition","src":"2423:90:43","nodes":[],"body":{"id":35011,"nodeType":"Block","src":"2444:69:43","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":35006,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35003,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2462:3:43","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":35004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2466:6:43","memberName":"sender","nodeType":"MemberAccess","src":"2462:10:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":35005,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34903,"src":"2476:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2462:19:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"666f7262696464656e","id":35007,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2483:11:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_2459e1459d47a7446e20f4fb8bfae98e67455e19e3816df4e777a2fda0b72c3a","typeString":"literal_string \"forbidden\""},"value":"forbidden"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2459e1459d47a7446e20f4fb8bfae98e67455e19e3816df4e777a2fda0b72c3a","typeString":"literal_string \"forbidden\""}],"id":35002,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2454:7:43","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":35008,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2454:41:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35009,"nodeType":"ExpressionStatement","src":"2454:41:43"},{"id":35010,"nodeType":"PlaceholderStatement","src":"2505:1:43"}]},"name":"onlyAdmin","nameLocation":"2432:9:43","parameters":{"id":35001,"nodeType":"ParameterList","parameters":[],"src":"2441:2:43"},"virtual":false,"visibility":"internal"},{"id":35051,"nodeType":"FunctionDefinition","src":"2519:287:43","nodes":[],"body":{"id":35050,"nodeType":"Block","src":"2624:182:43","nodes":[],"statements":[{"expression":{"id":35027,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35025,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"2634:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35026,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35014,"src":"2642:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2634:14:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35028,"nodeType":"ExpressionStatement","src":"2634:14:43"},{"expression":{"id":35031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35029,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34909,"src":"2658:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35030,"name":"_router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35016,"src":"2667:7:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2658:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35032,"nodeType":"ExpressionStatement","src":"2658:16:43"},{"expression":{"id":35035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35033,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34911,"src":"2684:4:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35034,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35020,"src":"2691:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2684:12:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35036,"nodeType":"ExpressionStatement","src":"2684:12:43"},{"expression":{"id":35039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35037,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34918,"src":"2706:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35038,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35022,"src":"2719:11:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2706:24:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35040,"nodeType":"ExpressionStatement","src":"2706:24:43"},{"expression":{"id":35043,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35041,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34907,"src":"2740:13:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35042,"name":"_shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35018,"src":"2756:14:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2740:30:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35044,"nodeType":"ExpressionStatement","src":"2740:30:43"},{"expression":{"id":35048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35045,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34903,"src":"2781:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":35046,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2789:3:43","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":35047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2793:6:43","memberName":"sender","nodeType":"MemberAccess","src":"2789:10:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2781:18:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35049,"nodeType":"ExpressionStatement","src":"2781:18:43"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":35023,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35014,"mutability":"mutable","name":"_vault","nameLocation":"2539:6:43","nodeType":"VariableDeclaration","scope":35051,"src":"2531:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35013,"name":"address","nodeType":"ElementaryTypeName","src":"2531:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35016,"mutability":"mutable","name":"_router","nameLocation":"2555:7:43","nodeType":"VariableDeclaration","scope":35051,"src":"2547:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35015,"name":"address","nodeType":"ElementaryTypeName","src":"2547:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35018,"mutability":"mutable","name":"_shortsTracker","nameLocation":"2572:14:43","nodeType":"VariableDeclaration","scope":35051,"src":"2564:22:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35017,"name":"address","nodeType":"ElementaryTypeName","src":"2564:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35020,"mutability":"mutable","name":"_weth","nameLocation":"2596:5:43","nodeType":"VariableDeclaration","scope":35051,"src":"2588:13:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35019,"name":"address","nodeType":"ElementaryTypeName","src":"2588:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35022,"mutability":"mutable","name":"_depositFee","nameLocation":"2611:11:43","nodeType":"VariableDeclaration","scope":35051,"src":"2603:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35021,"name":"uint256","nodeType":"ElementaryTypeName","src":"2603:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2530:93:43"},"returnParameters":{"id":35024,"nodeType":"ParameterList","parameters":[],"src":"2624:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":35063,"nodeType":"FunctionDefinition","src":"2812:89:43","nodes":[],"body":{"id":35062,"nodeType":"Block","src":"2839:62:43","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":35058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35055,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2857:3:43","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":35056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2861:6:43","memberName":"sender","nodeType":"MemberAccess","src":"2857:10:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":35057,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34911,"src":"2871:4:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2857:18:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"696e76616c69642073656e646572","id":35059,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2877:16:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_175ad23f068aed3ab88ee19620d541e9ae3d91161407ed4bb90c97cce31b0783","typeString":"literal_string \"invalid sender\""},"value":"invalid sender"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_175ad23f068aed3ab88ee19620d541e9ae3d91161407ed4bb90c97cce31b0783","typeString":"literal_string \"invalid sender\""}],"id":35054,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2849:7:43","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":35060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2849:45:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35061,"nodeType":"ExpressionStatement","src":"2849:45:43"}]},"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":35052,"nodeType":"ParameterList","parameters":[],"src":"2819:2:43"},"returnParameters":{"id":35053,"nodeType":"ParameterList","parameters":[],"src":"2839:0:43"},"scope":35840,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":35079,"nodeType":"FunctionDefinition","src":"2907:113:43","nodes":[],"body":{"id":35078,"nodeType":"Block","src":"2958:62:43","nodes":[],"statements":[{"expression":{"id":35072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35070,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34903,"src":"2968:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35071,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35065,"src":"2976:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2968:14:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35073,"nodeType":"ExpressionStatement","src":"2968:14:43"},{"eventCall":{"arguments":[{"id":35075,"name":"_admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35065,"src":"3006:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35074,"name":"SetAdmin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34957,"src":"2997:8:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":35076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2997:16:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35077,"nodeType":"EmitStatement","src":"2992:21:43"}]},"functionSelector":"704b6c02","implemented":true,"kind":"function","modifiers":[{"id":35068,"kind":"modifierInvocation","modifierName":{"id":35067,"name":"onlyGov","nameLocations":["2950:7:43"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"2950:7:43"},"nodeType":"ModifierInvocation","src":"2950:7:43"}],"name":"setAdmin","nameLocation":"2916:8:43","parameters":{"id":35066,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35065,"mutability":"mutable","name":"_admin","nameLocation":"2933:6:43","nodeType":"VariableDeclaration","scope":35079,"src":"2925:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35064,"name":"address","nodeType":"ElementaryTypeName","src":"2925:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2924:16:43"},"returnParameters":{"id":35069,"nodeType":"ParameterList","parameters":[],"src":"2958:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35095,"nodeType":"FunctionDefinition","src":"3026:199:43","nodes":[],"body":{"id":35094,"nodeType":"Block","src":"3107:118:43","nodes":[],"statements":[{"expression":{"id":35088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35086,"name":"ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34916,"src":"3117:19:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35087,"name":"_ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35081,"src":"3139:20:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3117:42:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35089,"nodeType":"ExpressionStatement","src":"3117:42:43"},{"eventCall":{"arguments":[{"id":35091,"name":"_ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35081,"src":"3197:20:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35090,"name":"SetEthTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34945,"src":"3174:22:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":35092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3174:44:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35093,"nodeType":"EmitStatement","src":"3169:49:43"}]},"functionSelector":"3a9b52ad","implemented":true,"kind":"function","modifiers":[{"id":35084,"kind":"modifierInvocation","modifierName":{"id":35083,"name":"onlyAdmin","nameLocations":["3097:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"3097:9:43"},"nodeType":"ModifierInvocation","src":"3097:9:43"}],"name":"setEthTransferGasLimit","nameLocation":"3035:22:43","parameters":{"id":35082,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35081,"mutability":"mutable","name":"_ethTransferGasLimit","nameLocation":"3066:20:43","nodeType":"VariableDeclaration","scope":35095,"src":"3058:28:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35080,"name":"uint256","nodeType":"ElementaryTypeName","src":"3058:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3057:30:43"},"returnParameters":{"id":35085,"nodeType":"ParameterList","parameters":[],"src":"3107:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35111,"nodeType":"FunctionDefinition","src":"3231:145:43","nodes":[],"body":{"id":35110,"nodeType":"Block","src":"3294:82:43","nodes":[],"statements":[{"expression":{"id":35104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35102,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34918,"src":"3304:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35103,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35097,"src":"3317:11:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3304:24:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35105,"nodeType":"ExpressionStatement","src":"3304:24:43"},{"eventCall":{"arguments":[{"id":35107,"name":"_depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35097,"src":"3357:11:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35106,"name":"SetDepositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34941,"src":"3343:13:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":35108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3343:26:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35109,"nodeType":"EmitStatement","src":"3338:31:43"}]},"functionSelector":"490ae210","implemented":true,"kind":"function","modifiers":[{"id":35100,"kind":"modifierInvocation","modifierName":{"id":35099,"name":"onlyAdmin","nameLocations":["3284:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"3284:9:43"},"nodeType":"ModifierInvocation","src":"3284:9:43"}],"name":"setDepositFee","nameLocation":"3240:13:43","parameters":{"id":35098,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35097,"mutability":"mutable","name":"_depositFee","nameLocation":"3262:11:43","nodeType":"VariableDeclaration","scope":35111,"src":"3254:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35096,"name":"uint256","nodeType":"ElementaryTypeName","src":"3254:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3253:21:43"},"returnParameters":{"id":35101,"nodeType":"ParameterList","parameters":[],"src":"3294:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35127,"nodeType":"FunctionDefinition","src":"3382:235:43","nodes":[],"body":{"id":35126,"nodeType":"Block","src":"3475:142:43","nodes":[],"statements":[{"expression":{"id":35120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35118,"name":"increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34921,"src":"3485:25:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35119,"name":"_increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35113,"src":"3513:26:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3485:54:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35121,"nodeType":"ExpressionStatement","src":"3485:54:43"},{"eventCall":{"arguments":[{"id":35123,"name":"_increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35113,"src":"3583:26:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35122,"name":"SetIncreasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34949,"src":"3554:28:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":35124,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3554:56:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35125,"nodeType":"EmitStatement","src":"3549:61:43"}]},"functionSelector":"233bfe3b","implemented":true,"kind":"function","modifiers":[{"id":35116,"kind":"modifierInvocation","modifierName":{"id":35115,"name":"onlyAdmin","nameLocations":["3465:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"3465:9:43"},"nodeType":"ModifierInvocation","src":"3465:9:43"}],"name":"setIncreasePositionBufferBps","nameLocation":"3391:28:43","parameters":{"id":35114,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35113,"mutability":"mutable","name":"_increasePositionBufferBps","nameLocation":"3428:26:43","nodeType":"VariableDeclaration","scope":35127,"src":"3420:34:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35112,"name":"uint256","nodeType":"ElementaryTypeName","src":"3420:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3419:36:43"},"returnParameters":{"id":35117,"nodeType":"ParameterList","parameters":[],"src":"3475:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35143,"nodeType":"FunctionDefinition","src":"3623:175:43","nodes":[],"body":{"id":35142,"nodeType":"Block","src":"3696:102:43","nodes":[],"statements":[{"expression":{"id":35136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35134,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34923,"src":"3706:15:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35135,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35129,"src":"3724:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3706:34:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35137,"nodeType":"ExpressionStatement","src":"3706:34:43"},{"eventCall":{"arguments":[{"id":35139,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35129,"src":"3774:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35138,"name":"SetReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34953,"src":"3755:18:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":35140,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3755:36:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35141,"nodeType":"EmitStatement","src":"3750:41:43"}]},"functionSelector":"ae4d7f9a","implemented":true,"kind":"function","modifiers":[{"id":35132,"kind":"modifierInvocation","modifierName":{"id":35131,"name":"onlyAdmin","nameLocations":["3686:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"3686:9:43"},"nodeType":"ModifierInvocation","src":"3686:9:43"}],"name":"setReferralStorage","nameLocation":"3632:18:43","parameters":{"id":35130,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35129,"mutability":"mutable","name":"_referralStorage","nameLocation":"3659:16:43","nodeType":"VariableDeclaration","scope":35143,"src":"3651:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35128,"name":"address","nodeType":"ElementaryTypeName","src":"3651:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3650:26:43"},"returnParameters":{"id":35133,"nodeType":"ParameterList","parameters":[],"src":"3696:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35199,"nodeType":"FunctionDefinition","src":"3804:442:43","nodes":[],"body":{"id":35198,"nodeType":"Block","src":"3955:291:43","nodes":[],"statements":[{"body":{"id":35190,"nodeType":"Block","src":"4010:163:43","statements":[{"assignments":[35169],"declarations":[{"constant":false,"id":35169,"mutability":"mutable","name":"token","nameLocation":"4032:5:43","nodeType":"VariableDeclaration","scope":35190,"src":"4024:13:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35168,"name":"address","nodeType":"ElementaryTypeName","src":"4024:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35173,"initialValue":{"baseExpression":{"id":35170,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35146,"src":"4040:7:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35172,"indexExpression":{"id":35171,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35158,"src":"4048:1:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4040:10:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4024:26:43"},{"expression":{"id":35180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":35174,"name":"maxGlobalLongSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34932,"src":"4064:18:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35176,"indexExpression":{"id":35175,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35169,"src":"4083:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4064:25:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":35177,"name":"_longSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35149,"src":"4092:10:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":35179,"indexExpression":{"id":35178,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35158,"src":"4103:1:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4092:13:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4064:41:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35181,"nodeType":"ExpressionStatement","src":"4064:41:43"},{"expression":{"id":35188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":35182,"name":"maxGlobalShortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34937,"src":"4119:19:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35184,"indexExpression":{"id":35183,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35169,"src":"4139:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4119:26:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":35185,"name":"_shortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35152,"src":"4148:11:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":35187,"indexExpression":{"id":35186,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35158,"src":"4160:1:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4148:14:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4119:43:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35189,"nodeType":"ExpressionStatement","src":"4119:43:43"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35161,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35158,"src":"3985:1:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":35162,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35146,"src":"3989:7:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3997:6:43","memberName":"length","nodeType":"MemberAccess","src":"3989:14:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3985:18:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35191,"initializationExpression":{"assignments":[35158],"declarations":[{"constant":false,"id":35158,"mutability":"mutable","name":"i","nameLocation":"3978:1:43","nodeType":"VariableDeclaration","scope":35191,"src":"3970:9:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35157,"name":"uint256","nodeType":"ElementaryTypeName","src":"3970:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35160,"initialValue":{"hexValue":"30","id":35159,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3982:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3970:13:43"},"loopExpression":{"expression":{"id":35166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4005:3:43","subExpression":{"id":35165,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35158,"src":"4005:1:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35167,"nodeType":"ExpressionStatement","src":"4005:3:43"},"nodeType":"ForStatement","src":"3965:208:43"},{"eventCall":{"arguments":[{"id":35193,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35146,"src":"4206:7:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":35194,"name":"_longSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35149,"src":"4215:10:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":35195,"name":"_shortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35152,"src":"4227:11:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":35192,"name":"SetMaxGlobalSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34976,"src":"4188:17:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256[] memory)"}},"id":35196,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:51:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35197,"nodeType":"EmitStatement","src":"4183:56:43"}]},"functionSelector":"ef12c67e","implemented":true,"kind":"function","modifiers":[{"id":35155,"kind":"modifierInvocation","modifierName":{"id":35154,"name":"onlyAdmin","nameLocations":["3941:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"3941:9:43"},"nodeType":"ModifierInvocation","src":"3941:9:43"}],"name":"setMaxGlobalSizes","nameLocation":"3813:17:43","parameters":{"id":35153,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35146,"mutability":"mutable","name":"_tokens","nameLocation":"3848:7:43","nodeType":"VariableDeclaration","scope":35199,"src":"3831:24:43","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":35144,"name":"address","nodeType":"ElementaryTypeName","src":"3831:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35145,"nodeType":"ArrayTypeName","src":"3831:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":35149,"mutability":"mutable","name":"_longSizes","nameLocation":"3874:10:43","nodeType":"VariableDeclaration","scope":35199,"src":"3857:27:43","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":35147,"name":"uint256","nodeType":"ElementaryTypeName","src":"3857:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35148,"nodeType":"ArrayTypeName","src":"3857:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":35152,"mutability":"mutable","name":"_shortSizes","nameLocation":"3903:11:43","nodeType":"VariableDeclaration","scope":35199,"src":"3886:28:43","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":35150,"name":"uint256","nodeType":"ElementaryTypeName","src":"3886:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35151,"nodeType":"ArrayTypeName","src":"3886:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"3830:85:43"},"returnParameters":{"id":35156,"nodeType":"ParameterList","parameters":[],"src":"3955:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35240,"nodeType":"FunctionDefinition","src":"4252:307:43","nodes":[],"body":{"id":35239,"nodeType":"Block","src":"4328:231:43","nodes":[],"statements":[{"assignments":[35209],"declarations":[{"constant":false,"id":35209,"mutability":"mutable","name":"amount","nameLocation":"4346:6:43","nodeType":"VariableDeclaration","scope":35239,"src":"4338:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35208,"name":"uint256","nodeType":"ElementaryTypeName","src":"4338:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35213,"initialValue":{"baseExpression":{"id":35210,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34927,"src":"4355:11:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35212,"indexExpression":{"id":35211,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35201,"src":"4367:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4355:19:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4338:36:43"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35214,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35209,"src":"4388:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":35215,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4398:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4388:11:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35218,"nodeType":"IfStatement","src":"4384:24:43","trueBody":{"functionReturnParameters":35207,"id":35217,"nodeType":"Return","src":"4401:7:43"}},{"expression":{"id":35223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":35219,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34927,"src":"4418:11:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35221,"indexExpression":{"id":35220,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35201,"src":"4430:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4418:19:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":35222,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4440:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4418:23:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35224,"nodeType":"ExpressionStatement","src":"4418:23:43"},{"expression":{"arguments":[{"id":35229,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35203,"src":"4479:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35230,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35209,"src":"4490:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":35226,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35201,"src":"4458:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35225,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56917,"src":"4451:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$56917_$","typeString":"type(contract IERC20)"}},"id":35227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4451:14:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56917","typeString":"contract IERC20"}},"id":35228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4466:12:43","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":57029,"src":"4451:27:43","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$56917_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$56917_$","typeString":"function (contract IERC20,address,uint256)"}},"id":35231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4451:46:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35232,"nodeType":"ExpressionStatement","src":"4451:46:43"},{"eventCall":{"arguments":[{"id":35234,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35201,"src":"4526:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35235,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35203,"src":"4534:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35236,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35209,"src":"4545:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35233,"name":"WithdrawFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34965,"src":"4513:12:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":35237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4513:39:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35238,"nodeType":"EmitStatement","src":"4508:44:43"}]},"functionSelector":"f2555278","implemented":true,"kind":"function","modifiers":[{"id":35206,"kind":"modifierInvocation","modifierName":{"id":35205,"name":"onlyAdmin","nameLocations":["4318:9:43"],"nodeType":"IdentifierPath","referencedDeclaration":35012,"src":"4318:9:43"},"nodeType":"ModifierInvocation","src":"4318:9:43"}],"name":"withdrawFees","nameLocation":"4261:12:43","parameters":{"id":35204,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35201,"mutability":"mutable","name":"_token","nameLocation":"4282:6:43","nodeType":"VariableDeclaration","scope":35240,"src":"4274:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35200,"name":"address","nodeType":"ElementaryTypeName","src":"4274:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35203,"mutability":"mutable","name":"_receiver","nameLocation":"4298:9:43","nodeType":"VariableDeclaration","scope":35240,"src":"4290:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35202,"name":"address","nodeType":"ElementaryTypeName","src":"4290:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4273:35:43"},"returnParameters":{"id":35207,"nodeType":"ParameterList","parameters":[],"src":"4328:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35260,"nodeType":"FunctionDefinition","src":"4565:143:43","nodes":[],"body":{"id":35259,"nodeType":"Block","src":"4650:58:43","nodes":[],"statements":[{"expression":{"arguments":[{"id":35255,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35244,"src":"4683:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35256,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35246,"src":"4693:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":35252,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35242,"src":"4667:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35251,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56917,"src":"4660:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$56917_$","typeString":"type(contract IERC20)"}},"id":35253,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4660:14:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$56917","typeString":"contract IERC20"}},"id":35254,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4675:7:43","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":56904,"src":"4660:22:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":35257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4660:41:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35258,"nodeType":"ExpressionStatement","src":"4660:41:43"}]},"functionSelector":"e1f21c67","implemented":true,"kind":"function","modifiers":[{"id":35249,"kind":"modifierInvocation","modifierName":{"id":35248,"name":"onlyGov","nameLocations":["4642:7:43"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"4642:7:43"},"nodeType":"ModifierInvocation","src":"4642:7:43"}],"name":"approve","nameLocation":"4574:7:43","parameters":{"id":35247,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35242,"mutability":"mutable","name":"_token","nameLocation":"4590:6:43","nodeType":"VariableDeclaration","scope":35260,"src":"4582:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35241,"name":"address","nodeType":"ElementaryTypeName","src":"4582:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35244,"mutability":"mutable","name":"_spender","nameLocation":"4606:8:43","nodeType":"VariableDeclaration","scope":35260,"src":"4598:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35243,"name":"address","nodeType":"ElementaryTypeName","src":"4598:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35246,"mutability":"mutable","name":"_amount","nameLocation":"4624:7:43","nodeType":"VariableDeclaration","scope":35260,"src":"4616:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35245,"name":"uint256","nodeType":"ElementaryTypeName","src":"4616:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4581:51:43"},"returnParameters":{"id":35250,"nodeType":"ParameterList","parameters":[],"src":"4650:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35276,"nodeType":"FunctionDefinition","src":"4714:125:43","nodes":[],"body":{"id":35275,"nodeType":"Block","src":"4794:45:43","nodes":[],"statements":[{"expression":{"arguments":[{"id":35272,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35264,"src":"4824:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":35269,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35262,"src":"4804:9:43","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":35271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4814:9:43","memberName":"sendValue","nodeType":"MemberAccess","referencedDeclaration":57525,"src":"4804:19:43","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$_t_uint256_$returns$__$attached_to$_t_address_payable_$","typeString":"function (address payable,uint256)"}},"id":35273,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4804:28:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35274,"nodeType":"ExpressionStatement","src":"4804:28:43"}]},"functionSelector":"24a084df","implemented":true,"kind":"function","modifiers":[{"id":35267,"kind":"modifierInvocation","modifierName":{"id":35266,"name":"onlyGov","nameLocations":["4786:7:43"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"4786:7:43"},"nodeType":"ModifierInvocation","src":"4786:7:43"}],"name":"sendValue","nameLocation":"4723:9:43","parameters":{"id":35265,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35262,"mutability":"mutable","name":"_receiver","nameLocation":"4749:9:43","nodeType":"VariableDeclaration","scope":35276,"src":"4733:25:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":35261,"name":"address","nodeType":"ElementaryTypeName","src":"4733:15:43","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"},{"constant":false,"id":35264,"mutability":"mutable","name":"_amount","nameLocation":"4768:7:43","nodeType":"VariableDeclaration","scope":35276,"src":"4760:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35263,"name":"uint256","nodeType":"ElementaryTypeName","src":"4760:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4732:44:43"},"returnParameters":{"id":35268,"nodeType":"ParameterList","parameters":[],"src":"4794:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":35348,"nodeType":"FunctionDefinition","src":"4845:742:43","nodes":[],"body":{"id":35347,"nodeType":"Block","src":"4946:641:43","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35287,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35285,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35282,"src":"4960:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":35286,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4974:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4960:15:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35290,"nodeType":"IfStatement","src":"4956:52:43","trueBody":{"id":35289,"nodeType":"Block","src":"4977:31:43","statements":[{"functionReturnParameters":35284,"id":35288,"nodeType":"Return","src":"4991:7:43"}]}},{"condition":{"id":35291,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35280,"src":"5022:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":35345,"nodeType":"Block","src":"5299:282:43","statements":[{"assignments":[35320],"declarations":[{"constant":false,"id":35320,"mutability":"mutable","name":"maxGlobalShortSize","nameLocation":"5321:18:43","nodeType":"VariableDeclaration","scope":35345,"src":"5313:26:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35319,"name":"uint256","nodeType":"ElementaryTypeName","src":"5313:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35324,"initialValue":{"baseExpression":{"id":35321,"name":"maxGlobalShortSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34937,"src":"5342:19:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35323,"indexExpression":{"id":35322,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35278,"src":"5362:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5342:32:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5313:61:43"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":35338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35325,"name":"maxGlobalShortSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35320,"src":"5392:18:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":35326,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5413:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5392:22:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":35332,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35278,"src":"5449:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35329,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"5425:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35328,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"5418:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5418:13:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5432:16:43","memberName":"globalShortSizes","nodeType":"MemberAccess","referencedDeclaration":53312,"src":"5418:30:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":35333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5418:43:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":35334,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35282,"src":"5464:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5418:56:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35336,"name":"maxGlobalShortSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35320,"src":"5477:18:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5418:77:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5392:103:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35344,"nodeType":"IfStatement","src":"5388:183:43","trueBody":{"id":35343,"nodeType":"Block","src":"5509:62:43","statements":[{"expression":{"arguments":[{"hexValue":"6d61782073686f727473206578636565646564","id":35340,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5534:21:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_e31bc38308f1bfce89ce1974a1fb3f8ac21f556f8fc6a7e5beab0885b0759ed9","typeString":"literal_string \"max shorts exceeded\""},"value":"max shorts exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_e31bc38308f1bfce89ce1974a1fb3f8ac21f556f8fc6a7e5beab0885b0759ed9","typeString":"literal_string \"max shorts exceeded\""}],"id":35339,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"5527:6:43","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":35341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5527:29:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35342,"nodeType":"ExpressionStatement","src":"5527:29:43"}]}}]},"id":35346,"nodeType":"IfStatement","src":"5018:563:43","trueBody":{"id":35318,"nodeType":"Block","src":"5031:262:43","statements":[{"assignments":[35293],"declarations":[{"constant":false,"id":35293,"mutability":"mutable","name":"maxGlobalLongSize","nameLocation":"5053:17:43","nodeType":"VariableDeclaration","scope":35318,"src":"5045:25:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35292,"name":"uint256","nodeType":"ElementaryTypeName","src":"5045:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35297,"initialValue":{"baseExpression":{"id":35294,"name":"maxGlobalLongSizes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34932,"src":"5073:18:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35296,"indexExpression":{"id":35295,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35278,"src":"5092:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5073:31:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5045:59:43"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":35311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35298,"name":"maxGlobalLongSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35293,"src":"5122:17:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":35299,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5142:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5122:21:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":35305,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35278,"src":"5175:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35302,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"5154:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35301,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"5147:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35303,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5147:13:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5161:13:43","memberName":"guaranteedUsd","nodeType":"MemberAccess","referencedDeclaration":53347,"src":"5147:27:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":35306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5147:40:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":35307,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35282,"src":"5190:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5147:53:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35309,"name":"maxGlobalLongSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35293,"src":"5203:17:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5147:73:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5122:98:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35317,"nodeType":"IfStatement","src":"5118:165:43","trueBody":{"id":35316,"nodeType":"Block","src":"5222:61:43","statements":[{"expression":{"arguments":[{"hexValue":"6d6178206c6f6e6773206578636565646564","id":35313,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5247:20:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_7e59af16ab48264fd2e24e13cfa8bb955e5036210d961e6f15d26f5ffaeacf66","typeString":"literal_string \"max longs exceeded\""},"value":"max longs exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_7e59af16ab48264fd2e24e13cfa8bb955e5036210d961e6f15d26f5ffaeacf66","typeString":"literal_string \"max longs exceeded\""}],"id":35312,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"5240:6:43","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":35314,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5240:28:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35315,"nodeType":"ExpressionStatement","src":"5240:28:43"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_validateMaxGlobalSize","nameLocation":"4854:22:43","parameters":{"id":35283,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35278,"mutability":"mutable","name":"_indexToken","nameLocation":"4885:11:43","nodeType":"VariableDeclaration","scope":35348,"src":"4877:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35277,"name":"address","nodeType":"ElementaryTypeName","src":"4877:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35280,"mutability":"mutable","name":"_isLong","nameLocation":"4903:7:43","nodeType":"VariableDeclaration","scope":35348,"src":"4898:12:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35279,"name":"bool","nodeType":"ElementaryTypeName","src":"4898:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":35282,"mutability":"mutable","name":"_sizeDelta","nameLocation":"4920:10:43","nodeType":"VariableDeclaration","scope":35348,"src":"4912:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35281,"name":"uint256","nodeType":"ElementaryTypeName","src":"4912:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4876:55:43"},"returnParameters":{"id":35284,"nodeType":"ParameterList","parameters":[],"src":"4946:0:43"},"scope":35840,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":35389,"nodeType":"FunctionDefinition","src":"5593:503:43","nodes":[],"body":{"id":35388,"nodeType":"Block","src":"5798:298:43","nodes":[],"statements":[{"expression":{"arguments":[{"id":35364,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35354,"src":"5831:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35365,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35358,"src":"5844:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":35366,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35356,"src":"5853:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35363,"name":"_validateMaxGlobalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35348,"src":"5808:22:43","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bool_$_t_uint256_$returns$__$","typeString":"function (address,bool,uint256) view"}},"id":35367,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5808:56:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35368,"nodeType":"ExpressionStatement","src":"5808:56:43"},{"expression":{"arguments":[{"id":35372,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"5919:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35373,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34909,"src":"5926:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35374,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34907,"src":"5934:13:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35375,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35350,"src":"5949:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35376,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35352,"src":"5959:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35377,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35354,"src":"5977:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35378,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35356,"src":"5990:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35379,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35358,"src":"6002:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":35380,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35360,"src":"6011:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":35369,"name":"PositionUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43503,"src":"5875:13:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PositionUtils_$43503_$","typeString":"type(library PositionUtils)"}},"id":35371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5889:16:43","memberName":"increasePosition","nodeType":"MemberAccess","referencedDeclaration":43502,"src":"5875:30:43","typeDescriptions":{"typeIdentifier":"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_address_$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_bool_$_t_uint256_$returns$__$","typeString":"function (address,address,address,address,address,address,uint256,bool,uint256)"}},"id":35381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5875:152:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35382,"nodeType":"ExpressionStatement","src":"5875:152:43"},{"expression":{"arguments":[{"id":35384,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35350,"src":"6068:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35385,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35356,"src":"6078:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35383,"name":"_emitIncreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35780,"src":"6038:29:43","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":35386,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6038:51:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35387,"nodeType":"ExpressionStatement","src":"6038:51:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_increasePosition","nameLocation":"5602:17:43","parameters":{"id":35361,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35350,"mutability":"mutable","name":"_account","nameLocation":"5637:8:43","nodeType":"VariableDeclaration","scope":35389,"src":"5629:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35349,"name":"address","nodeType":"ElementaryTypeName","src":"5629:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35352,"mutability":"mutable","name":"_collateralToken","nameLocation":"5663:16:43","nodeType":"VariableDeclaration","scope":35389,"src":"5655:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35351,"name":"address","nodeType":"ElementaryTypeName","src":"5655:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35354,"mutability":"mutable","name":"_indexToken","nameLocation":"5697:11:43","nodeType":"VariableDeclaration","scope":35389,"src":"5689:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35353,"name":"address","nodeType":"ElementaryTypeName","src":"5689:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35356,"mutability":"mutable","name":"_sizeDelta","nameLocation":"5726:10:43","nodeType":"VariableDeclaration","scope":35389,"src":"5718:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35355,"name":"uint256","nodeType":"ElementaryTypeName","src":"5718:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35358,"mutability":"mutable","name":"_isLong","nameLocation":"5751:7:43","nodeType":"VariableDeclaration","scope":35389,"src":"5746:12:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35357,"name":"bool","nodeType":"ElementaryTypeName","src":"5746:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":35360,"mutability":"mutable","name":"_price","nameLocation":"5776:6:43","nodeType":"VariableDeclaration","scope":35389,"src":"5768:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35359,"name":"uint256","nodeType":"ElementaryTypeName","src":"5768:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5619:169:43"},"returnParameters":{"id":35362,"nodeType":"ParameterList","parameters":[],"src":"5798:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35507,"nodeType":"FunctionDefinition","src":"6102:1284:43","nodes":[],"body":{"id":35506,"nodeType":"Block","src":"6386:1000:43","nodes":[],"statements":[{"assignments":[35411],"declarations":[{"constant":false,"id":35411,"mutability":"mutable","name":"_vault","nameLocation":"6404:6:43","nodeType":"VariableDeclaration","scope":35506,"src":"6396:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35410,"name":"address","nodeType":"ElementaryTypeName","src":"6396:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35413,"initialValue":{"id":35412,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"6413:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6396:22:43"},{"assignments":[35415],"declarations":[{"constant":false,"id":35415,"mutability":"mutable","name":"markPrice","nameLocation":"6437:9:43","nodeType":"VariableDeclaration","scope":35506,"src":"6429:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35414,"name":"uint256","nodeType":"ElementaryTypeName","src":"6429:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35430,"initialValue":{"condition":{"id":35416,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35401,"src":"6449:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":35427,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35395,"src":"6528:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35424,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35411,"src":"6508:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35423,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"6501:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35425,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6501:14:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6516:11:43","memberName":"getMaxPrice","nodeType":"MemberAccess","referencedDeclaration":53398,"src":"6501:26:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":35428,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6501:39:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6449:91:43","trueExpression":{"arguments":[{"id":35421,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35395,"src":"6486:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35418,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35411,"src":"6466:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35417,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"6459:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35419,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6459:14:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6474:11:43","memberName":"getMinPrice","nodeType":"MemberAccess","referencedDeclaration":53405,"src":"6459:26:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":35422,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6459:39:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6429:111:43"},{"condition":{"id":35431,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35401,"src":"6554:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":35447,"nodeType":"Block","src":"6643:74:43","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35441,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35415,"src":"6665:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":35442,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35405,"src":"6678:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6665:19:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"6d61726b5072696365203e207072696365","id":35444,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6686:19:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_fa45b7a3f6f3ec20038e49a180248b57318b9c72a6695dd02fe12b56f908b342","typeString":"literal_string \"markPrice > price\""},"value":"markPrice > price"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fa45b7a3f6f3ec20038e49a180248b57318b9c72a6695dd02fe12b56f908b342","typeString":"literal_string \"markPrice > price\""}],"id":35440,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6657:7:43","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":35445,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6657:49:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35446,"nodeType":"ExpressionStatement","src":"6657:49:43"}]},"id":35448,"nodeType":"IfStatement","src":"6550:167:43","trueBody":{"id":35439,"nodeType":"Block","src":"6563:74:43","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35435,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35433,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35415,"src":"6585:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":35434,"name":"_price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35405,"src":"6598:6:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6585:19:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"6d61726b5072696365203c207072696365","id":35436,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6606:19:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_e2c8241340f111591bf8f249b6e50205d0fc7a92cf488fadac5d60c809e440dc","typeString":"literal_string \"markPrice < price\""},"value":"markPrice < price"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e2c8241340f111591bf8f249b6e50205d0fc7a92cf488fadac5d60c809e440dc","typeString":"literal_string \"markPrice < price\""}],"id":35432,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6577:7:43","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":35437,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6577:49:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35438,"nodeType":"ExpressionStatement","src":"6577:49:43"}]}},{"assignments":[35450],"declarations":[{"constant":false,"id":35450,"mutability":"mutable","name":"timelock","nameLocation":"6735:8:43","nodeType":"VariableDeclaration","scope":35506,"src":"6727:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35449,"name":"address","nodeType":"ElementaryTypeName","src":"6727:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35456,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35452,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35411,"src":"6753:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35451,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"6746:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35453,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6746:14:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35454,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6761:3:43","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52854,"src":"6746:18:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":35455,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6746:20:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6727:39:43"},{"expression":{"arguments":[{"id":35461,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35391,"src":"6915:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35462,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35393,"src":"6925:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35463,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35395,"src":"6943:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35464,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35401,"src":"6956:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":35465,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35399,"src":"6965:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35466,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35415,"src":"6977:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":35467,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6988:5:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"arguments":[{"id":35458,"name":"shortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34907,"src":"6865:13:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35457,"name":"IShortsTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52808,"src":"6850:14:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IShortsTracker_$52808_$","typeString":"type(contract IShortsTracker)"}},"id":35459,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6850:29:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IShortsTracker_$52808","typeString":"contract IShortsTracker"}},"id":35460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6880:21:43","memberName":"updateGlobalShortData","nodeType":"MemberAccess","referencedDeclaration":52786,"src":"6850:51:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (address,address,address,bool,uint256,uint256,bool) external"}},"id":35468,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6850:153:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35469,"nodeType":"ExpressionStatement","src":"6850:153:43"},{"expression":{"arguments":[{"id":35474,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35411,"src":"7049:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35471,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35450,"src":"7024:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35470,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72474,"src":"7014:9:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$72474_$","typeString":"type(contract ITimelock)"}},"id":35472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$72474","typeString":"contract ITimelock"}},"id":35473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7034:14:43","memberName":"enableLeverage","nodeType":"MemberAccess","referencedDeclaration":72112,"src":"7014:34:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":35475,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:42:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35476,"nodeType":"ExpressionStatement","src":"7014:42:43"},{"assignments":[35478],"declarations":[{"constant":false,"id":35478,"mutability":"mutable","name":"amountOut","nameLocation":"7074:9:43","nodeType":"VariableDeclaration","scope":35506,"src":"7066:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35477,"name":"uint256","nodeType":"ElementaryTypeName","src":"7066:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35491,"initialValue":{"arguments":[{"id":35483,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35391,"src":"7138:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35484,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35393,"src":"7148:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35485,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35395,"src":"7166:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35486,"name":"_collateralDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35397,"src":"7179:16:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35487,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35399,"src":"7197:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35488,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35401,"src":"7209:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":35489,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35403,"src":"7218:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35480,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34909,"src":"7094:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35479,"name":"IRouter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52736,"src":"7086:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IRouter_$52736_$","typeString":"type(contract IRouter)"}},"id":35481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7086:15:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$52736","typeString":"contract IRouter"}},"id":35482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7102:22:43","memberName":"pluginDecreasePosition","nodeType":"MemberAccess","referencedDeclaration":52723,"src":"7086:38:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,address,uint256,uint256,bool,address) external returns (uint256)"}},"id":35490,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7086:151:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7066:171:43"},{"expression":{"arguments":[{"id":35496,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35411,"src":"7283:6:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35493,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35450,"src":"7257:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35492,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72474,"src":"7247:9:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$72474_$","typeString":"type(contract ITimelock)"}},"id":35494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7247:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$72474","typeString":"contract ITimelock"}},"id":35495,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7267:15:43","memberName":"disableLeverage","nodeType":"MemberAccess","referencedDeclaration":72117,"src":"7247:35:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":35497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7247:43:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35498,"nodeType":"ExpressionStatement","src":"7247:43:43"},{"expression":{"arguments":[{"id":35500,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35391,"src":"7331:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35501,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35399,"src":"7341:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":35499,"name":"_emitDecreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35839,"src":"7301:29:43","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":35502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7301:51:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35503,"nodeType":"ExpressionStatement","src":"7301:51:43"},{"expression":{"id":35504,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35478,"src":"7370:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35409,"id":35505,"nodeType":"Return","src":"7363:16:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_decreasePosition","nameLocation":"6111:17:43","parameters":{"id":35406,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35391,"mutability":"mutable","name":"_account","nameLocation":"6146:8:43","nodeType":"VariableDeclaration","scope":35507,"src":"6138:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35390,"name":"address","nodeType":"ElementaryTypeName","src":"6138:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35393,"mutability":"mutable","name":"_collateralToken","nameLocation":"6172:16:43","nodeType":"VariableDeclaration","scope":35507,"src":"6164:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35392,"name":"address","nodeType":"ElementaryTypeName","src":"6164:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35395,"mutability":"mutable","name":"_indexToken","nameLocation":"6206:11:43","nodeType":"VariableDeclaration","scope":35507,"src":"6198:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35394,"name":"address","nodeType":"ElementaryTypeName","src":"6198:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35397,"mutability":"mutable","name":"_collateralDelta","nameLocation":"6235:16:43","nodeType":"VariableDeclaration","scope":35507,"src":"6227:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35396,"name":"uint256","nodeType":"ElementaryTypeName","src":"6227:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35399,"mutability":"mutable","name":"_sizeDelta","nameLocation":"6269:10:43","nodeType":"VariableDeclaration","scope":35507,"src":"6261:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35398,"name":"uint256","nodeType":"ElementaryTypeName","src":"6261:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35401,"mutability":"mutable","name":"_isLong","nameLocation":"6294:7:43","nodeType":"VariableDeclaration","scope":35507,"src":"6289:12:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35400,"name":"bool","nodeType":"ElementaryTypeName","src":"6289:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":35403,"mutability":"mutable","name":"_receiver","nameLocation":"6319:9:43","nodeType":"VariableDeclaration","scope":35507,"src":"6311:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35402,"name":"address","nodeType":"ElementaryTypeName","src":"6311:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35405,"mutability":"mutable","name":"_price","nameLocation":"6346:6:43","nodeType":"VariableDeclaration","scope":35507,"src":"6338:14:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35404,"name":"uint256","nodeType":"ElementaryTypeName","src":"6338:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6128:230:43"},"returnParameters":{"id":35409,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35408,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":35507,"src":"6377:7:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35407,"name":"uint256","nodeType":"ElementaryTypeName","src":"6377:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6376:9:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35541,"nodeType":"FunctionDefinition","src":"7392:263:43","nodes":[],"body":{"id":35540,"nodeType":"Block","src":"7494:161:43","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35519,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35510,"src":"7508:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7514:6:43","memberName":"length","nodeType":"MemberAccess","src":"7508:12:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"32","id":35521,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7524:1:43","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"7508:17:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35535,"nodeType":"IfStatement","src":"7504:105:43","trueBody":{"id":35534,"nodeType":"Block","src":"7527:82:43","statements":[{"expression":{"arguments":[{"baseExpression":{"id":35524,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35510,"src":"7559:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35526,"indexExpression":{"hexValue":"30","id":35525,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7565:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7559:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":35527,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35510,"src":"7569:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35529,"indexExpression":{"hexValue":"31","id":35528,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7575:1:43","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7569:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35530,"name":"_minOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35512,"src":"7579:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35531,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35514,"src":"7588:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":35523,"name":"_vaultSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35575,"src":"7548:10:43","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,uint256,address) returns (uint256)"}},"id":35532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7548:50:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35518,"id":35533,"nodeType":"Return","src":"7541:57:43"}]}},{"expression":{"arguments":[{"hexValue":"696e76616c6964205f706174682e6c656e677468","id":35537,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7625:22:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_6bb25b40f00c36221d697676d65ea34330ca08a4aa30770d38fc6db73b948613","typeString":"literal_string \"invalid _path.length\""},"value":"invalid _path.length"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6bb25b40f00c36221d697676d65ea34330ca08a4aa30770d38fc6db73b948613","typeString":"literal_string \"invalid _path.length\""}],"id":35536,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"7618:6:43","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":35538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7618:30:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35539,"nodeType":"ExpressionStatement","src":"7618:30:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_swap","nameLocation":"7401:5:43","parameters":{"id":35515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35510,"mutability":"mutable","name":"_path","nameLocation":"7424:5:43","nodeType":"VariableDeclaration","scope":35541,"src":"7407:22:43","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":35508,"name":"address","nodeType":"ElementaryTypeName","src":"7407:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35509,"nodeType":"ArrayTypeName","src":"7407:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":35512,"mutability":"mutable","name":"_minOut","nameLocation":"7439:7:43","nodeType":"VariableDeclaration","scope":35541,"src":"7431:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35511,"name":"uint256","nodeType":"ElementaryTypeName","src":"7431:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35514,"mutability":"mutable","name":"_receiver","nameLocation":"7456:9:43","nodeType":"VariableDeclaration","scope":35541,"src":"7448:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35513,"name":"address","nodeType":"ElementaryTypeName","src":"7448:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7406:60:43"},"returnParameters":{"id":35518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35517,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":35541,"src":"7485:7:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35516,"name":"uint256","nodeType":"ElementaryTypeName","src":"7485:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7484:9:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35575,"nodeType":"FunctionDefinition","src":"7661:318:43","nodes":[],"body":{"id":35574,"nodeType":"Block","src":"7801:178:43","nodes":[],"statements":[{"assignments":[35555],"declarations":[{"constant":false,"id":35555,"mutability":"mutable","name":"amountOut","nameLocation":"7819:9:43","nodeType":"VariableDeclaration","scope":35574,"src":"7811:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35554,"name":"uint256","nodeType":"ElementaryTypeName","src":"7811:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35564,"initialValue":{"arguments":[{"id":35560,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35543,"src":"7850:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35561,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35545,"src":"7860:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35562,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35549,"src":"7871:9:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35557,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"7838:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35556,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"7831:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35558,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7831:13:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35559,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7845:4:43","memberName":"swap","nodeType":"MemberAccess","referencedDeclaration":53115,"src":"7831:18:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address,address) external returns (uint256)"}},"id":35563,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7831:50:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7811:70:43"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35566,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35555,"src":"7899:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":35567,"name":"_minOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35547,"src":"7912:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7899:20:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"696e73756666696369656e7420616d6f756e744f7574","id":35569,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7921:24:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_a4ffc30c61c8fce619a74c55696733a3aed4f85d934ab1f5cb72e5818cb86f41","typeString":"literal_string \"insufficient amountOut\""},"value":"insufficient amountOut"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_a4ffc30c61c8fce619a74c55696733a3aed4f85d934ab1f5cb72e5818cb86f41","typeString":"literal_string \"insufficient amountOut\""}],"id":35565,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"7891:7:43","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":35570,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7891:55:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35571,"nodeType":"ExpressionStatement","src":"7891:55:43"},{"expression":{"id":35572,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35555,"src":"7963:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35553,"id":35573,"nodeType":"Return","src":"7956:16:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_vaultSwap","nameLocation":"7670:10:43","parameters":{"id":35550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35543,"mutability":"mutable","name":"_tokenIn","nameLocation":"7689:8:43","nodeType":"VariableDeclaration","scope":35575,"src":"7681:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35542,"name":"address","nodeType":"ElementaryTypeName","src":"7681:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35545,"mutability":"mutable","name":"_tokenOut","nameLocation":"7707:9:43","nodeType":"VariableDeclaration","scope":35575,"src":"7699:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35544,"name":"address","nodeType":"ElementaryTypeName","src":"7699:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35547,"mutability":"mutable","name":"_minOut","nameLocation":"7726:7:43","nodeType":"VariableDeclaration","scope":35575,"src":"7718:15:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35546,"name":"uint256","nodeType":"ElementaryTypeName","src":"7718:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35549,"mutability":"mutable","name":"_receiver","nameLocation":"7743:9:43","nodeType":"VariableDeclaration","scope":35575,"src":"7735:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35548,"name":"address","nodeType":"ElementaryTypeName","src":"7735:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7680:73:43"},"returnParameters":{"id":35553,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35552,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":35575,"src":"7788:7:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35551,"name":"uint256","nodeType":"ElementaryTypeName","src":"7788:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7787:9:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35594,"nodeType":"FunctionDefinition","src":"7985:135:43","nodes":[],"body":{"id":35593,"nodeType":"Block","src":"8020:100:43","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35578,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8034:3:43","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":35579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8038:5:43","memberName":"value","nodeType":"MemberAccess","src":"8034:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":35580,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8047:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8034:14:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35592,"nodeType":"IfStatement","src":"8030:84:43","trueBody":{"id":35591,"nodeType":"Block","src":"8050:64:43","statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35583,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34911,"src":"8070:4:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35582,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81384,"src":"8064:5:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$81384_$","typeString":"type(contract IWETH)"}},"id":35584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8064:11:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"id":35585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8076:7:43","memberName":"deposit","nodeType":"MemberAccess","referencedDeclaration":81369,"src":"8064:19:43","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":35588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":35586,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8091:3:43","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":35587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8095:5:43","memberName":"value","nodeType":"MemberAccess","src":"8091:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8064:37:43","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":35589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8064:39:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35590,"nodeType":"ExpressionStatement","src":"8064:39:43"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_transferInETH","nameLocation":"7994:14:43","parameters":{"id":35576,"nodeType":"ParameterList","parameters":[],"src":"8008:2:43"},"returnParameters":{"id":35577,"nodeType":"ParameterList","parameters":[],"src":"8020:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35645,"nodeType":"FunctionDefinition","src":"8126:514:43","nodes":[],"body":{"id":35644,"nodeType":"Block","src":"8233:407:43","nodes":[],"statements":[{"assignments":[35603],"declarations":[{"constant":false,"id":35603,"mutability":"mutable","name":"_weth","nameLocation":"8249:5:43","nodeType":"VariableDeclaration","scope":35644,"src":"8243:11:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"},"typeName":{"id":35602,"nodeType":"UserDefinedTypeName","pathNode":{"id":35601,"name":"IWETH","nameLocations":["8243:5:43"],"nodeType":"IdentifierPath","referencedDeclaration":81384,"src":"8243:5:43"},"referencedDeclaration":81384,"src":"8243:5:43","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"visibility":"internal"}],"id":35607,"initialValue":{"arguments":[{"id":35605,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34911,"src":"8263:4:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35604,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81384,"src":"8257:5:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$81384_$","typeString":"type(contract IWETH)"}},"id":35606,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8257:11:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"nodeType":"VariableDeclarationStatement","src":"8243:25:43"},{"expression":{"arguments":[{"id":35611,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35596,"src":"8293:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":35608,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35603,"src":"8278:5:43","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"id":35610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8284:8:43","memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":81383,"src":"8278:14:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":35612,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8278:26:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35613,"nodeType":"ExpressionStatement","src":"8278:26:43"},{"assignments":[35615,null],"declarations":[{"constant":false,"id":35615,"mutability":"mutable","name":"success","nameLocation":"8321:7:43","nodeType":"VariableDeclaration","scope":35644,"src":"8316:12:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35614,"name":"bool","nodeType":"ElementaryTypeName","src":"8316:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":35623,"initialValue":{"arguments":[{"hexValue":"","id":35621,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8418:2:43","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"id":35616,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35598,"src":"8358:9:43","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":35617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8368:4:43","memberName":"call","nodeType":"MemberAccess","src":"8358:14:43","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":35620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value","gas"],"nodeType":"FunctionCallOptions","options":[{"id":35618,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35596,"src":"8380:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35619,"name":"ethTransferGasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34916,"src":"8397:19:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8358:59:43","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$gasvalue","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":35622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8358:63:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"8315:106:43"},{"condition":{"id":35624,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35615,"src":"8436:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35626,"nodeType":"IfStatement","src":"8432:20:43","trueBody":{"functionReturnParameters":35600,"id":35625,"nodeType":"Return","src":"8445:7:43"}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":[],"expression":{"id":35627,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35603,"src":"8543:5:43","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"id":35629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8549:7:43","memberName":"deposit","nodeType":"MemberAccess","referencedDeclaration":81369,"src":"8543:13:43","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":35631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":35630,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35596,"src":"8564:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"8543:32:43","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":35632,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8543:34:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35633,"nodeType":"ExpressionStatement","src":"8543:34:43"},{"expression":{"arguments":[{"arguments":[{"id":35639,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35598,"src":"8610:9:43","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":35638,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8602:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":35637,"name":"address","nodeType":"ElementaryTypeName","src":"8602:7:43","typeDescriptions":{}}},"id":35640,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8602:18:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35641,"name":"_amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35596,"src":"8622:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":35634,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35603,"src":"8587:5:43","typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$81384","typeString":"contract IWETH"}},"id":35636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8593:8:43","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":81378,"src":"8587:14:43","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":35642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8587:46:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35643,"nodeType":"ExpressionStatement","src":"8587:46:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_transferOutETHWithGasLimitFallbackToWeth","nameLocation":"8135:41:43","parameters":{"id":35599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35596,"mutability":"mutable","name":"_amountOut","nameLocation":"8185:10:43","nodeType":"VariableDeclaration","scope":35645,"src":"8177:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35595,"name":"uint256","nodeType":"ElementaryTypeName","src":"8177:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35598,"mutability":"mutable","name":"_receiver","nameLocation":"8213:9:43","nodeType":"VariableDeclaration","scope":35645,"src":"8197:25:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":35597,"name":"address","nodeType":"ElementaryTypeName","src":"8197:15:43","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"}],"src":"8176:47:43"},"returnParameters":{"id":35600,"nodeType":"ParameterList","parameters":[],"src":"8233:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35721,"nodeType":"FunctionDefinition","src":"8646:806:43","nodes":[],"body":{"id":35720,"nodeType":"Block","src":"8865:587:43","nodes":[],"statements":[{"assignments":[35664],"declarations":[{"constant":false,"id":35664,"mutability":"mutable","name":"shouldDeductFee","nameLocation":"8880:15:43","nodeType":"VariableDeclaration","scope":35720,"src":"8875:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35663,"name":"bool","nodeType":"ElementaryTypeName","src":"8875:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":35676,"initialValue":{"arguments":[{"id":35667,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"8941:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35668,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35647,"src":"8948:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35669,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35650,"src":"8958:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":35670,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35652,"src":"8965:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35671,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35654,"src":"8976:11:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35672,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35656,"src":"8989:7:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":35673,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35658,"src":"8998:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35674,"name":"increasePositionBufferBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34921,"src":"9010:25:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":35665,"name":"PositionUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43503,"src":"8898:13:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PositionUtils_$43503_$","typeString":"type(library PositionUtils)"}},"id":35666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8912:15:43","memberName":"shouldDeductFee","nodeType":"MemberAccess","referencedDeclaration":43399,"src":"8898:29:43","typeDescriptions":{"typeIdentifier":"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,address[] memory,uint256,address,bool,uint256,uint256) returns (bool)"}},"id":35675,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8898:147:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8875:170:43"},{"condition":{"id":35677,"name":"shouldDeductFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35664,"src":"9060:15:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35717,"nodeType":"IfStatement","src":"9056:363:43","trueBody":{"id":35716,"nodeType":"Block","src":"9077:342:43","statements":[{"assignments":[35679],"declarations":[{"constant":false,"id":35679,"mutability":"mutable","name":"afterFeeAmount","nameLocation":"9099:14:43","nodeType":"VariableDeclaration","scope":35716,"src":"9091:22:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35678,"name":"uint256","nodeType":"ElementaryTypeName","src":"9091:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35688,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35687,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35680,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35652,"src":"9116:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35683,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35681,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34901,"src":"9129:20:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":35682,"name":"depositFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34918,"src":"9152:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9129:33:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":35684,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9128:35:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9116:47:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":35686,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34901,"src":"9166:20:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9116:70:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9091:95:43"},{"assignments":[35690],"declarations":[{"constant":false,"id":35690,"mutability":"mutable","name":"feeAmount","nameLocation":"9208:9:43","nodeType":"VariableDeclaration","scope":35716,"src":"9200:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35689,"name":"uint256","nodeType":"ElementaryTypeName","src":"9200:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35694,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35691,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35652,"src":"9220:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":35692,"name":"afterFeeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35679,"src":"9232:14:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9220:26:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9200:46:43"},{"assignments":[35696],"declarations":[{"constant":false,"id":35696,"mutability":"mutable","name":"feeToken","nameLocation":"9268:8:43","nodeType":"VariableDeclaration","scope":35716,"src":"9260:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35695,"name":"address","nodeType":"ElementaryTypeName","src":"9260:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35703,"initialValue":{"baseExpression":{"id":35697,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35650,"src":"9279:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35702,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35698,"name":"_path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35650,"src":"9285:5:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":35699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9291:6:43","memberName":"length","nodeType":"MemberAccess","src":"9285:12:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":35700,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9300:1:43","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9285:16:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9279:23:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9260:42:43"},{"expression":{"id":35712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":35704,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34927,"src":"9316:11:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35706,"indexExpression":{"id":35705,"name":"feeToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35696,"src":"9328:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9316:21:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":35707,"name":"feeReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34927,"src":"9340:11:43","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":35709,"indexExpression":{"id":35708,"name":"feeToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35696,"src":"9352:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9340:21:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":35710,"name":"feeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35690,"src":"9364:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9340:33:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9316:57:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35713,"nodeType":"ExpressionStatement","src":"9316:57:43"},{"expression":{"id":35714,"name":"afterFeeAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35679,"src":"9394:14:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35662,"id":35715,"nodeType":"Return","src":"9387:21:43"}]}},{"expression":{"id":35718,"name":"_amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35652,"src":"9436:9:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35662,"id":35719,"nodeType":"Return","src":"9429:16:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_collectFees","nameLocation":"8655:12:43","parameters":{"id":35659,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35647,"mutability":"mutable","name":"_account","nameLocation":"8685:8:43","nodeType":"VariableDeclaration","scope":35721,"src":"8677:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35646,"name":"address","nodeType":"ElementaryTypeName","src":"8677:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35650,"mutability":"mutable","name":"_path","nameLocation":"8720:5:43","nodeType":"VariableDeclaration","scope":35721,"src":"8703:22:43","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":35648,"name":"address","nodeType":"ElementaryTypeName","src":"8703:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":35649,"nodeType":"ArrayTypeName","src":"8703:9:43","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":35652,"mutability":"mutable","name":"_amountIn","nameLocation":"8743:9:43","nodeType":"VariableDeclaration","scope":35721,"src":"8735:17:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35651,"name":"uint256","nodeType":"ElementaryTypeName","src":"8735:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35654,"mutability":"mutable","name":"_indexToken","nameLocation":"8770:11:43","nodeType":"VariableDeclaration","scope":35721,"src":"8762:19:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35653,"name":"address","nodeType":"ElementaryTypeName","src":"8762:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35656,"mutability":"mutable","name":"_isLong","nameLocation":"8796:7:43","nodeType":"VariableDeclaration","scope":35721,"src":"8791:12:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":35655,"name":"bool","nodeType":"ElementaryTypeName","src":"8791:4:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":35658,"mutability":"mutable","name":"_sizeDelta","nameLocation":"8821:10:43","nodeType":"VariableDeclaration","scope":35721,"src":"8813:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35657,"name":"uint256","nodeType":"ElementaryTypeName","src":"8813:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8667:170:43"},"returnParameters":{"id":35662,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35661,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":35721,"src":"8856:7:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35660,"name":"uint256","nodeType":"ElementaryTypeName","src":"8856:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8855:9:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35780,"nodeType":"FunctionDefinition","src":"9458:566:43","nodes":[],"body":{"id":35779,"nodeType":"Block","src":"9544:480:43","nodes":[],"statements":[{"assignments":[35729],"declarations":[{"constant":false,"id":35729,"mutability":"mutable","name":"_referralStorage","nameLocation":"9562:16:43","nodeType":"VariableDeclaration","scope":35779,"src":"9554:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35728,"name":"address","nodeType":"ElementaryTypeName","src":"9554:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35731,"initialValue":{"id":35730,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34923,"src":"9581:15:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9554:42:43"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":35737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35732,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35729,"src":"9610:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":35735,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9638:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":35734,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9630:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":35733,"name":"address","nodeType":"ElementaryTypeName","src":"9630:7:43","typeDescriptions":{}}},"id":35736,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9630:10:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9610:30:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35739,"nodeType":"IfStatement","src":"9606:43:43","trueBody":{"functionReturnParameters":35727,"id":35738,"nodeType":"Return","src":"9642:7:43"}},{"assignments":[35741,35743],"declarations":[{"constant":false,"id":35741,"mutability":"mutable","name":"referralCode","nameLocation":"9668:12:43","nodeType":"VariableDeclaration","scope":35779,"src":"9660:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":35740,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9660:7:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":35743,"mutability":"mutable","name":"referrer","nameLocation":"9690:8:43","nodeType":"VariableDeclaration","scope":35779,"src":"9682:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35742,"name":"address","nodeType":"ElementaryTypeName","src":"9682:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35750,"initialValue":{"arguments":[{"id":35748,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35723,"src":"9759:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35745,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35729,"src":"9719:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35744,"name":"IReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73061,"src":"9702:16:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IReferralStorage_$73061_$","typeString":"type(contract IReferralStorage)"}},"id":35746,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9702:34:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IReferralStorage_$73061","typeString":"contract IReferralStorage"}},"id":35747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9737:21:43","memberName":"getTraderReferralInfo","nodeType":"MemberAccess","referencedDeclaration":73030,"src":"9702:56:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bytes32_$_t_address_$","typeString":"function (address) view external returns (bytes32,address)"}},"id":35749,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9702:66:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_address_$","typeString":"tuple(bytes32,address)"}},"nodeType":"VariableDeclarationStatement","src":"9659:109:43"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":35756,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35751,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35741,"src":"9782:12:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":35754,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9806:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":35753,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9798:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":35752,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9798:7:43","typeDescriptions":{}}},"id":35755,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9798:10:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"9782:26:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35758,"nodeType":"IfStatement","src":"9778:39:43","trueBody":{"functionReturnParameters":35727,"id":35757,"nodeType":"Return","src":"9810:7:43"}},{"assignments":[35760],"declarations":[{"constant":false,"id":35760,"mutability":"mutable","name":"timelock","nameLocation":"9835:8:43","nodeType":"VariableDeclaration","scope":35779,"src":"9827:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35759,"name":"address","nodeType":"ElementaryTypeName","src":"9827:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35766,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35762,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"9853:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35761,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"9846:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35763,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9846:13:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9860:3:43","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52854,"src":"9846:17:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":35765,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9846:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9827:38:43"},{"eventCall":{"arguments":[{"id":35768,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35723,"src":"9919:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35769,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35725,"src":"9929:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35771,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35760,"src":"9951:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35770,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72474,"src":"9941:9:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$72474_$","typeString":"type(contract ITimelock)"}},"id":35772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9941:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$72474","typeString":"contract ITimelock"}},"id":35773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9961:20:43","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":71944,"src":"9941:40:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":35774,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9941:42:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35775,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35741,"src":"9985:12:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":35776,"name":"referrer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35743,"src":"9999:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":35767,"name":"IncreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34988,"src":"9881:24:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_bytes32_$_t_address_$returns$__$","typeString":"function (address,uint256,uint256,bytes32,address)"}},"id":35777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9881:136:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35778,"nodeType":"EmitStatement","src":"9876:141:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_emitIncreasePositionReferral","nameLocation":"9467:29:43","parameters":{"id":35726,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35723,"mutability":"mutable","name":"_account","nameLocation":"9505:8:43","nodeType":"VariableDeclaration","scope":35780,"src":"9497:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35722,"name":"address","nodeType":"ElementaryTypeName","src":"9497:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35725,"mutability":"mutable","name":"_sizeDelta","nameLocation":"9523:10:43","nodeType":"VariableDeclaration","scope":35780,"src":"9515:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35724,"name":"uint256","nodeType":"ElementaryTypeName","src":"9515:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9496:38:43"},"returnParameters":{"id":35727,"nodeType":"ParameterList","parameters":[],"src":"9544:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":35839,"nodeType":"FunctionDefinition","src":"10030:566:43","nodes":[],"body":{"id":35838,"nodeType":"Block","src":"10116:480:43","nodes":[],"statements":[{"assignments":[35788],"declarations":[{"constant":false,"id":35788,"mutability":"mutable","name":"_referralStorage","nameLocation":"10134:16:43","nodeType":"VariableDeclaration","scope":35838,"src":"10126:24:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35787,"name":"address","nodeType":"ElementaryTypeName","src":"10126:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35790,"initialValue":{"id":35789,"name":"referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34923,"src":"10153:15:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10126:42:43"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":35796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35791,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35788,"src":"10182:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":35794,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10210:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":35793,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10202:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":35792,"name":"address","nodeType":"ElementaryTypeName","src":"10202:7:43","typeDescriptions":{}}},"id":35795,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10202:10:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10182:30:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35798,"nodeType":"IfStatement","src":"10178:43:43","trueBody":{"functionReturnParameters":35786,"id":35797,"nodeType":"Return","src":"10214:7:43"}},{"assignments":[35800,35802],"declarations":[{"constant":false,"id":35800,"mutability":"mutable","name":"referralCode","nameLocation":"10240:12:43","nodeType":"VariableDeclaration","scope":35838,"src":"10232:20:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":35799,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10232:7:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":35802,"mutability":"mutable","name":"referrer","nameLocation":"10262:8:43","nodeType":"VariableDeclaration","scope":35838,"src":"10254:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35801,"name":"address","nodeType":"ElementaryTypeName","src":"10254:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35809,"initialValue":{"arguments":[{"id":35807,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35782,"src":"10331:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":35804,"name":"_referralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35788,"src":"10291:16:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35803,"name":"IReferralStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73061,"src":"10274:16:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IReferralStorage_$73061_$","typeString":"type(contract IReferralStorage)"}},"id":35805,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10274:34:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IReferralStorage_$73061","typeString":"contract IReferralStorage"}},"id":35806,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10309:21:43","memberName":"getTraderReferralInfo","nodeType":"MemberAccess","referencedDeclaration":73030,"src":"10274:56:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bytes32_$_t_address_$","typeString":"function (address) view external returns (bytes32,address)"}},"id":35808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10274:66:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_address_$","typeString":"tuple(bytes32,address)"}},"nodeType":"VariableDeclarationStatement","src":"10231:109:43"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":35815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35810,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35800,"src":"10354:12:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":35813,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10378:1:43","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":35812,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10370:7:43","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":35811,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10370:7:43","typeDescriptions":{}}},"id":35814,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10370:10:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"10354:26:43","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35817,"nodeType":"IfStatement","src":"10350:39:43","trueBody":{"functionReturnParameters":35786,"id":35816,"nodeType":"Return","src":"10382:7:43"}},{"assignments":[35819],"declarations":[{"constant":false,"id":35819,"mutability":"mutable","name":"timelock","nameLocation":"10407:8:43","nodeType":"VariableDeclaration","scope":35838,"src":"10399:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35818,"name":"address","nodeType":"ElementaryTypeName","src":"10399:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":35825,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35821,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34905,"src":"10425:5:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35820,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"10418:6:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":35822,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10418:13:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":35823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10432:3:43","memberName":"gov","nodeType":"MemberAccess","referencedDeclaration":52854,"src":"10418:17:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":35824,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10418:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10399:38:43"},{"eventCall":{"arguments":[{"id":35827,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35782,"src":"10491:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":35828,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35784,"src":"10501:10:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":35830,"name":"timelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35819,"src":"10523:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":35829,"name":"ITimelock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72474,"src":"10513:9:43","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITimelock_$72474_$","typeString":"type(contract ITimelock)"}},"id":35831,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10513:19:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ITimelock_$72474","typeString":"contract ITimelock"}},"id":35832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10533:20:43","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":71944,"src":"10513:40:43","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":35833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10513:42:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":35834,"name":"referralCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35800,"src":"10557:12:43","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":35835,"name":"referrer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35802,"src":"10571:8:43","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":35826,"name":"DecreasePositionReferral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35000,"src":"10453:24:43","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_bytes32_$_t_address_$returns$__$","typeString":"function (address,uint256,uint256,bytes32,address)"}},"id":35836,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10453:136:43","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":35837,"nodeType":"EmitStatement","src":"10448:141:43"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_emitDecreasePositionReferral","nameLocation":"10039:29:43","parameters":{"id":35785,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35782,"mutability":"mutable","name":"_account","nameLocation":"10077:8:43","nodeType":"VariableDeclaration","scope":35839,"src":"10069:16:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35781,"name":"address","nodeType":"ElementaryTypeName","src":"10069:7:43","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":35784,"mutability":"mutable","name":"_sizeDelta","nameLocation":"10095:10:43","nodeType":"VariableDeclaration","scope":35839,"src":"10087:18:43","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35783,"name":"uint256","nodeType":"ElementaryTypeName","src":"10087:7:43","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10068:38:43"},"returnParameters":{"id":35786,"nodeType":"ParameterList","parameters":[],"src":"10116:0:43"},"scope":35840,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":34886,"name":"IBasePositionManager","nameLocations":["675:20:43"],"nodeType":"IdentifierPath","referencedDeclaration":52194,"src":"675:20:43"},"id":34887,"nodeType":"InheritanceSpecifier","src":"675:20:43"},{"baseName":{"id":34888,"name":"ReentrancyGuard","nameLocations":["697:15:43"],"nodeType":"IdentifierPath","referencedDeclaration":59650,"src":"697:15:43"},"id":34889,"nodeType":"InheritanceSpecifier","src":"697:15:43"},{"baseName":{"id":34890,"name":"Governable","nameLocations":["714:10:43"],"nodeType":"IdentifierPath","referencedDeclaration":33234,"src":"714:10:43"},"id":34891,"nodeType":"InheritanceSpecifier","src":"714:10:43"}],"canonicalName":"BasePositionManager","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[35840,33234,59650,52194],"name":"BasePositionManager","nameLocation":"652:19:43","scope":35841,"usedErrors":[56996,57476,57481,57484,59595]}],"license":"MIT"},"id":43}