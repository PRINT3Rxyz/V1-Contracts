{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"contract IVault"}],"stateMutability":"nonpayable"},{"type":"function","name":"BASIS_POINTS_DIVISOR","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"FUNDING_RATE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getBuyUsdpFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEntryFundingRate","inputs":[{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpDelta","type":"uint256","internalType":"uint256"},{"name":"_feeBasisPoints","type":"uint256","internalType":"uint256"},{"name":"_taxBasisPoints","type":"uint256","internalType":"uint256"},{"name":"_increment","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFundingFee","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"},{"name":"_size","type":"uint256","internalType":"uint256"},{"name":"_entryFundingRate","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionFee","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"},{"name":"_sizeDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSellUsdpFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSwapFeeBasisPoints","inputs":[{"name":"_tokenIn","type":"address","internalType":"address"},{"name":"_tokenOut","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gov","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setGov","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateCumulativeFundingRate","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"pure"},{"type":"function","name":"validateDecreasePosition","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"validateIncreasePosition","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"validateLiquidation","inputs":[{"name":"_account","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_indexToken","type":"address","internalType":"address"},{"name":"_isLong","type":"bool","internalType":"bool"},{"name":"_raise","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IVault"}],"stateMutability":"view"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5060405161177e38038061177e83398101604081905261002f91610062565b60008054336001600160a01b031991821617909155600180549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b6116dd806100a16000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063c7e074c311610097578063da76524c11610066578063da76524c1461021e578063fbfa77cf14610231578063fbfded6d14610244578063fdaf6ac31461026a57600080fd5b8063c7e074c3146101bd578063cfad57a2146101d0578063d54d5a9f146101e3578063da1338161461020b57600080fd5b806371ba415e116100d357806371ba415e1461016957806381d11a231461017c5780639d5c28fa14610195578063b1cc53ab146101aa57600080fd5b8063126082cf1461010557806312d43a51146101215780635b396c921461014c5780636be6026b1461015f575b600080fd5b61010e61271081565b6040519081526020015b60405180910390f35b600054610134906001600160a01b031681565b6040516001600160a01b039091168152602001610118565b61010e61015a36600461120c565b61027d565b61010e620f424081565b61010e61017736600461120c565b610382565b61019361018a366004611247565b50505050505050565b005b6101936101a33660046112c1565b5050505050565b61010e6101b8366004611323565b61047e565b61010e6101cb36600461136a565b6104f5565b6101936101de3660046113b0565b61077c565b6101f66101f13660046113cb565b61084b565b60408051928352602083019190915201610118565b61010e610219366004611428565b610c0a565b61010e61022c366004611464565b610f2b565b600154610134906001600160a01b031681565b61025a6102523660046114cc565b600192915050565b6040519015158152602001610118565b61010e6102783660046114ff565b610ff3565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102fb919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561034e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610372919061155d565b60006104f5565b90505b92915050565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610400919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610453573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610477919061155d565b60016104f5565b60015460405163c65bc7b160e01b81526001600160a01b038581166004830152600092169063c65bc7b190602401602060405180830381865afa1580156104c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ed919061155d565b949350505050565b60015460408051639f392eb360e01b815290516000926001600160a01b031691639f392eb39160048083019260209291908290030181865afa15801561053f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105639190611576565b61056e575082610773565b60015460405163345a947960e11b81526001600160a01b03888116600483015260009216906368b528f290602401602060405180830381865afa1580156105b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105dd919061155d565b905060006105eb87836115b0565b90508361060e578187116106085761060387836115c3565b61060b565b60005b90505b600154604051635385b2d560e01b81526001600160a01b038a811660048301526000921690635385b2d590602401602060405180830381865afa158015610659573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067d919061155d565b90508060000361069257869350505050610773565b60008184116106aa576106a584836115c3565b6106b4565b6106b482856115c3565b905060008284116106ce576106c984846115c3565b6106d8565b6106d883856115c3565b905081811015610721576000836106ef848b6115d6565b6106f991906115ed565b90508981116107115761070c818b6115c3565b610714565b60005b9650505050505050610773565b6000600261072f83856115b0565b61073991906115ed565b9050838111156107465750825b600084610753838c6115d6565b61075d91906115ed565b9050610769818c6115b0565b9750505050505050505b95945050505050565b6000546001600160a01b031633146107d35760405162461bcd60e51b815260206004820152601560248201527423b7bb32b93730b136329d103337b93134b23232b760591b60448201526064015b60405180910390fd5b6001600160a01b0381166108295760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016107ca565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b600080600061085c888888886110b8565b600154815160408084015160c08501519151635c07eaab60e01b81526001600160a01b038c811660048301526024820194909452604481019190915289151560648201526084810191909152929350169060009081908390635c07eaab9060a4016040805180830381865afa1580156108d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fd919061160f565b9150915060006109198c8c8c8c89600001518a60600151610f2b565b905061092c8c8c8c8c8960000151610ff3565b61093690826115b0565b9050821580156109495750818560200151105b156109ac57871561099c5760405162461bcd60e51b815260206004820152601f60248201527f5661756c743a206c6f737365732065786365656420636f6c6c61746572616c0060448201526064016107ca565b600196509450610c009350505050565b6020850151836109c9578286602001516109c691906115c3565b90505b81811015610a30578815610a1f5760405162461bcd60e51b815260206004820152601d60248201527f5661756c743a20666565732065786365656420636f6c6c61746572616c00000060448201526064016107ca565b600197509550610c00945050505050565b846001600160a01b031663174d26946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a6e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a92919061155d565b610a9c90836115b0565b811015610b14578815610b035760405162461bcd60e51b815260206004820152602960248201527f5661756c743a206c69717569646174696f6e20666565732065786365656420636044820152681bdb1b185d195c985b60ba1b60648201526084016107ca565b50600196509450610c009350505050565b8551610b2390612710906115d6565b856001600160a01b031663ae3302c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b61573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b85919061155d565b610b8f90836115d6565b1015610bf4578815610be35760405162461bcd60e51b815260206004820152601b60248201527f5661756c743a206d61784c65766572616765206578636565646564000000000060448201526064016107ca565b50600296509450610c009350505050565b50600096509450505050505b9550959350505050565b6001546040516342b60b0360e01b81526001600160a01b03858116600483015260009283929116906342b60b0390602401602060405180830381865afa158015610c58573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c7c9190611576565b8015610cf157506001546040516342b60b0360e01b81526001600160a01b038681166004830152909116906342b60b0390602401602060405180830381865afa158015610ccd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cf19190611576565b9050600081610d7657600160009054906101000a90046001600160a01b03166001600160a01b031663a22f23926040518163ffffffff1660e01b8152600401602060405180830381865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d71919061155d565b610ded565b600160009054906101000a90046001600160a01b03166001600160a01b031663df73a2676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610dc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ded919061155d565b9050600082610e7257600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610e49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6d919061155d565b610ee9565b600160009054906101000a90046001600160a01b03166001600160a01b03166310eb56c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ec5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee9919061155d565b90506000610efb8887858560016104f5565b90506000610f0d8888868660006104f5565b9050808211610f1c5780610f1e565b815b9998505050505050505050565b600082600003610f3d57506000610fe9565b60015460405163c65bc7b160e01b81526001600160a01b038881166004830152600092859291169063c65bc7b190602401602060405180830381865afa158015610f8b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610faf919061155d565b610fb991906115c3565b905080600003610fcd576000915050610fe9565b620f4240610fdb82866115d6565b610fe591906115ed565b9150505b9695505050505050565b60008160000361100557506000610773565b6000612710600160009054906101000a90046001600160a01b03166001600160a01b031663318bc6896040518163ffffffff1660e01b8152600401602060405180830381865afa15801561105d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611081919061155d565b61108d906127106115c3565b61109790856115d6565b6110a191906115ed565b90506110ad81846115c3565b979650505050505050565b6110f86040518060e00160405280600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6001546040805160e081018252600080825260208201819052818301819052606082018190526080820181905260a0820181905260c082018190529151634a3f088d60e01b81526001600160a01b0389811660048301528881166024830152878116604483015286151560648301529093169290919081908190819081908790634a3f088d9060840161010060405180830381865afa15801561119f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c3919061163d565b968d5250505060208a01929092526040890152606088015260c087015250939a9950505050505050505050565b80356001600160a01b038116811461120757600080fd5b919050565b6000806040838503121561121f57600080fd5b611228836111f0565b946020939093013593505050565b801515811461124457600080fd5b50565b600080600080600080600060e0888a03121561126257600080fd5b61126b886111f0565b9650611279602089016111f0565b9550611287604089016111f0565b9450606088013593506080880135925060a08801356112a581611236565b91506112b360c089016111f0565b905092959891949750929550565b600080600080600060a086880312156112d957600080fd5b6112e2866111f0565b94506112f0602087016111f0565b93506112fe604087016111f0565b925060608601359150608086013561131581611236565b809150509295509295909350565b60008060006060848603121561133857600080fd5b611341846111f0565b925061134f602085016111f0565b9150604084013561135f81611236565b809150509250925092565b600080600080600060a0868803121561138257600080fd5b61138b866111f0565b9450602086013593506040860135925060608601359150608086013561131581611236565b6000602082840312156113c257600080fd5b610379826111f0565b600080600080600060a086880312156113e357600080fd5b6113ec866111f0565b94506113fa602087016111f0565b9350611408604087016111f0565b9250606086013561141881611236565b9150608086013561131581611236565b60008060006060848603121561143d57600080fd5b611446846111f0565b9250611454602085016111f0565b9150604084013590509250925092565b60008060008060008060c0878903121561147d57600080fd5b611486876111f0565b9550611494602088016111f0565b94506114a2604088016111f0565b935060608701356114b281611236565b9598949750929560808101359460a0909101359350915050565b600080604083850312156114df57600080fd5b6114e8836111f0565b91506114f6602084016111f0565b90509250929050565b600080600080600060a0868803121561151757600080fd5b611520866111f0565b945061152e602087016111f0565b935061153c604087016111f0565b9250606086013561154c81611236565b949793965091946080013592915050565b60006020828403121561156f57600080fd5b5051919050565b60006020828403121561158857600080fd5b815161159381611236565b9392505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561037c5761037c61159a565b8181038181111561037c5761037c61159a565b808202811582820484141761037c5761037c61159a565b60008261160a57634e487b7160e01b600052601260045260246000fd5b500490565b6000806040838503121561162257600080fd5b825161162d81611236565b6020939093015192949293505050565b600080600080600080600080610100898b03121561165a57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161168f81611236565b8092505060e08901519050929598509295989093965056fea26469706673582212202543d64ea6dcc0312a8e654331ec6d03e98d2f89e334453dd54657f76f0b674b64736f6c63430008120033","sourceMap":"208:8767:55:-:0;;;645:58;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;133:3:30;:16;;139:10;-1:-1:-1;;;;;;133:16:30;;;;;;;-1:-1:-1;682:14:55;;;;;-1:-1:-1;;;;;682:14:55;;;;;;;;;;208:8767;;14:306:181;100:6;153:2;141:9;132:7;128:23;124:32;121:52;;;169:1;166;159:12;121:52;195:16;;-1:-1:-1;;;;;240:31:181;;230:42;;220:70;;286:1;283;276:12;220:70;309:5;14:306;-1:-1:-1;;;14:306:181:o;:::-;208:8767:55;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106101005760003560e01c8063c7e074c311610097578063da76524c11610066578063da76524c1461021e578063fbfa77cf14610231578063fbfded6d14610244578063fdaf6ac31461026a57600080fd5b8063c7e074c3146101bd578063cfad57a2146101d0578063d54d5a9f146101e3578063da1338161461020b57600080fd5b806371ba415e116100d357806371ba415e1461016957806381d11a231461017c5780639d5c28fa14610195578063b1cc53ab146101aa57600080fd5b8063126082cf1461010557806312d43a51146101215780635b396c921461014c5780636be6026b1461015f575b600080fd5b61010e61271081565b6040519081526020015b60405180910390f35b600054610134906001600160a01b031681565b6040516001600160a01b039091168152602001610118565b61010e61015a36600461120c565b61027d565b61010e620f424081565b61010e61017736600461120c565b610382565b61019361018a366004611247565b50505050505050565b005b6101936101a33660046112c1565b5050505050565b61010e6101b8366004611323565b61047e565b61010e6101cb36600461136a565b6104f5565b6101936101de3660046113b0565b61077c565b6101f66101f13660046113cb565b61084b565b60408051928352602083019190915201610118565b61010e610219366004611428565b610c0a565b61010e61022c366004611464565b610f2b565b600154610134906001600160a01b031681565b61025a6102523660046114cc565b600192915050565b6040519015158152602001610118565b61010e6102783660046114ff565b610ff3565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102fb919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561034e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610372919061155d565b60006104f5565b90505b92915050565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610400919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610453573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610477919061155d565b60016104f5565b60015460405163c65bc7b160e01b81526001600160a01b038581166004830152600092169063c65bc7b190602401602060405180830381865afa1580156104c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ed919061155d565b949350505050565b60015460408051639f392eb360e01b815290516000926001600160a01b031691639f392eb39160048083019260209291908290030181865afa15801561053f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105639190611576565b61056e575082610773565b60015460405163345a947960e11b81526001600160a01b03888116600483015260009216906368b528f290602401602060405180830381865afa1580156105b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105dd919061155d565b905060006105eb87836115b0565b90508361060e578187116106085761060387836115c3565b61060b565b60005b90505b600154604051635385b2d560e01b81526001600160a01b038a811660048301526000921690635385b2d590602401602060405180830381865afa158015610659573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067d919061155d565b90508060000361069257869350505050610773565b60008184116106aa576106a584836115c3565b6106b4565b6106b482856115c3565b905060008284116106ce576106c984846115c3565b6106d8565b6106d883856115c3565b905081811015610721576000836106ef848b6115d6565b6106f991906115ed565b90508981116107115761070c818b6115c3565b610714565b60005b9650505050505050610773565b6000600261072f83856115b0565b61073991906115ed565b9050838111156107465750825b600084610753838c6115d6565b61075d91906115ed565b9050610769818c6115b0565b9750505050505050505b95945050505050565b6000546001600160a01b031633146107d35760405162461bcd60e51b815260206004820152601560248201527423b7bb32b93730b136329d103337b93134b23232b760591b60448201526064015b60405180910390fd5b6001600160a01b0381166108295760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016107ca565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b600080600061085c888888886110b8565b600154815160408084015160c08501519151635c07eaab60e01b81526001600160a01b038c811660048301526024820194909452604481019190915289151560648201526084810191909152929350169060009081908390635c07eaab9060a4016040805180830381865afa1580156108d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fd919061160f565b9150915060006109198c8c8c8c89600001518a60600151610f2b565b905061092c8c8c8c8c8960000151610ff3565b61093690826115b0565b9050821580156109495750818560200151105b156109ac57871561099c5760405162461bcd60e51b815260206004820152601f60248201527f5661756c743a206c6f737365732065786365656420636f6c6c61746572616c0060448201526064016107ca565b600196509450610c009350505050565b6020850151836109c9578286602001516109c691906115c3565b90505b81811015610a30578815610a1f5760405162461bcd60e51b815260206004820152601d60248201527f5661756c743a20666565732065786365656420636f6c6c61746572616c00000060448201526064016107ca565b600197509550610c00945050505050565b846001600160a01b031663174d26946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a6e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a92919061155d565b610a9c90836115b0565b811015610b14578815610b035760405162461bcd60e51b815260206004820152602960248201527f5661756c743a206c69717569646174696f6e20666565732065786365656420636044820152681bdb1b185d195c985b60ba1b60648201526084016107ca565b50600196509450610c009350505050565b8551610b2390612710906115d6565b856001600160a01b031663ae3302c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b61573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b85919061155d565b610b8f90836115d6565b1015610bf4578815610be35760405162461bcd60e51b815260206004820152601b60248201527f5661756c743a206d61784c65766572616765206578636565646564000000000060448201526064016107ca565b50600296509450610c009350505050565b50600096509450505050505b9550959350505050565b6001546040516342b60b0360e01b81526001600160a01b03858116600483015260009283929116906342b60b0390602401602060405180830381865afa158015610c58573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c7c9190611576565b8015610cf157506001546040516342b60b0360e01b81526001600160a01b038681166004830152909116906342b60b0390602401602060405180830381865afa158015610ccd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cf19190611576565b9050600081610d7657600160009054906101000a90046001600160a01b03166001600160a01b031663a22f23926040518163ffffffff1660e01b8152600401602060405180830381865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d71919061155d565b610ded565b600160009054906101000a90046001600160a01b03166001600160a01b031663df73a2676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610dc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ded919061155d565b9050600082610e7257600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610e49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6d919061155d565b610ee9565b600160009054906101000a90046001600160a01b03166001600160a01b03166310eb56c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ec5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee9919061155d565b90506000610efb8887858560016104f5565b90506000610f0d8888868660006104f5565b9050808211610f1c5780610f1e565b815b9998505050505050505050565b600082600003610f3d57506000610fe9565b60015460405163c65bc7b160e01b81526001600160a01b038881166004830152600092859291169063c65bc7b190602401602060405180830381865afa158015610f8b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610faf919061155d565b610fb991906115c3565b905080600003610fcd576000915050610fe9565b620f4240610fdb82866115d6565b610fe591906115ed565b9150505b9695505050505050565b60008160000361100557506000610773565b6000612710600160009054906101000a90046001600160a01b03166001600160a01b031663318bc6896040518163ffffffff1660e01b8152600401602060405180830381865afa15801561105d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611081919061155d565b61108d906127106115c3565b61109790856115d6565b6110a191906115ed565b90506110ad81846115c3565b979650505050505050565b6110f86040518060e00160405280600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6001546040805160e081018252600080825260208201819052818301819052606082018190526080820181905260a0820181905260c082018190529151634a3f088d60e01b81526001600160a01b0389811660048301528881166024830152878116604483015286151560648301529093169290919081908190819081908790634a3f088d9060840161010060405180830381865afa15801561119f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c3919061163d565b968d5250505060208a01929092526040890152606088015260c087015250939a9950505050505050505050565b80356001600160a01b038116811461120757600080fd5b919050565b6000806040838503121561121f57600080fd5b611228836111f0565b946020939093013593505050565b801515811461124457600080fd5b50565b600080600080600080600060e0888a03121561126257600080fd5b61126b886111f0565b9650611279602089016111f0565b9550611287604089016111f0565b9450606088013593506080880135925060a08801356112a581611236565b91506112b360c089016111f0565b905092959891949750929550565b600080600080600060a086880312156112d957600080fd5b6112e2866111f0565b94506112f0602087016111f0565b93506112fe604087016111f0565b925060608601359150608086013561131581611236565b809150509295509295909350565b60008060006060848603121561133857600080fd5b611341846111f0565b925061134f602085016111f0565b9150604084013561135f81611236565b809150509250925092565b600080600080600060a0868803121561138257600080fd5b61138b866111f0565b9450602086013593506040860135925060608601359150608086013561131581611236565b6000602082840312156113c257600080fd5b610379826111f0565b600080600080600060a086880312156113e357600080fd5b6113ec866111f0565b94506113fa602087016111f0565b9350611408604087016111f0565b9250606086013561141881611236565b9150608086013561131581611236565b60008060006060848603121561143d57600080fd5b611446846111f0565b9250611454602085016111f0565b9150604084013590509250925092565b60008060008060008060c0878903121561147d57600080fd5b611486876111f0565b9550611494602088016111f0565b94506114a2604088016111f0565b935060608701356114b281611236565b9598949750929560808101359460a0909101359350915050565b600080604083850312156114df57600080fd5b6114e8836111f0565b91506114f6602084016111f0565b90509250929050565b600080600080600060a0868803121561151757600080fd5b611520866111f0565b945061152e602087016111f0565b935061153c604087016111f0565b9250606086013561154c81611236565b949793965091946080013592915050565b60006020828403121561156f57600080fd5b5051919050565b60006020828403121561158857600080fd5b815161159381611236565b9392505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561037c5761037c61159a565b8181038181111561037c5761037c61159a565b808202811582820484141761037c5761037c61159a565b60008261160a57634e487b7160e01b600052601260045260246000fd5b500490565b6000806040838503121561162257600080fd5b825161162d81611236565b6020939093015192949293505050565b600080600080600080600080610100898b03121561165a57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161168f81611236565b8092505060e08901519050929598509295989093965056fea26469706673582212202543d64ea6dcc0312a8e654331ec6d03e98d2f89e334453dd54657f76f0b674b64736f6c63430008120033","sourceMap":"208:8767:55:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;524:52;;571:5;524:52;;;;;160:25:181;;;148:2;133:18;524:52:55;;;;;;;;84:18:30;;;;;-1:-1:-1;;;;;84:18:30;;;;;;-1:-1:-1;;;;;360:32:181;;;342:51;;330:2;315:18;84::30;196:203:181;5718:236:55;;;;;;:::i;:::-;;:::i;582:56::-;;631:7;582:56;;5478:234;;;;;;:::i;:::-;;:::i;1194:349::-;;;;;;:::i;:::-;;;;;;;;;;;912:276;;;;;;:::i;:::-;;;;;;;4259:248;;;;;;:::i;:::-;;:::i;7567:1406::-;;;;;;:::i;:::-;;:::i;266:147:30:-;;;;;;:::i;:::-;;:::i;2484:1769:55:-;;;;;;:::i;:::-;;:::i;:::-;;;;4074:25:181;;;4130:2;4115:18;;4108:34;;;;4047:18;2484:1769:55;3900:248:181;5960:807:55;;;;;;:::i;:::-;;:::i;4973:499::-;;;;;;:::i;:::-;;:::i;498:19::-;;;;;-1:-1:-1;;;;;498:19:55;;;709:197;;;;;;:::i;:::-;895:4;709:197;;;;;;;;5747:14:181;;5740:22;5722:41;;5710:2;5695:18;709:197:55;5582:187:181;4513:454:55;;;;;;:::i;:::-;;:::i;5718:236::-;5820:7;5846:101;5864:6;5872:11;5885:5;;;;;;;;;-1:-1:-1;;;;;5885:5:55;-1:-1:-1;;;;;5885:28:55;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5917:5;;;;;;;;;-1:-1:-1;;;;;5917:5:55;-1:-1:-1;;;;;5917:20:55;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5941:5;5846:17;:101::i;:::-;5839:108;;5718:236;;;;;:::o;5478:234::-;5579:7;5605:100;5623:6;5631:11;5644:5;;;;;;;;;-1:-1:-1;;;;;5644:5:55;-1:-1:-1;;;;;5644:28:55;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5676:5;;;;;;;;;-1:-1:-1;;;;;5676:5:55;-1:-1:-1;;;;;5676:20:55;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5700:4;5605:17;:100::i;4259:248::-;4454:5;;:46;;-1:-1:-1;;;4454:46:55;;-1:-1:-1;;;;;360:32:181;;;4454:46:55;;;342:51:181;4424:7:55;;4454:5;;:28;;315:18:181;;4454:46:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4447:53;4259:248;-1:-1:-1;;;;4259:248:55:o;7567:1406::-;7797:5;;:22;;;-1:-1:-1;;;7797:22:55;;;;7773:7;;-1:-1:-1;;;;;7797:5:55;;:20;;:22;;;;;;;;;;;;;;:5;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7792:51;;-1:-1:-1;7828:15:55;7821:22;;7792:51;7878:5;;:25;;-1:-1:-1;;;7878:25:55;;-1:-1:-1;;;;;360:32:181;;;7878:25:55;;;342:51:181;7854:21:55;;7878:5;;:17;;315:18:181;;7878:25:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7854:49;-1:-1:-1;7913:18:55;7934:26;7950:10;7854:49;7934:26;:::i;:::-;7913:47;;7975:10;7970:114;;8027:13;8014:10;:26;:59;;8047:26;8063:10;8047:13;:26;:::i;:::-;8014:59;;;8043:1;8014:59;8001:72;;7970:114;8117:5;;:33;;-1:-1:-1;;;8117:33:55;;-1:-1:-1;;;;;360:32:181;;;8117:33:55;;;342:51:181;8094:20:55;;8117:5;;:25;;315:18:181;;8117:33:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8094:56;;8164:12;8180:1;8164:17;8160:45;;8190:15;8183:22;;;;;;;8160:45;8216:19;8254:12;8238:13;:28;:90;;8300:28;8315:13;8300:12;:28;:::i;:::-;8238:90;;;8269:28;8285:12;8269:13;:28;:::i;:::-;8216:112;;8338:16;8370:12;8357:10;:25;:81;;8413:25;8428:10;8413:12;:25;:::i;:::-;8357:81;;;8385:25;8398:12;8385:10;:25;:::i;:::-;8338:100;;8514:11;8503:8;:22;8499:201;;;8541:17;8595:12;8562:29;8580:11;8562:15;:29;:::i;:::-;8561:46;;;;:::i;:::-;8541:66;;8640:15;8628:9;:27;:61;;8662:27;8680:9;8662:15;:27;:::i;:::-;8628:61;;;8658:1;8628:61;8621:68;;;;;;;;;;8499:201;8710:19;8759:1;8733:22;8747:8;8733:11;:22;:::i;:::-;8732:28;;;;:::i;:::-;8710:50;;8788:12;8774:11;:26;8770:83;;;-1:-1:-1;8830:12:55;8770:83;8862:14;8913:12;8880:29;8898:11;8880:15;:29;:::i;:::-;8879:46;;;;:::i;:::-;8862:63;-1:-1:-1;8942:24:55;8862:63;8942:15;:24;:::i;:::-;8935:31;;;;;;;;;7567:1406;;;;;;;;:::o;266:147:30:-;213:3;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;7743:2:181;191:51:30;;;7725:21:181;7782:2;7762:18;;;7755:30;-1:-1:-1;;;7801:18:181;;;7794:51;7862:18;;191:51:30;;;;;;;;;-1:-1:-1;;;;;331:18:30;::::1;323:63;;;::::0;-1:-1:-1;;;323:63:30;;8093:2:181;323:63:30::1;::::0;::::1;8075:21:181::0;;;8112:18;;;8105:30;8171:34;8151:18;;;8144:62;8223:18;;323:63:30::1;7891:356:181::0;323:63:30::1;396:3;:10:::0;;-1:-1:-1;;;;;;396:10:30::1;-1:-1:-1::0;;;;;396:10:30;;;::::1;::::0;;;::::1;::::0;;266:147::o;2484:1769:55:-;2681:7;2690;2709:24;2736:61;2748:8;2758:16;2776:11;2789:7;2736:11;:61::i;:::-;2823:5;;2914:13;;2929:21;;;;;2961:26;;;;2885:103;;-1:-1:-1;;;2885:103:55;;-1:-1:-1;;;;;8523:32:181;;;2885:103:55;;;8505:51:181;8572:18;;;8565:34;;;;8615:18;;;8608:34;;;;8685:14;;8678:22;8658:18;;;8651:50;8717:19;;;8710:35;;;;2914:13:55;;-1:-1:-1;2823:5:55;;2807:13;;;;2823:5;;2885:15;;8477:19:181;;2885:103:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2839:149;;;;2998:18;3031:105;3045:8;3055:16;3073:11;3086:7;3095:8;:13;;;3110:8;:25;;;3031:13;:105::i;:::-;2998:138;;3172:79;3187:8;3197:16;3215:11;3228:7;3237:8;:13;;;3172:14;:79::i;:::-;3159:92;;:10;:92;:::i;:::-;3146:105;;3267:9;3266:10;:41;;;;;3302:5;3280:8;:19;;;:27;3266:41;3262:161;;;3327:6;3323:53;;;3335:41;;-1:-1:-1;;;3335:41:55;;9269:2:181;3335:41:55;;;9251:21:181;9308:2;9288:18;;;9281:30;9347:33;9327:18;;;9320:61;9398:18;;3335:41:55;9067:355:181;3323:53:55;3398:1;;-1:-1:-1;3401:10:55;-1:-1:-1;3390:22:55;;-1:-1:-1;;;;3390:22:55;3262:161;3463:19;;;;3497:9;3492:90;;3566:5;3544:8;:19;;;:27;;;;:::i;:::-;3522:49;;3492:90;3618:10;3596:19;:32;3592:214;;;3648:6;3644:51;;;3656:39;;-1:-1:-1;;;3656:39:55;;9629:2:181;3656:39:55;;;9611:21:181;9668:2;9648:18;;;9641:30;9707:31;9687:18;;;9680:59;9756:18;;3656:39:55;9427:353:181;3644:51:55;3772:1;;-1:-1:-1;3775:19:55;-1:-1:-1;3764:31:55;;-1:-1:-1;;;;;3764:31:55;3592:214;3855:6;-1:-1:-1;;;;;3855:24:55;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3842:39;;:10;:39;:::i;:::-;3820:19;:61;3816:191;;;3901:6;3897:63;;;3909:51;;-1:-1:-1;;;3909:51:55;;9987:2:181;3909:51:55;;;9969:21:181;10026:2;10006:18;;;9999:30;10065:34;10045:18;;;10038:62;-1:-1:-1;;;10116:18:181;;;10109:39;10165:19;;3909:51:55;9785:405:181;3897:63:55;-1:-1:-1;3982:1:55;;-1:-1:-1;3985:10:55;-1:-1:-1;3974:22:55;;-1:-1:-1;;;;3974:22:55;3816:191;4066:13;;:36;;571:5;;4066:36;:::i;:::-;4043:6;-1:-1:-1;;;;;4043:18:55;;:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4021:42;;:19;:42;:::i;:::-;:81;4017:197;;;4122:6;4118:49;;;4130:37;;-1:-1:-1;;;4130:37:55;;10397:2:181;4130:37:55;;;10379:21:181;10436:2;10416:18;;;10409:30;10475:29;10455:18;;;10448:57;10522:18;;4130:37:55;10195:351:181;4118:49:55;-1:-1:-1;4189:1:55;;-1:-1:-1;4192:10:55;-1:-1:-1;4181:22:55;;-1:-1:-1;;;;4181:22:55;4017:197;-1:-1:-1;4232:1:55;;-1:-1:-1;4235:10:55;-1:-1:-1;;;;;2484:1769:55;;;;;;;;;:::o;5960:807::-;6154:5;;:28;;-1:-1:-1;;;6154:28:55;;-1:-1:-1;;;;;360:32:181;;;6154:28:55;;;342:51:181;6111:7:55;;;;6154:5;;;:18;;315::181;;6154:28:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:61;;;;-1:-1:-1;6186:5:55;;:29;;-1:-1:-1;;;6186:29:55;;-1:-1:-1;;;;;360:32:181;;;6186:29:55;;;342:51:181;6186:5:55;;;;:18;;315::181;;6186:29:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6134:81;;6225:15;6243:12;:76;;6293:5;;;;;;;;;-1:-1:-1;;;;;6293:5:55;-1:-1:-1;;;;;6293:24:55;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6243:76;;;6258:5;;;;;;;;;-1:-1:-1;;;;;6258:5:55;-1:-1:-1;;;;;6258:30:55;;:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6225:94;;6329:14;6346:12;:68;;6392:5;;;;;;;;;-1:-1:-1;;;;;6392:5:55;-1:-1:-1;;;;;6392:20:55;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6346:68;;;6361:5;;;;;;;;;-1:-1:-1;;;;;6361:5:55;-1:-1:-1;;;;;6361:26:55;;:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6329:85;;6424:24;6451:63;6469:8;6479:11;6492:7;6501:6;6509:4;6451:17;:63::i;:::-;6424:90;;6524:24;6551:65;6569:9;6580:11;6593:7;6602:6;6610:5;6551:17;:65::i;:::-;6524:92;;6706:16;6687;:35;:73;;6744:16;6687:73;;;6725:16;6687:73;6680:80;5960:807;-1:-1:-1;;;;;;;;;5960:807:55:o;4973:499::-;5219:7;5242:5;5251:1;5242:10;5238:24;;-1:-1:-1;5261:1:55;5254:8;;5238:24;5295:5;;:46;;-1:-1:-1;;;5295:46:55;;-1:-1:-1;;;;;360:32:181;;;5295:46:55;;;342:51:181;5273:19:55;;5344:17;;5295:5;;;:28;;315:18:181;;5295:46:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:66;;;;:::i;:::-;5273:88;;5375:11;5390:1;5375:16;5371:30;;5400:1;5393:8;;;;;5371:30;631:7;5420:19;5428:11;5420:5;:19;:::i;:::-;5419:46;;;;:::i;:::-;5412:53;;;4973:499;;;;;;;;;:::o;4513:454::-;4736:7;4759:10;4773:1;4759:15;4755:29;;-1:-1:-1;4783:1:55;4776:8;;4755:29;4794:19;571:5;4866;;;;;;;;;-1:-1:-1;;;;;4866:5:55;-1:-1:-1;;;;;4866:26:55;;:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4843:51;;571:5;4843:51;:::i;:::-;4829:66;;:10;:66;:::i;:::-;4828:91;;;;:::i;:::-;4794:125;-1:-1:-1;4936:24:55;4794:125;4936:10;:24;:::i;:::-;4929:31;4513:454;-1:-1:-1;;;;;;;4513:454:55:o;1549:929::-;1696:15;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1696:15:55;1743:5;;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2120:68:55;;-1:-1:-1;;;2120:68:55;;-1:-1:-1;;;;;10832:15:181;;;2120:68:55;;;10814:34:181;10884:15;;;10864:18;;;10857:43;10936:15;;;10916:18;;;10909:43;10995:14;;10988:22;10968:18;;;10961:50;1743:5:55;;;;-1:-1:-1;;;;;;;;;;;1743:5:55;;2120:18;;10748:19:181;;2120:68:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2202:20;;;-1:-1:-1;;;2236:19:55;;;:32;;;;2282:21;;;:36;2332:25;;;:44;2390:26;;;:46;-1:-1:-1;2202:20:55;;1549:929;-1:-1:-1;;;;;;;;;;1549:929:55:o;404:173:181:-;472:20;;-1:-1:-1;;;;;521:31:181;;511:42;;501:70;;567:1;564;557:12;501:70;404:173;;;:::o;582:254::-;650:6;658;711:2;699:9;690:7;686:23;682:32;679:52;;;727:1;724;717:12;679:52;750:29;769:9;750:29;:::i;:::-;740:39;826:2;811:18;;;;798:32;;-1:-1:-1;;;582:254:181:o;841:118::-;927:5;920:13;913:21;906:5;903:32;893:60;;949:1;946;939:12;893:60;841:118;:::o;964:677::-;1074:6;1082;1090;1098;1106;1114;1122;1175:3;1163:9;1154:7;1150:23;1146:33;1143:53;;;1192:1;1189;1182:12;1143:53;1215:29;1234:9;1215:29;:::i;:::-;1205:39;;1263:38;1297:2;1286:9;1282:18;1263:38;:::i;:::-;1253:48;;1320:38;1354:2;1343:9;1339:18;1320:38;:::i;:::-;1310:48;;1405:2;1394:9;1390:18;1377:32;1367:42;;1456:3;1445:9;1441:19;1428:33;1418:43;;1511:3;1500:9;1496:19;1483:33;1525:28;1547:5;1525:28;:::i;:::-;1572:5;-1:-1:-1;1596:39:181;1630:3;1615:19;;1596:39;:::i;:::-;1586:49;;964:677;;;;;;;;;;:::o;1646:533::-;1738:6;1746;1754;1762;1770;1823:3;1811:9;1802:7;1798:23;1794:33;1791:53;;;1840:1;1837;1830:12;1791:53;1863:29;1882:9;1863:29;:::i;:::-;1853:39;;1911:38;1945:2;1934:9;1930:18;1911:38;:::i;:::-;1901:48;;1968:38;2002:2;1991:9;1987:18;1968:38;:::i;:::-;1958:48;;2053:2;2042:9;2038:18;2025:32;2015:42;;2107:3;2096:9;2092:19;2079:33;2121:28;2143:5;2121:28;:::i;:::-;2168:5;2158:15;;;1646:533;;;;;;;;:::o;2184:389::-;2258:6;2266;2274;2327:2;2315:9;2306:7;2302:23;2298:32;2295:52;;;2343:1;2340;2333:12;2295:52;2366:29;2385:9;2366:29;:::i;:::-;2356:39;;2414:38;2448:2;2437:9;2433:18;2414:38;:::i;:::-;2404:48;;2502:2;2491:9;2487:18;2474:32;2515:28;2537:5;2515:28;:::i;:::-;2562:5;2552:15;;;2184:389;;;;;:::o;2578:521::-;2670:6;2678;2686;2694;2702;2755:3;2743:9;2734:7;2730:23;2726:33;2723:53;;;2772:1;2769;2762:12;2723:53;2795:29;2814:9;2795:29;:::i;:::-;2785:39;;2871:2;2860:9;2856:18;2843:32;2833:42;;2922:2;2911:9;2907:18;2894:32;2884:42;;2973:2;2962:9;2958:18;2945:32;2935:42;;3027:3;3016:9;3012:19;2999:33;3041:28;3063:5;3041:28;:::i;3104:186::-;3163:6;3216:2;3204:9;3195:7;3191:23;3187:32;3184:52;;;3232:1;3229;3222:12;3184:52;3255:29;3274:9;3255:29;:::i;3295:600::-;3384:6;3392;3400;3408;3416;3469:3;3457:9;3448:7;3444:23;3440:33;3437:53;;;3486:1;3483;3476:12;3437:53;3509:29;3528:9;3509:29;:::i;:::-;3499:39;;3557:38;3591:2;3580:9;3576:18;3557:38;:::i;:::-;3547:48;;3614:38;3648:2;3637:9;3633:18;3614:38;:::i;:::-;3604:48;;3702:2;3691:9;3687:18;3674:32;3715:28;3737:5;3715:28;:::i;:::-;3762:5;-1:-1:-1;3819:3:181;3804:19;;3791:33;3833:30;3791:33;3833:30;:::i;4153:328::-;4230:6;4238;4246;4299:2;4287:9;4278:7;4274:23;4270:32;4267:52;;;4315:1;4312;4305:12;4267:52;4338:29;4357:9;4338:29;:::i;:::-;4328:39;;4386:38;4420:2;4409:9;4405:18;4386:38;:::i;:::-;4376:48;;4471:2;4460:9;4456:18;4443:32;4433:42;;4153:328;;;;;:::o;4486:602::-;4587:6;4595;4603;4611;4619;4627;4680:3;4668:9;4659:7;4655:23;4651:33;4648:53;;;4697:1;4694;4687:12;4648:53;4720:29;4739:9;4720:29;:::i;:::-;4710:39;;4768:38;4802:2;4791:9;4787:18;4768:38;:::i;:::-;4758:48;;4825:38;4859:2;4848:9;4844:18;4825:38;:::i;:::-;4815:48;;4913:2;4902:9;4898:18;4885:32;4926:28;4948:5;4926:28;:::i;:::-;4486:602;;;;-1:-1:-1;4486:602:181;;5025:3;5010:19;;4997:33;;5077:3;5062:19;;;5049:33;;-1:-1:-1;4486:602:181;-1:-1:-1;;4486:602:181:o;5317:260::-;5385:6;5393;5446:2;5434:9;5425:7;5421:23;5417:32;5414:52;;;5462:1;5459;5452:12;5414:52;5485:29;5504:9;5485:29;:::i;:::-;5475:39;;5533:38;5567:2;5556:9;5552:18;5533:38;:::i;:::-;5523:48;;5317:260;;;;;:::o;5774:533::-;5866:6;5874;5882;5890;5898;5951:3;5939:9;5930:7;5926:23;5922:33;5919:53;;;5968:1;5965;5958:12;5919:53;5991:29;6010:9;5991:29;:::i;:::-;5981:39;;6039:38;6073:2;6062:9;6058:18;6039:38;:::i;:::-;6029:48;;6096:38;6130:2;6119:9;6115:18;6096:38;:::i;:::-;6086:48;;6184:2;6173:9;6169:18;6156:32;6197:28;6219:5;6197:28;:::i;:::-;5774:533;;;;-1:-1:-1;5774:533:181;;6296:3;6281:19;6268:33;;5774:533;-1:-1:-1;;5774:533:181:o;6312:184::-;6382:6;6435:2;6423:9;6414:7;6410:23;6406:32;6403:52;;;6451:1;6448;6441:12;6403:52;-1:-1:-1;6474:16:181;;6312:184;-1:-1:-1;6312:184:181:o;6501:245::-;6568:6;6621:2;6609:9;6600:7;6596:23;6592:32;6589:52;;;6637:1;6634;6627:12;6589:52;6669:9;6663:16;6688:28;6710:5;6688:28;:::i;:::-;6735:5;6501:245;-1:-1:-1;;;6501:245:181:o;6751:127::-;6812:10;6807:3;6803:20;6800:1;6793:31;6843:4;6840:1;6833:15;6867:4;6864:1;6857:15;6883:125;6948:9;;;6969:10;;;6966:36;;;6982:18;;:::i;7013:128::-;7080:9;;;7101:11;;;7098:37;;;7115:18;;:::i;7146:168::-;7219:9;;;7250;;7267:15;;;7261:22;;7247:37;7237:71;;7288:18;;:::i;7319:217::-;7359:1;7385;7375:132;;7429:10;7424:3;7420:20;7417:1;7410:31;7464:4;7461:1;7454:15;7492:4;7489:1;7482:15;7375:132;-1:-1:-1;7521:9:181;;7319:217::o;8756:306::-;8832:6;8840;8893:2;8881:9;8872:7;8868:23;8864:32;8861:52;;;8909:1;8906;8899:12;8861:52;8941:9;8935:16;8960:28;8982:5;8960:28;:::i;:::-;9052:2;9037:18;;;;9031:25;9007:5;;9031:25;;-1:-1:-1;;;8756:306:181:o;11022:677::-;11152:6;11160;11168;11176;11184;11192;11200;11208;11261:3;11249:9;11240:7;11236:23;11232:33;11229:53;;;11278:1;11275;11268:12;11229:53;11307:9;11301:16;11291:26;;11357:2;11346:9;11342:18;11336:25;11326:35;;11401:2;11390:9;11386:18;11380:25;11370:35;;11445:2;11434:9;11430:18;11424:25;11414:35;;11489:3;11478:9;11474:19;11468:26;11458:36;;11534:3;11523:9;11519:19;11513:26;11503:36;;11582:3;11571:9;11567:19;11561:26;11596:28;11618:5;11596:28;:::i;:::-;11643:5;11633:15;;;11688:3;11677:9;11673:19;11667:26;11657:36;;11022:677;;;;;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"BASIS_POINTS_DIVISOR()":"126082cf","FUNDING_RATE_PRECISION()":"6be6026b","getBuyUsdpFeeBasisPoints(address,uint256)":"71ba415e","getEntryFundingRate(address,address,bool)":"b1cc53ab","getFeeBasisPoints(address,uint256,uint256,uint256,bool)":"c7e074c3","getFundingFee(address,address,address,bool,uint256,uint256)":"da76524c","getPositionFee(address,address,address,bool,uint256)":"fdaf6ac3","getSellUsdpFeeBasisPoints(address,uint256)":"5b396c92","getSwapFeeBasisPoints(address,address,uint256)":"da133816","gov()":"12d43a51","setGov(address)":"cfad57a2","updateCumulativeFundingRate(address,address)":"fbfded6d","validateDecreasePosition(address,address,address,uint256,uint256,bool,address)":"81d11a23","validateIncreasePosition(address,address,address,uint256,bool)":"9d5c28fa","validateLiquidation(address,address,address,bool,bool)":"d54d5a9f","vault()":"fbfa77cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IVault\",\"name\":\"_vault\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BASIS_POINTS_DIVISOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FUNDING_RATE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getBuyUsdpFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"name\":\"getEntryFundingRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpDelta\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_feeBasisPoints\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_taxBasisPoints\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_increment\",\"type\":\"bool\"}],\"name\":\"getFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_entryFundingRate\",\"type\":\"uint256\"}],\"name\":\"getFundingFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_sizeDelta\",\"type\":\"uint256\"}],\"name\":\"getPositionFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getSellUsdpFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getSwapFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGov\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"updateCumulativeFundingRate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"validateDecreasePosition\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"name\":\"validateIncreasePosition\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_indexToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_isLong\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_raise\",\"type\":\"bool\"}],\"name\":\"validateLiquidation\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"contract IVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/VaultUtils.sol\":\"VaultUtils\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/access/Governable.sol\":{\"keccak256\":\"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815\",\"dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod\"]},\"src/core/VaultUtils.sol\":{\"keccak256\":\"0xbbe9e7f04b4b025063617df6fe57ad2633c64a1fc6c57f2279d7c524f4871ee6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://97ee0c9e9a5a2938c0fd8853782acef76bf7424d0eae45436bc9b4b3c343538a\",\"dweb:/ipfs/QmVR5C9EuTSqsMg45bSjpCWvuj8iUnpumt5zGmuSwMZYGW\"]},\"src/core/interfaces/IVault.sol\":{\"keccak256\":\"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208\",\"dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC\"]},\"src/core/interfaces/IVaultUtils.sol\":{\"keccak256\":\"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3\",\"dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF\"]},\"src/libraries/token/IERC20.sol\":{\"keccak256\":\"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2\",\"dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IVault","name":"_vault","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FUNDING_RATE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getBuyUsdpFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","name":"getEntryFundingRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpDelta","type":"uint256"},{"internalType":"uint256","name":"_feeBasisPoints","type":"uint256"},{"internalType":"uint256","name":"_taxBasisPoints","type":"uint256"},{"internalType":"bool","name":"_increment","type":"bool"}],"stateMutability":"view","type":"function","name":"getFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"_size","type":"uint256"},{"internalType":"uint256","name":"_entryFundingRate","type":"uint256"}],"stateMutability":"view","type":"function","name":"getFundingFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPositionFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSellUsdpFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_tokenIn","type":"address"},{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSwapFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGov"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function","name":"updateCumulativeFundingRate","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"validateDecreasePosition"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","name":"validateIncreasePosition"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bool","name":"_raise","type":"bool"}],"stateMutability":"view","type":"function","name":"validateLiquidation","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"contract IVault","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/","chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/VaultUtils.sol":"VaultUtils"},"evmVersion":"paris","libraries":{}},"sources":{"src/access/Governable.sol":{"keccak256":"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1","urls":["bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815","dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod"],"license":"MIT"},"src/core/VaultUtils.sol":{"keccak256":"0xbbe9e7f04b4b025063617df6fe57ad2633c64a1fc6c57f2279d7c524f4871ee6","urls":["bzz-raw://97ee0c9e9a5a2938c0fd8853782acef76bf7424d0eae45436bc9b4b3c343538a","dweb:/ipfs/QmVR5C9EuTSqsMg45bSjpCWvuj8iUnpumt5zGmuSwMZYGW"],"license":"MIT"},"src/core/interfaces/IVault.sol":{"keccak256":"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453","urls":["bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208","dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC"],"license":"MIT"},"src/core/interfaces/IVaultUtils.sol":{"keccak256":"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd","urls":["bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3","dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF"],"license":"MIT"},"src/libraries/token/IERC20.sol":{"keccak256":"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd","urls":["bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2","dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/core/VaultUtils.sol","id":52178,"exportedSymbols":{"Governable":[33234],"IERC20":[56917],"IVault":[53450],"IVaultUtils":[53716],"VaultUtils":[52177]},"nodeType":"SourceUnit","src":"33:8943:55","nodes":[{"id":51469,"nodeType":"PragmaDirective","src":"33:23:55","nodes":[],"literals":["solidity","0.8",".18"]},{"id":51470,"nodeType":"ImportDirective","src":"58:39:55","nodes":[],"absolutePath":"src/libraries/token/IERC20.sol","file":"../libraries/token/IERC20.sol","nameLocation":"-1:-1:-1","scope":52178,"sourceUnit":56918,"symbolAliases":[],"unitAlias":""},{"id":51471,"nodeType":"ImportDirective","src":"98:33:55","nodes":[],"absolutePath":"src/core/interfaces/IVault.sol","file":"./interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":52178,"sourceUnit":53451,"symbolAliases":[],"unitAlias":""},{"id":51472,"nodeType":"ImportDirective","src":"132:38:55","nodes":[],"absolutePath":"src/core/interfaces/IVaultUtils.sol","file":"./interfaces/IVaultUtils.sol","nameLocation":"-1:-1:-1","scope":52178,"sourceUnit":53717,"symbolAliases":[],"unitAlias":""},{"id":51473,"nodeType":"ImportDirective","src":"172:34:55","nodes":[],"absolutePath":"src/access/Governable.sol","file":"../access/Governable.sol","nameLocation":"-1:-1:-1","scope":52178,"sourceUnit":33235,"symbolAliases":[],"unitAlias":""},{"id":52177,"nodeType":"ContractDefinition","src":"208:8767:55","nodes":[{"id":51492,"nodeType":"StructDefinition","src":"261:231:55","nodes":[],"canonicalName":"VaultUtils.Position","members":[{"constant":false,"id":51479,"mutability":"mutable","name":"size","nameLocation":"295:4:55","nodeType":"VariableDeclaration","scope":51492,"src":"287:12:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51478,"name":"uint256","nodeType":"ElementaryTypeName","src":"287:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51481,"mutability":"mutable","name":"collateral","nameLocation":"317:10:55","nodeType":"VariableDeclaration","scope":51492,"src":"309:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51480,"name":"uint256","nodeType":"ElementaryTypeName","src":"309:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51483,"mutability":"mutable","name":"averagePrice","nameLocation":"345:12:55","nodeType":"VariableDeclaration","scope":51492,"src":"337:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51482,"name":"uint256","nodeType":"ElementaryTypeName","src":"337:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51485,"mutability":"mutable","name":"entryFundingRate","nameLocation":"375:16:55","nodeType":"VariableDeclaration","scope":51492,"src":"367:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51484,"name":"uint256","nodeType":"ElementaryTypeName","src":"367:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51487,"mutability":"mutable","name":"reserveAmount","nameLocation":"409:13:55","nodeType":"VariableDeclaration","scope":51492,"src":"401:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51486,"name":"uint256","nodeType":"ElementaryTypeName","src":"401:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51489,"mutability":"mutable","name":"realisedPnl","nameLocation":"439:11:55","nodeType":"VariableDeclaration","scope":51492,"src":"432:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51488,"name":"int256","nodeType":"ElementaryTypeName","src":"432:6:55","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51491,"mutability":"mutable","name":"lastIncreasedTime","nameLocation":"468:17:55","nodeType":"VariableDeclaration","scope":51492,"src":"460:25:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51490,"name":"uint256","nodeType":"ElementaryTypeName","src":"460:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Position","nameLocation":"268:8:55","scope":52177,"visibility":"public"},{"id":51495,"nodeType":"VariableDeclaration","src":"498:19:55","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"512:5:55","scope":52177,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":51494,"nodeType":"UserDefinedTypeName","pathNode":{"id":51493,"name":"IVault","nameLocations":["498:6:55"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"498:6:55"},"referencedDeclaration":53450,"src":"498:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"public"},{"id":51498,"nodeType":"VariableDeclaration","src":"524:52:55","nodes":[],"constant":true,"functionSelector":"126082cf","mutability":"constant","name":"BASIS_POINTS_DIVISOR","nameLocation":"548:20:55","scope":52177,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51496,"name":"uint256","nodeType":"ElementaryTypeName","src":"524:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030","id":51497,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"571:5:55","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"visibility":"public"},{"id":51501,"nodeType":"VariableDeclaration","src":"582:56:55","nodes":[],"constant":true,"functionSelector":"6be6026b","mutability":"constant","name":"FUNDING_RATE_PRECISION","nameLocation":"606:22:55","scope":52177,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51499,"name":"uint256","nodeType":"ElementaryTypeName","src":"582:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31303030303030","id":51500,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"631:7:55","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1000000"},"visibility":"public"},{"id":51512,"nodeType":"FunctionDefinition","src":"645:58:55","nodes":[],"body":{"id":51511,"nodeType":"Block","src":"672:31:55","nodes":[],"statements":[{"expression":{"id":51509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51507,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"682:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51508,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51504,"src":"690:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"src":"682:14:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51510,"nodeType":"ExpressionStatement","src":"682:14:55"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":51505,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51504,"mutability":"mutable","name":"_vault","nameLocation":"664:6:55","nodeType":"VariableDeclaration","scope":51512,"src":"657:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":51503,"nodeType":"UserDefinedTypeName","pathNode":{"id":51502,"name":"IVault","nameLocations":["657:6:55"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"657:6:55"},"referencedDeclaration":53450,"src":"657:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"internal"}],"src":"656:15:55"},"returnParameters":{"id":51506,"nodeType":"ParameterList","parameters":[],"src":"672:0:55"},"scope":52177,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":51525,"nodeType":"FunctionDefinition","src":"709:197:55","nodes":[],"body":{"id":51524,"nodeType":"Block","src":"878:28:55","nodes":[],"statements":[{"expression":{"hexValue":"74727565","id":51522,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"895:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":51521,"id":51523,"nodeType":"Return","src":"888:11:55"}]},"baseFunctions":[53581],"functionSelector":"fbfded6d","implemented":true,"kind":"function","modifiers":[],"name":"updateCumulativeFundingRate","nameLocation":"718:27:55","overrides":{"id":51518,"nodeType":"OverrideSpecifier","overrides":[],"src":"842:8:55"},"parameters":{"id":51517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51514,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51525,"src":"746:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51513,"name":"address","nodeType":"ElementaryTypeName","src":"746:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51516,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51525,"src":"778:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51515,"name":"address","nodeType":"ElementaryTypeName","src":"778:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"745:60:55"},"returnParameters":{"id":51521,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51520,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51525,"src":"868:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51519,"name":"bool","nodeType":"ElementaryTypeName","src":"868:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"867:6:55"},"scope":52177,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":51540,"nodeType":"FunctionDefinition","src":"912:276:55","nodes":[],"body":{"id":51539,"nodeType":"Block","src":"1144:44:55","nodes":[],"statements":[]},"baseFunctions":[53594],"functionSelector":"9d5c28fa","implemented":true,"kind":"function","modifiers":[],"name":"validateIncreasePosition","nameLocation":"921:24:55","overrides":{"id":51537,"nodeType":"OverrideSpecifier","overrides":[],"src":"1135:8:55"},"parameters":{"id":51536,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51527,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51540,"src":"955:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51526,"name":"address","nodeType":"ElementaryTypeName","src":"955:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51529,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51540,"src":"987:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51528,"name":"address","nodeType":"ElementaryTypeName","src":"987:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51531,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51540,"src":"1027:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51530,"name":"address","nodeType":"ElementaryTypeName","src":"1027:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51533,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51540,"src":"1062:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51532,"name":"uint256","nodeType":"ElementaryTypeName","src":"1062:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51535,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51540,"src":"1096:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51534,"name":"bool","nodeType":"ElementaryTypeName","src":"1096:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"945:175:55"},"returnParameters":{"id":51538,"nodeType":"ParameterList","parameters":[],"src":"1144:0:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51559,"nodeType":"FunctionDefinition","src":"1194:349:55","nodes":[],"body":{"id":51558,"nodeType":"Block","src":"1499:44:55","nodes":[],"statements":[]},"baseFunctions":[53611],"functionSelector":"81d11a23","implemented":true,"kind":"function","modifiers":[],"name":"validateDecreasePosition","nameLocation":"1203:24:55","overrides":{"id":51556,"nodeType":"OverrideSpecifier","overrides":[],"src":"1490:8:55"},"parameters":{"id":51555,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51542,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1237:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51541,"name":"address","nodeType":"ElementaryTypeName","src":"1237:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51544,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1269:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51543,"name":"address","nodeType":"ElementaryTypeName","src":"1269:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51546,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1309:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51545,"name":"address","nodeType":"ElementaryTypeName","src":"1309:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51548,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1344:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51547,"name":"uint256","nodeType":"ElementaryTypeName","src":"1344:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51550,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1384:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51549,"name":"uint256","nodeType":"ElementaryTypeName","src":"1384:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51552,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1418:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51551,"name":"bool","nodeType":"ElementaryTypeName","src":"1418:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51554,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51559,"src":"1446:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51553,"name":"address","nodeType":"ElementaryTypeName","src":"1446:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1227:248:55"},"returnParameters":{"id":51557,"nodeType":"ParameterList","parameters":[],"src":"1499:0:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51634,"nodeType":"FunctionDefinition","src":"1549:929:55","nodes":[],"body":{"id":51633,"nodeType":"Block","src":"1717:761:55","nodes":[],"statements":[{"assignments":[51575],"declarations":[{"constant":false,"id":51575,"mutability":"mutable","name":"_vault","nameLocation":"1734:6:55","nodeType":"VariableDeclaration","scope":51633,"src":"1727:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":51574,"nodeType":"UserDefinedTypeName","pathNode":{"id":51573,"name":"IVault","nameLocations":["1727:6:55"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"1727:6:55"},"referencedDeclaration":53450,"src":"1727:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"internal"}],"id":51577,"initialValue":{"id":51576,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"1743:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"nodeType":"VariableDeclarationStatement","src":"1727:21:55"},{"assignments":[51580],"declarations":[{"constant":false,"id":51580,"mutability":"mutable","name":"position","nameLocation":"1774:8:55","nodeType":"VariableDeclaration","scope":51633,"src":"1758:24:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":51579,"nodeType":"UserDefinedTypeName","pathNode":{"id":51578,"name":"Position","nameLocations":["1758:8:55"],"nodeType":"IdentifierPath","referencedDeclaration":51492,"src":"1758:8:55"},"referencedDeclaration":51492,"src":"1758:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"id":51581,"nodeType":"VariableDeclarationStatement","src":"1758:24:55"},{"id":51630,"nodeType":"Block","src":"1792:655:55","statements":[{"assignments":[51583,51585,51587,51589,null,null,null,51591],"declarations":[{"constant":false,"id":51583,"mutability":"mutable","name":"size","nameLocation":"1832:4:55","nodeType":"VariableDeclaration","scope":51630,"src":"1824:12:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51582,"name":"uint256","nodeType":"ElementaryTypeName","src":"1824:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51585,"mutability":"mutable","name":"collateral","nameLocation":"1862:10:55","nodeType":"VariableDeclaration","scope":51630,"src":"1854:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51584,"name":"uint256","nodeType":"ElementaryTypeName","src":"1854:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51587,"mutability":"mutable","name":"averagePrice","nameLocation":"1898:12:55","nodeType":"VariableDeclaration","scope":51630,"src":"1890:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51586,"name":"uint256","nodeType":"ElementaryTypeName","src":"1890:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51589,"mutability":"mutable","name":"entryFundingRate","nameLocation":"1936:16:55","nodeType":"VariableDeclaration","scope":51630,"src":"1928:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51588,"name":"uint256","nodeType":"ElementaryTypeName","src":"1928:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null,null,null,{"constant":false,"id":51591,"mutability":"mutable","name":"lastIncreasedTime","nameLocation":"2086:17:55","nodeType":"VariableDeclaration","scope":51630,"src":"2078:25:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51590,"name":"uint256","nodeType":"ElementaryTypeName","src":"2078:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51599,"initialValue":{"arguments":[{"id":51594,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51561,"src":"2139:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51595,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51563,"src":"2149:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51596,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51565,"src":"2167:11:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51597,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51567,"src":"2180:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":51592,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51575,"src":"2120:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2127:11:55","memberName":"getPosition","nodeType":"MemberAccess","referencedDeclaration":53449,"src":"2120:18:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$_t_address_$_t_bool_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"function (address,address,address,bool) view external returns (uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"id":51598,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2120:68:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"1806:382:55"},{"expression":{"id":51604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":51600,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2202:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51602,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2211:4:55","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":51479,"src":"2202:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51603,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51583,"src":"2218:4:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2202:20:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51605,"nodeType":"ExpressionStatement","src":"2202:20:55"},{"expression":{"id":51610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":51606,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2236:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51608,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2245:10:55","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":51481,"src":"2236:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51609,"name":"collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51585,"src":"2258:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2236:32:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51611,"nodeType":"ExpressionStatement","src":"2236:32:55"},{"expression":{"id":51616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":51612,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2282:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51614,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2291:12:55","memberName":"averagePrice","nodeType":"MemberAccess","referencedDeclaration":51483,"src":"2282:21:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51615,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51587,"src":"2306:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2282:36:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51617,"nodeType":"ExpressionStatement","src":"2282:36:55"},{"expression":{"id":51622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":51618,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2332:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51620,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2341:16:55","memberName":"entryFundingRate","nodeType":"MemberAccess","referencedDeclaration":51485,"src":"2332:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51621,"name":"entryFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51589,"src":"2360:16:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2332:44:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51623,"nodeType":"ExpressionStatement","src":"2332:44:55"},{"expression":{"id":51628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":51624,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2390:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51626,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2399:17:55","memberName":"lastIncreasedTime","nodeType":"MemberAccess","referencedDeclaration":51491,"src":"2390:26:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51627,"name":"lastIncreasedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51591,"src":"2419:17:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2390:46:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51629,"nodeType":"ExpressionStatement","src":"2390:46:55"}]},{"expression":{"id":51631,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51580,"src":"2463:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"functionReturnParameters":51572,"id":51632,"nodeType":"Return","src":"2456:15:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getPosition","nameLocation":"1558:11:55","parameters":{"id":51568,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51561,"mutability":"mutable","name":"_account","nameLocation":"1578:8:55","nodeType":"VariableDeclaration","scope":51634,"src":"1570:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51560,"name":"address","nodeType":"ElementaryTypeName","src":"1570:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51563,"mutability":"mutable","name":"_collateralToken","nameLocation":"1596:16:55","nodeType":"VariableDeclaration","scope":51634,"src":"1588:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51562,"name":"address","nodeType":"ElementaryTypeName","src":"1588:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51565,"mutability":"mutable","name":"_indexToken","nameLocation":"1622:11:55","nodeType":"VariableDeclaration","scope":51634,"src":"1614:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51564,"name":"address","nodeType":"ElementaryTypeName","src":"1614:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51567,"mutability":"mutable","name":"_isLong","nameLocation":"1640:7:55","nodeType":"VariableDeclaration","scope":51634,"src":"1635:12:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51566,"name":"bool","nodeType":"ElementaryTypeName","src":"1635:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1569:79:55"},"returnParameters":{"id":51572,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51571,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51634,"src":"1696:15:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":51570,"nodeType":"UserDefinedTypeName","pathNode":{"id":51569,"name":"Position","nameLocations":["1696:8:55"],"nodeType":"IdentifierPath","referencedDeclaration":51492,"src":"1696:8:55"},"referencedDeclaration":51492,"src":"1696:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"src":"1695:17:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":51805,"nodeType":"FunctionDefinition","src":"2484:1769:55","nodes":[],"body":{"id":51804,"nodeType":"Block","src":"2699:1554:55","nodes":[],"statements":[{"assignments":[51654],"declarations":[{"constant":false,"id":51654,"mutability":"mutable","name":"position","nameLocation":"2725:8:55","nodeType":"VariableDeclaration","scope":51804,"src":"2709:24:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":51653,"nodeType":"UserDefinedTypeName","pathNode":{"id":51652,"name":"Position","nameLocations":["2709:8:55"],"nodeType":"IdentifierPath","referencedDeclaration":51492,"src":"2709:8:55"},"referencedDeclaration":51492,"src":"2709:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"id":51661,"initialValue":{"arguments":[{"id":51656,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51636,"src":"2748:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51657,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51638,"src":"2758:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51658,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51640,"src":"2776:11:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51659,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51642,"src":"2789:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51655,"name":"getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51634,"src":"2736:11:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$returns$_t_struct$_Position_$51492_memory_ptr_$","typeString":"function (address,address,address,bool) view returns (struct VaultUtils.Position memory)"}},"id":51660,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2736:61:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"nodeType":"VariableDeclarationStatement","src":"2709:88:55"},{"assignments":[51664],"declarations":[{"constant":false,"id":51664,"mutability":"mutable","name":"_vault","nameLocation":"2814:6:55","nodeType":"VariableDeclaration","scope":51804,"src":"2807:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":51663,"nodeType":"UserDefinedTypeName","pathNode":{"id":51662,"name":"IVault","nameLocations":["2807:6:55"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"2807:6:55"},"referencedDeclaration":53450,"src":"2807:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"internal"}],"id":51666,"initialValue":{"id":51665,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"2823:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"nodeType":"VariableDeclarationStatement","src":"2807:21:55"},{"assignments":[51668,51670],"declarations":[{"constant":false,"id":51668,"mutability":"mutable","name":"hasProfit","nameLocation":"2845:9:55","nodeType":"VariableDeclaration","scope":51804,"src":"2840:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51667,"name":"bool","nodeType":"ElementaryTypeName","src":"2840:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51670,"mutability":"mutable","name":"delta","nameLocation":"2864:5:55","nodeType":"VariableDeclaration","scope":51804,"src":"2856:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51669,"name":"uint256","nodeType":"ElementaryTypeName","src":"2856:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51682,"initialValue":{"arguments":[{"id":51673,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51640,"src":"2901:11:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":51674,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"2914:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51675,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2923:4:55","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":51479,"src":"2914:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":51676,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"2929:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51677,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2938:12:55","memberName":"averagePrice","nodeType":"MemberAccess","referencedDeclaration":51483,"src":"2929:21:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51678,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51642,"src":"2952:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":51679,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"2961:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51680,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2970:17:55","memberName":"lastIncreasedTime","nodeType":"MemberAccess","referencedDeclaration":51491,"src":"2961:26:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":51671,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51664,"src":"2885:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51672,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2892:8:55","memberName":"getDelta","nodeType":"MemberAccess","referencedDeclaration":53422,"src":"2885:15:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$returns$_t_bool_$_t_uint256_$","typeString":"function (address,uint256,uint256,bool,uint256) view external returns (bool,uint256)"}},"id":51681,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2885:103:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2839:149:55"},{"assignments":[51684],"declarations":[{"constant":false,"id":51684,"mutability":"mutable","name":"marginFees","nameLocation":"3006:10:55","nodeType":"VariableDeclaration","scope":51804,"src":"2998:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51683,"name":"uint256","nodeType":"ElementaryTypeName","src":"2998:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51695,"initialValue":{"arguments":[{"id":51686,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51636,"src":"3045:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51687,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51638,"src":"3055:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51688,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51640,"src":"3073:11:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51689,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51642,"src":"3086:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":51690,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3095:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51691,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3104:4:55","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":51479,"src":"3095:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":51692,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3110:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51693,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3119:16:55","memberName":"entryFundingRate","nodeType":"MemberAccess","referencedDeclaration":51485,"src":"3110:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":51685,"name":"getFundingFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51911,"src":"3031:13:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,address,address,bool,uint256,uint256) view returns (uint256)"}},"id":51694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3031:105:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2998:138:55"},{"expression":{"id":51707,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51696,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3146:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51697,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3159:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":51699,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51636,"src":"3187:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51700,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51638,"src":"3197:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51701,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51640,"src":"3215:11:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51702,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51642,"src":"3228:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":51703,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3237:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51704,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3246:4:55","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":51479,"src":"3237:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":51698,"name":"getPositionFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51864,"src":"3172:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,address,address,bool,uint256) view returns (uint256)"}},"id":51705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3172:79:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3159:92:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3146:105:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51708,"nodeType":"ExpressionStatement","src":"3146:105:55"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":51715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3266:10:55","subExpression":{"id":51709,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51668,"src":"3267:9:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":51711,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3280:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51712,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3289:10:55","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":51481,"src":"3280:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":51713,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51670,"src":"3302:5:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3280:27:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3266:41:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51727,"nodeType":"IfStatement","src":"3262:161:55","trueBody":{"id":51726,"nodeType":"Block","src":"3309:114:55","statements":[{"condition":{"id":51716,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51644,"src":"3327:6:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51721,"nodeType":"IfStatement","src":"3323:53:55","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206c6f737365732065786365656420636f6c6c61746572616c","id":51718,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3342:33:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_6c431b8d590673e711a7f93e59ba13639514cc756cc66b09cf0894aef3b2cbe9","typeString":"literal_string \"Vault: losses exceed collateral\""},"value":"Vault: losses exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6c431b8d590673e711a7f93e59ba13639514cc756cc66b09cf0894aef3b2cbe9","typeString":"literal_string \"Vault: losses exceed collateral\""}],"id":51717,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3335:6:55","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":51719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3335:41:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":51720,"nodeType":"ExpressionStatement","src":"3335:41:55"}},{"expression":{"components":[{"hexValue":"31","id":51722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3398:1:55","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":51723,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3401:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51724,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3397:15:55","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":51651,"id":51725,"nodeType":"Return","src":"3390:22:55"}]}},{"assignments":[51729],"declarations":[{"constant":false,"id":51729,"mutability":"mutable","name":"remainingCollateral","nameLocation":"3441:19:55","nodeType":"VariableDeclaration","scope":51804,"src":"3433:27:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51728,"name":"uint256","nodeType":"ElementaryTypeName","src":"3433:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51732,"initialValue":{"expression":{"id":51730,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3463:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51731,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3472:10:55","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":51481,"src":"3463:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3433:49:55"},{"condition":{"id":51734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3496:10:55","subExpression":{"id":51733,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51668,"src":"3497:9:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51743,"nodeType":"IfStatement","src":"3492:90:55","trueBody":{"id":51742,"nodeType":"Block","src":"3508:74:55","statements":[{"expression":{"id":51740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51735,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51729,"src":"3522:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":51736,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"3544:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51737,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3553:10:55","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":51481,"src":"3544:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51738,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51670,"src":"3566:5:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3544:27:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3522:49:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51741,"nodeType":"ExpressionStatement","src":"3522:49:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51744,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51729,"src":"3596:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":51745,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3618:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3596:32:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51758,"nodeType":"IfStatement","src":"3592:214:55","trueBody":{"id":51757,"nodeType":"Block","src":"3630:176:55","statements":[{"condition":{"id":51747,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51644,"src":"3648:6:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51752,"nodeType":"IfStatement","src":"3644:51:55","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a20666565732065786365656420636f6c6c61746572616c","id":51749,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3663:31:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_c7705211c909799b6051000735000e60951f43757d510ab7e193600b10fbb784","typeString":"literal_string \"Vault: fees exceed collateral\""},"value":"Vault: fees exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c7705211c909799b6051000735000e60951f43757d510ab7e193600b10fbb784","typeString":"literal_string \"Vault: fees exceed collateral\""}],"id":51748,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3656:6:55","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":51750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3656:39:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":51751,"nodeType":"ExpressionStatement","src":"3656:39:55"}},{"expression":{"components":[{"hexValue":"31","id":51753,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3772:1:55","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":51754,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51729,"src":"3775:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51755,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3771:24:55","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":51651,"id":51756,"nodeType":"Return","src":"3764:31:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51759,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51729,"src":"3820:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51760,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3842:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51761,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51664,"src":"3855:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3862:17:55","memberName":"liquidationFeeUsd","nodeType":"MemberAccess","referencedDeclaration":53235,"src":"3855:24:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51763,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3855:26:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3842:39:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3820:61:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51777,"nodeType":"IfStatement","src":"3816:191:55","trueBody":{"id":51776,"nodeType":"Block","src":"3883:124:55","statements":[{"condition":{"id":51766,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51644,"src":"3901:6:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51771,"nodeType":"IfStatement","src":"3897:63:55","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206c69717569646174696f6e20666565732065786365656420636f6c6c61746572616c","id":51768,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3916:43:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_514b36554c00fb9e51f3566ee1986bba5ee49978daa99c95dedc08f9cdbbb3a2","typeString":"literal_string \"Vault: liquidation fees exceed collateral\""},"value":"Vault: liquidation fees exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_514b36554c00fb9e51f3566ee1986bba5ee49978daa99c95dedc08f9cdbbb3a2","typeString":"literal_string \"Vault: liquidation fees exceed collateral\""}],"id":51767,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3909:6:55","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":51769,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3909:51:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":51770,"nodeType":"ExpressionStatement","src":"3909:51:55"}},{"expression":{"components":[{"hexValue":"31","id":51772,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3982:1:55","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":51773,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"3985:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51774,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3981:15:55","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":51651,"id":51775,"nodeType":"Return","src":"3974:22:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51778,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51729,"src":"4021:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51779,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51664,"src":"4043:6:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51780,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4050:11:55","memberName":"maxLeverage","nodeType":"MemberAccess","referencedDeclaration":52864,"src":"4043:18:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51781,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4043:20:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4021:42:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":51783,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51654,"src":"4066:8:55","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$51492_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":51784,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4075:4:55","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":51479,"src":"4066:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":51785,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51498,"src":"4082:20:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4066:36:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4021:81:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51799,"nodeType":"IfStatement","src":"4017:197:55","trueBody":{"id":51798,"nodeType":"Block","src":"4104:110:55","statements":[{"condition":{"id":51788,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51644,"src":"4122:6:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51793,"nodeType":"IfStatement","src":"4118:49:55","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206d61784c65766572616765206578636565646564","id":51790,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4137:29:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_c30744b594916aa6e178e2ea6dc29a4e30c465ff198137cf09c359341efaca6c","typeString":"literal_string \"Vault: maxLeverage exceeded\""},"value":"Vault: maxLeverage exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c30744b594916aa6e178e2ea6dc29a4e30c465ff198137cf09c359341efaca6c","typeString":"literal_string \"Vault: maxLeverage exceeded\""}],"id":51789,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"4130:6:55","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":51791,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4130:37:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":51792,"nodeType":"ExpressionStatement","src":"4130:37:55"}},{"expression":{"components":[{"hexValue":"32","id":51794,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4189:1:55","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},{"id":51795,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"4192:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51796,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4188:15:55","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_2_by_1_$_t_uint256_$","typeString":"tuple(int_const 2,uint256)"}},"functionReturnParameters":51651,"id":51797,"nodeType":"Return","src":"4181:22:55"}]}},{"expression":{"components":[{"hexValue":"30","id":51800,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4232:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":51801,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51684,"src":"4235:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51802,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4231:15:55","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_uint256_$","typeString":"tuple(int_const 0,uint256)"}},"functionReturnParameters":51651,"id":51803,"nodeType":"Return","src":"4224:22:55"}]},"baseFunctions":[53628],"functionSelector":"d54d5a9f","implemented":true,"kind":"function","modifiers":[],"name":"validateLiquidation","nameLocation":"2493:19:55","overrides":{"id":51646,"nodeType":"OverrideSpecifier","overrides":[],"src":"2663:8:55"},"parameters":{"id":51645,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51636,"mutability":"mutable","name":"_account","nameLocation":"2530:8:55","nodeType":"VariableDeclaration","scope":51805,"src":"2522:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51635,"name":"address","nodeType":"ElementaryTypeName","src":"2522:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51638,"mutability":"mutable","name":"_collateralToken","nameLocation":"2556:16:55","nodeType":"VariableDeclaration","scope":51805,"src":"2548:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51637,"name":"address","nodeType":"ElementaryTypeName","src":"2548:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51640,"mutability":"mutable","name":"_indexToken","nameLocation":"2590:11:55","nodeType":"VariableDeclaration","scope":51805,"src":"2582:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51639,"name":"address","nodeType":"ElementaryTypeName","src":"2582:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51642,"mutability":"mutable","name":"_isLong","nameLocation":"2616:7:55","nodeType":"VariableDeclaration","scope":51805,"src":"2611:12:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51641,"name":"bool","nodeType":"ElementaryTypeName","src":"2611:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51644,"mutability":"mutable","name":"_raise","nameLocation":"2638:6:55","nodeType":"VariableDeclaration","scope":51805,"src":"2633:11:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51643,"name":"bool","nodeType":"ElementaryTypeName","src":"2633:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2512:138:55"},"returnParameters":{"id":51651,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51648,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51805,"src":"2681:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51647,"name":"uint256","nodeType":"ElementaryTypeName","src":"2681:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51650,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51805,"src":"2690:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51649,"name":"uint256","nodeType":"ElementaryTypeName","src":"2690:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2680:18:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51823,"nodeType":"FunctionDefinition","src":"4259:248:55","nodes":[],"body":{"id":51822,"nodeType":"Block","src":"4437:70:55","nodes":[],"statements":[{"expression":{"arguments":[{"id":51819,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51807,"src":"4483:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51817,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"4454:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4460:22:55","memberName":"cumulativeFundingRates","nodeType":"MemberAccess","referencedDeclaration":53208,"src":"4454:28:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51820,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4454:46:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51816,"id":51821,"nodeType":"Return","src":"4447:53:55"}]},"baseFunctions":[53639],"functionSelector":"b1cc53ab","implemented":true,"kind":"function","modifiers":[],"name":"getEntryFundingRate","nameLocation":"4268:19:55","overrides":{"id":51813,"nodeType":"OverrideSpecifier","overrides":[],"src":"4398:8:55"},"parameters":{"id":51812,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51807,"mutability":"mutable","name":"_collateralToken","nameLocation":"4296:16:55","nodeType":"VariableDeclaration","scope":51823,"src":"4288:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51806,"name":"address","nodeType":"ElementaryTypeName","src":"4288:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51809,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51823,"src":"4314:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51808,"name":"address","nodeType":"ElementaryTypeName","src":"4314:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51811,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51823,"src":"4341:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51810,"name":"bool","nodeType":"ElementaryTypeName","src":"4341:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4287:74:55"},"returnParameters":{"id":51816,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51815,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51823,"src":"4424:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51814,"name":"uint256","nodeType":"ElementaryTypeName","src":"4424:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4423:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51864,"nodeType":"FunctionDefinition","src":"4513:454:55","nodes":[],"body":{"id":51863,"nodeType":"Block","src":"4745:222:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51839,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51833,"src":"4759:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51840,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4773:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4759:15:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51844,"nodeType":"IfStatement","src":"4755:29:55","trueBody":{"expression":{"hexValue":"30","id":51842,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4783:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51838,"id":51843,"nodeType":"Return","src":"4776:8:55"}},{"assignments":[51846],"declarations":[{"constant":false,"id":51846,"mutability":"mutable","name":"afterFeeUsd","nameLocation":"4802:11:55","nodeType":"VariableDeclaration","scope":51863,"src":"4794:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51845,"name":"uint256","nodeType":"ElementaryTypeName","src":"4794:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51858,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51847,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51833,"src":"4829:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51852,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51848,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51498,"src":"4843:20:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51849,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"4866:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4872:20:55","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53265,"src":"4866:26:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51851,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4866:28:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4843:51:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51853,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4842:53:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4829:66:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51855,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4828:68:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51856,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51498,"src":"4899:20:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4828:91:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4794:125:55"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51859,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51833,"src":"4936:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51860,"name":"afterFeeUsd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51846,"src":"4949:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4936:24:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51838,"id":51862,"nodeType":"Return","src":"4929:31:55"}]},"baseFunctions":[53654],"functionSelector":"fdaf6ac3","implemented":true,"kind":"function","modifiers":[],"name":"getPositionFee","nameLocation":"4522:14:55","overrides":{"id":51835,"nodeType":"OverrideSpecifier","overrides":[],"src":"4718:8:55"},"parameters":{"id":51834,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51825,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51864,"src":"4546:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51824,"name":"address","nodeType":"ElementaryTypeName","src":"4546:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51827,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51864,"src":"4578:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51826,"name":"address","nodeType":"ElementaryTypeName","src":"4578:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51829,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51864,"src":"4618:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51828,"name":"address","nodeType":"ElementaryTypeName","src":"4618:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51831,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51864,"src":"4653:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51830,"name":"bool","nodeType":"ElementaryTypeName","src":"4653:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51833,"mutability":"mutable","name":"_sizeDelta","nameLocation":"4689:10:55","nodeType":"VariableDeclaration","scope":51864,"src":"4681:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51832,"name":"uint256","nodeType":"ElementaryTypeName","src":"4681:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4536:169:55"},"returnParameters":{"id":51838,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51837,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51864,"src":"4736:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51836,"name":"uint256","nodeType":"ElementaryTypeName","src":"4736:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4735:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51911,"nodeType":"FunctionDefinition","src":"4973:499:55","nodes":[],"body":{"id":51910,"nodeType":"Block","src":"5228:244:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51882,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51874,"src":"5242:5:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51883,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5251:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5242:10:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51887,"nodeType":"IfStatement","src":"5238:24:55","trueBody":{"expression":{"hexValue":"30","id":51885,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5261:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51881,"id":51886,"nodeType":"Return","src":"5254:8:55"}},{"assignments":[51889],"declarations":[{"constant":false,"id":51889,"mutability":"mutable","name":"fundingRate","nameLocation":"5281:11:55","nodeType":"VariableDeclaration","scope":51910,"src":"5273:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51888,"name":"uint256","nodeType":"ElementaryTypeName","src":"5273:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51896,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":51892,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51868,"src":"5324:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51890,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"5295:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5301:22:55","memberName":"cumulativeFundingRates","nodeType":"MemberAccess","referencedDeclaration":53208,"src":"5295:28:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5295:46:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51894,"name":"_entryFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51876,"src":"5344:17:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5295:66:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5273:88:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51897,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51889,"src":"5375:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51898,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5390:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5375:16:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51902,"nodeType":"IfStatement","src":"5371:30:55","trueBody":{"expression":{"hexValue":"30","id":51900,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5400:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51881,"id":51901,"nodeType":"Return","src":"5393:8:55"}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51903,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51874,"src":"5420:5:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":51904,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51889,"src":"5428:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5420:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51906,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5419:21:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51907,"name":"FUNDING_RATE_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51501,"src":"5443:22:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5419:46:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51881,"id":51909,"nodeType":"Return","src":"5412:53:55"}]},"baseFunctions":[53671],"functionSelector":"da76524c","implemented":true,"kind":"function","modifiers":[],"name":"getFundingFee","nameLocation":"4982:13:55","overrides":{"id":51878,"nodeType":"OverrideSpecifier","overrides":[],"src":"5201:8:55"},"parameters":{"id":51877,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51866,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51911,"src":"5005:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51865,"name":"address","nodeType":"ElementaryTypeName","src":"5005:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51868,"mutability":"mutable","name":"_collateralToken","nameLocation":"5045:16:55","nodeType":"VariableDeclaration","scope":51911,"src":"5037:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51867,"name":"address","nodeType":"ElementaryTypeName","src":"5037:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51870,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51911,"src":"5071:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51869,"name":"address","nodeType":"ElementaryTypeName","src":"5071:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51872,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51911,"src":"5106:4:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51871,"name":"bool","nodeType":"ElementaryTypeName","src":"5106:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51874,"mutability":"mutable","name":"_size","nameLocation":"5142:5:55","nodeType":"VariableDeclaration","scope":51911,"src":"5134:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51873,"name":"uint256","nodeType":"ElementaryTypeName","src":"5134:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51876,"mutability":"mutable","name":"_entryFundingRate","nameLocation":"5165:17:55","nodeType":"VariableDeclaration","scope":51911,"src":"5157:25:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51875,"name":"uint256","nodeType":"ElementaryTypeName","src":"5157:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4995:193:55"},"returnParameters":{"id":51881,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51880,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51911,"src":"5219:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51879,"name":"uint256","nodeType":"ElementaryTypeName","src":"5219:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5218:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51934,"nodeType":"FunctionDefinition","src":"5478:234:55","nodes":[],"body":{"id":51933,"nodeType":"Block","src":"5588:124:55","nodes":[],"statements":[{"expression":{"arguments":[{"id":51922,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51913,"src":"5623:6:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51923,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51915,"src":"5631:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51924,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"5644:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5650:22:55","memberName":"mintBurnFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53250,"src":"5644:28:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5644:30:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51927,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"5676:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51928,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5682:14:55","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53240,"src":"5676:20:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5676:22:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":51930,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5700:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51921,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52176,"src":"5605:17:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51931,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5605:100:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51920,"id":51932,"nodeType":"Return","src":"5598:107:55"}]},"baseFunctions":[53680],"functionSelector":"71ba415e","implemented":true,"kind":"function","modifiers":[],"name":"getBuyUsdpFeeBasisPoints","nameLocation":"5487:24:55","overrides":{"id":51917,"nodeType":"OverrideSpecifier","overrides":[],"src":"5561:8:55"},"parameters":{"id":51916,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51913,"mutability":"mutable","name":"_token","nameLocation":"5520:6:55","nodeType":"VariableDeclaration","scope":51934,"src":"5512:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51912,"name":"address","nodeType":"ElementaryTypeName","src":"5512:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51915,"mutability":"mutable","name":"_usdpAmount","nameLocation":"5536:11:55","nodeType":"VariableDeclaration","scope":51934,"src":"5528:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51914,"name":"uint256","nodeType":"ElementaryTypeName","src":"5528:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5511:37:55"},"returnParameters":{"id":51920,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51919,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51934,"src":"5579:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51918,"name":"uint256","nodeType":"ElementaryTypeName","src":"5579:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5578:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51957,"nodeType":"FunctionDefinition","src":"5718:236:55","nodes":[],"body":{"id":51956,"nodeType":"Block","src":"5829:125:55","nodes":[],"statements":[{"expression":{"arguments":[{"id":51945,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51936,"src":"5864:6:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51946,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51938,"src":"5872:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51947,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"5885:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51948,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5891:22:55","memberName":"mintBurnFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53250,"src":"5885:28:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5885:30:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51950,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"5917:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51951,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5923:14:55","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53240,"src":"5917:20:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51952,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5917:22:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":51953,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5941:5:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51944,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52176,"src":"5846:17:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51954,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5846:101:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51943,"id":51955,"nodeType":"Return","src":"5839:108:55"}]},"baseFunctions":[53689],"functionSelector":"5b396c92","implemented":true,"kind":"function","modifiers":[],"name":"getSellUsdpFeeBasisPoints","nameLocation":"5727:25:55","overrides":{"id":51940,"nodeType":"OverrideSpecifier","overrides":[],"src":"5802:8:55"},"parameters":{"id":51939,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51936,"mutability":"mutable","name":"_token","nameLocation":"5761:6:55","nodeType":"VariableDeclaration","scope":51957,"src":"5753:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51935,"name":"address","nodeType":"ElementaryTypeName","src":"5753:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51938,"mutability":"mutable","name":"_usdpAmount","nameLocation":"5777:11:55","nodeType":"VariableDeclaration","scope":51957,"src":"5769:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51937,"name":"uint256","nodeType":"ElementaryTypeName","src":"5769:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5752:37:55"},"returnParameters":{"id":51943,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51942,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51957,"src":"5820:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51941,"name":"uint256","nodeType":"ElementaryTypeName","src":"5820:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5819:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":52031,"nodeType":"FunctionDefinition","src":"5960:807:55","nodes":[],"body":{"id":52030,"nodeType":"Block","src":"6124:643:55","nodes":[],"statements":[{"assignments":[51970],"declarations":[{"constant":false,"id":51970,"mutability":"mutable","name":"isStableSwap","nameLocation":"6139:12:55","nodeType":"VariableDeclaration","scope":52030,"src":"6134:17:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51969,"name":"bool","nodeType":"ElementaryTypeName","src":"6134:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":51980,"initialValue":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":51979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":51973,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51959,"src":"6173:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51971,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6154:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6160:12:55","memberName":"stableTokens","nodeType":"MemberAccess","referencedDeclaration":53291,"src":"6154:18:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":51974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6154:28:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":51977,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51961,"src":"6205:9:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51975,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6186:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6192:12:55","memberName":"stableTokens","nodeType":"MemberAccess","referencedDeclaration":53291,"src":"6186:18:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":51978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6186:29:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6154:61:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"6134:81:55"},{"assignments":[51982],"declarations":[{"constant":false,"id":51982,"mutability":"mutable","name":"baseBps","nameLocation":"6233:7:55","nodeType":"VariableDeclaration","scope":52030,"src":"6225:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51981,"name":"uint256","nodeType":"ElementaryTypeName","src":"6225:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51991,"initialValue":{"condition":{"id":51983,"name":"isStableSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51970,"src":"6243:12:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51987,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6293:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6299:18:55","memberName":"swapFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53255,"src":"6293:24:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51989,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6293:26:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51990,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6243:76:55","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51984,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6258:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6264:24:55","memberName":"stableSwapFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53260,"src":"6258:30:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51986,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6258:32:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6225:94:55"},{"assignments":[51993],"declarations":[{"constant":false,"id":51993,"mutability":"mutable","name":"taxBps","nameLocation":"6337:6:55","nodeType":"VariableDeclaration","scope":52030,"src":"6329:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51992,"name":"uint256","nodeType":"ElementaryTypeName","src":"6329:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52002,"initialValue":{"condition":{"id":51994,"name":"isStableSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51970,"src":"6346:12:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51998,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6392:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6398:14:55","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53240,"src":"6392:20:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":52000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6392:22:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6346:68:55","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51995,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"6361:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":51996,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6367:20:55","memberName":"stableTaxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":53245,"src":"6361:26:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51997,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6361:28:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6329:85:55"},{"assignments":[52004],"declarations":[{"constant":false,"id":52004,"mutability":"mutable","name":"feesBasisPoints0","nameLocation":"6432:16:55","nodeType":"VariableDeclaration","scope":52030,"src":"6424:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52003,"name":"uint256","nodeType":"ElementaryTypeName","src":"6424:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52012,"initialValue":{"arguments":[{"id":52006,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51959,"src":"6469:8:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":52007,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51963,"src":"6479:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52008,"name":"baseBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51982,"src":"6492:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52009,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51993,"src":"6501:6:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":52010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6509:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52005,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52176,"src":"6451:17:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":52011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6451:63:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6424:90:55"},{"assignments":[52014],"declarations":[{"constant":false,"id":52014,"mutability":"mutable","name":"feesBasisPoints1","nameLocation":"6532:16:55","nodeType":"VariableDeclaration","scope":52030,"src":"6524:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52013,"name":"uint256","nodeType":"ElementaryTypeName","src":"6524:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52022,"initialValue":{"arguments":[{"id":52016,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51961,"src":"6569:9:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":52017,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51963,"src":"6580:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52018,"name":"baseBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51982,"src":"6593:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52019,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51993,"src":"6602:6:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":52020,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6610:5:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52015,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52176,"src":"6551:17:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":52021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6551:65:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6524:92:55"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52023,"name":"feesBasisPoints0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52004,"src":"6687:16:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52024,"name":"feesBasisPoints1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52014,"src":"6706:16:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6687:35:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":52027,"name":"feesBasisPoints1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52014,"src":"6744:16:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6687:73:55","trueExpression":{"id":52026,"name":"feesBasisPoints0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52004,"src":"6725:16:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51968,"id":52029,"nodeType":"Return","src":"6680:80:55"}]},"baseFunctions":[53700],"functionSelector":"da133816","implemented":true,"kind":"function","modifiers":[],"name":"getSwapFeeBasisPoints","nameLocation":"5969:21:55","overrides":{"id":51965,"nodeType":"OverrideSpecifier","overrides":[],"src":"6085:8:55"},"parameters":{"id":51964,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51959,"mutability":"mutable","name":"_tokenIn","nameLocation":"5999:8:55","nodeType":"VariableDeclaration","scope":52031,"src":"5991:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51958,"name":"address","nodeType":"ElementaryTypeName","src":"5991:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51961,"mutability":"mutable","name":"_tokenOut","nameLocation":"6017:9:55","nodeType":"VariableDeclaration","scope":52031,"src":"6009:17:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51960,"name":"address","nodeType":"ElementaryTypeName","src":"6009:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51963,"mutability":"mutable","name":"_usdpAmount","nameLocation":"6036:11:55","nodeType":"VariableDeclaration","scope":52031,"src":"6028:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51962,"name":"uint256","nodeType":"ElementaryTypeName","src":"6028:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5990:58:55"},"returnParameters":{"id":51968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51967,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52031,"src":"6111:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51966,"name":"uint256","nodeType":"ElementaryTypeName","src":"6111:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6110:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":52176,"nodeType":"FunctionDefinition","src":"7567:1406:55","nodes":[],"body":{"id":52175,"nodeType":"Block","src":"7782:1191:55","nodes":[],"statements":[{"condition":{"id":52050,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7796:23:55","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":52047,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"7797:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":52048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7803:14:55","memberName":"hasDynamicFees","nodeType":"MemberAccess","referencedDeclaration":52874,"src":"7797:20:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":52049,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7797:22:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52053,"nodeType":"IfStatement","src":"7792:51:55","trueBody":{"expression":{"id":52051,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52037,"src":"7828:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52046,"id":52052,"nodeType":"Return","src":"7821:22:55"}},{"assignments":[52055],"declarations":[{"constant":false,"id":52055,"mutability":"mutable","name":"initialAmount","nameLocation":"7862:13:55","nodeType":"VariableDeclaration","scope":52175,"src":"7854:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52054,"name":"uint256","nodeType":"ElementaryTypeName","src":"7854:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52060,"initialValue":{"arguments":[{"id":52058,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52033,"src":"7896:6:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":52056,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"7878:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":52057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7884:11:55","memberName":"usdpAmounts","nodeType":"MemberAccess","referencedDeclaration":53375,"src":"7878:17:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":52059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7878:25:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7854:49:55"},{"assignments":[52062],"declarations":[{"constant":false,"id":52062,"mutability":"mutable","name":"nextAmount","nameLocation":"7921:10:55","nodeType":"VariableDeclaration","scope":52175,"src":"7913:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52061,"name":"uint256","nodeType":"ElementaryTypeName","src":"7913:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52066,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52065,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52063,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"7934:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52064,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52035,"src":"7950:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7934:26:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7913:47:55"},{"condition":{"id":52068,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7974:11:55","subExpression":{"id":52067,"name":"_increment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52041,"src":"7975:10:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52081,"nodeType":"IfStatement","src":"7970:114:55","trueBody":{"id":52080,"nodeType":"Block","src":"7987:97:55","statements":[{"expression":{"id":52078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52069,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52062,"src":"8001:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52070,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52035,"src":"8014:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52071,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"8027:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8014:26:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52074,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"8047:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52075,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52035,"src":"8063:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8047:26:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52077,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8014:59:55","trueExpression":{"hexValue":"30","id":52073,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8043:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8001:72:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52079,"nodeType":"ExpressionStatement","src":"8001:72:55"}]}},{"assignments":[52083],"declarations":[{"constant":false,"id":52083,"mutability":"mutable","name":"targetAmount","nameLocation":"8102:12:55","nodeType":"VariableDeclaration","scope":52175,"src":"8094:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52082,"name":"uint256","nodeType":"ElementaryTypeName","src":"8094:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52088,"initialValue":{"arguments":[{"id":52086,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52033,"src":"8143:6:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":52084,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51495,"src":"8117:5:55","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":52085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8123:19:55","memberName":"getTargetUsdpAmount","nodeType":"MemberAccess","referencedDeclaration":52891,"src":"8117:25:55","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":52087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8117:33:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8094:56:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52089,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8164:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8180:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8164:17:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52094,"nodeType":"IfStatement","src":"8160:45:55","trueBody":{"expression":{"id":52092,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52037,"src":"8190:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52046,"id":52093,"nodeType":"Return","src":"8183:22:55"}},{"assignments":[52096],"declarations":[{"constant":false,"id":52096,"mutability":"mutable","name":"initialDiff","nameLocation":"8224:11:55","nodeType":"VariableDeclaration","scope":52175,"src":"8216:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52095,"name":"uint256","nodeType":"ElementaryTypeName","src":"8216:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52107,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52097,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"8238:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52098,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8254:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8238:28:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52103,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8300:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52104,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"8315:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8300:28:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52106,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8238:90:55","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52100,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52055,"src":"8269:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52101,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8285:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8269:28:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8216:112:55"},{"assignments":[52109],"declarations":[{"constant":false,"id":52109,"mutability":"mutable","name":"nextDiff","nameLocation":"8346:8:55","nodeType":"VariableDeclaration","scope":52175,"src":"8338:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52108,"name":"uint256","nodeType":"ElementaryTypeName","src":"8338:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52120,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52112,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52110,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52062,"src":"8357:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52111,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8370:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8357:25:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52116,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8413:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52117,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52062,"src":"8428:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8413:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8357:81:55","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52113,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52062,"src":"8385:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52114,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8398:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8385:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8338:100:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52121,"name":"nextDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52109,"src":"8503:8:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":52122,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52096,"src":"8514:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8503:22:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52143,"nodeType":"IfStatement","src":"8499:201:55","trueBody":{"id":52142,"nodeType":"Block","src":"8527:173:55","statements":[{"assignments":[52125],"declarations":[{"constant":false,"id":52125,"mutability":"mutable","name":"rebateBps","nameLocation":"8549:9:55","nodeType":"VariableDeclaration","scope":52142,"src":"8541:17:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52124,"name":"uint256","nodeType":"ElementaryTypeName","src":"8541:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52132,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52126,"name":"_taxBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52039,"src":"8562:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52127,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52096,"src":"8580:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8562:29:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52129,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8561:31:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52130,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8595:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8561:46:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8541:66:55"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52135,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52133,"name":"rebateBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52125,"src":"8628:9:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52134,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52037,"src":"8640:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8628:27:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52137,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52037,"src":"8662:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52138,"name":"rebateBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52125,"src":"8680:9:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8662:27:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52140,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8628:61:55","trueExpression":{"hexValue":"30","id":52136,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8658:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52046,"id":52141,"nodeType":"Return","src":"8621:68:55"}]}},{"assignments":[52145],"declarations":[{"constant":false,"id":52145,"mutability":"mutable","name":"averageDiff","nameLocation":"8718:11:55","nodeType":"VariableDeclaration","scope":52175,"src":"8710:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52144,"name":"uint256","nodeType":"ElementaryTypeName","src":"8710:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52152,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52151,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52146,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52096,"src":"8733:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52147,"name":"nextDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52109,"src":"8747:8:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8733:22:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52149,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8732:24:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":52150,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8759:1:55","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"8732:28:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8710:50:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52153,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52145,"src":"8774:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52154,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8788:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8774:26:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52161,"nodeType":"IfStatement","src":"8770:83:55","trueBody":{"id":52160,"nodeType":"Block","src":"8802:51:55","statements":[{"expression":{"id":52158,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52156,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52145,"src":"8816:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52157,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8830:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8816:26:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52159,"nodeType":"ExpressionStatement","src":"8816:26:55"}]}},{"assignments":[52163],"declarations":[{"constant":false,"id":52163,"mutability":"mutable","name":"taxBps","nameLocation":"8870:6:55","nodeType":"VariableDeclaration","scope":52175,"src":"8862:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52162,"name":"uint256","nodeType":"ElementaryTypeName","src":"8862:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52170,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52164,"name":"_taxBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52039,"src":"8880:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52165,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52145,"src":"8898:11:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8880:29:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52167,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8879:31:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52168,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52083,"src":"8913:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8879:46:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8862:63:55"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52171,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52037,"src":"8942:15:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52172,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52163,"src":"8960:6:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8942:24:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52046,"id":52174,"nodeType":"Return","src":"8935:31:55"}]},"baseFunctions":[53715],"functionSelector":"c7e074c3","implemented":true,"kind":"function","modifiers":[],"name":"getFeeBasisPoints","nameLocation":"7576:17:55","overrides":{"id":52043,"nodeType":"OverrideSpecifier","overrides":[],"src":"7755:8:55"},"parameters":{"id":52042,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52033,"mutability":"mutable","name":"_token","nameLocation":"7611:6:55","nodeType":"VariableDeclaration","scope":52176,"src":"7603:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52032,"name":"address","nodeType":"ElementaryTypeName","src":"7603:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52035,"mutability":"mutable","name":"_usdpDelta","nameLocation":"7635:10:55","nodeType":"VariableDeclaration","scope":52176,"src":"7627:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52034,"name":"uint256","nodeType":"ElementaryTypeName","src":"7627:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52037,"mutability":"mutable","name":"_feeBasisPoints","nameLocation":"7663:15:55","nodeType":"VariableDeclaration","scope":52176,"src":"7655:23:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52036,"name":"uint256","nodeType":"ElementaryTypeName","src":"7655:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52039,"mutability":"mutable","name":"_taxBasisPoints","nameLocation":"7696:15:55","nodeType":"VariableDeclaration","scope":52176,"src":"7688:23:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52038,"name":"uint256","nodeType":"ElementaryTypeName","src":"7688:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52041,"mutability":"mutable","name":"_increment","nameLocation":"7726:10:55","nodeType":"VariableDeclaration","scope":52176,"src":"7721:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52040,"name":"bool","nodeType":"ElementaryTypeName","src":"7721:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7593:149:55"},"returnParameters":{"id":52046,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52045,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52176,"src":"7773:7:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52044,"name":"uint256","nodeType":"ElementaryTypeName","src":"7773:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7772:9:55"},"scope":52177,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[{"baseName":{"id":51474,"name":"IVaultUtils","nameLocations":["231:11:55"],"nodeType":"IdentifierPath","referencedDeclaration":53716,"src":"231:11:55"},"id":51475,"nodeType":"InheritanceSpecifier","src":"231:11:55"},{"baseName":{"id":51476,"name":"Governable","nameLocations":["244:10:55"],"nodeType":"IdentifierPath","referencedDeclaration":33234,"src":"244:10:55"},"id":51477,"nodeType":"InheritanceSpecifier","src":"244:10:55"}],"canonicalName":"VaultUtils","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[52177,33234,53716],"name":"VaultUtils","nameLocation":"217:10:55","scope":52178,"usedErrors":[]}],"license":"MIT"},"id":55}