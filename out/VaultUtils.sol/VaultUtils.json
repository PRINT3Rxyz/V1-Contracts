{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"contract IVault"}],"stateMutability":"nonpayable"},{"type":"function","name":"BASIS_POINTS_DIVISOR","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"FUNDING_RATE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getBuyUsdpFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEntryFundingRate","inputs":[{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpDelta","type":"uint256","internalType":"uint256"},{"name":"_feeBasisPoints","type":"uint256","internalType":"uint256"},{"name":"_taxBasisPoints","type":"uint256","internalType":"uint256"},{"name":"_increment","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFundingFee","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"},{"name":"_size","type":"uint256","internalType":"uint256"},{"name":"_entryFundingRate","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionFee","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"bool","internalType":"bool"},{"name":"_sizeDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSellUsdpFeeBasisPoints","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSwapFeeBasisPoints","inputs":[{"name":"_tokenIn","type":"address","internalType":"address"},{"name":"_tokenOut","type":"address","internalType":"address"},{"name":"_usdpAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gov","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setGov","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateCumulativeFundingRate","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"pure"},{"type":"function","name":"validateDecreasePosition","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"validateIncreasePosition","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"validateLiquidation","inputs":[{"name":"_account","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_indexToken","type":"address","internalType":"address"},{"name":"_isLong","type":"bool","internalType":"bool"},{"name":"_raise","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IVault"}],"stateMutability":"view"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5060405161177e38038061177e83398101604081905261002f91610062565b60008054336001600160a01b031991821617909155600180549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b6116dd806100a16000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063c7e074c311610097578063da76524c11610066578063da76524c1461021e578063fbfa77cf14610231578063fbfded6d14610244578063fdaf6ac31461026a57600080fd5b8063c7e074c3146101bd578063cfad57a2146101d0578063d54d5a9f146101e3578063da1338161461020b57600080fd5b806371ba415e116100d357806371ba415e1461016957806381d11a231461017c5780639d5c28fa14610195578063b1cc53ab146101aa57600080fd5b8063126082cf1461010557806312d43a51146101215780635b396c921461014c5780636be6026b1461015f575b600080fd5b61010e61271081565b6040519081526020015b60405180910390f35b600054610134906001600160a01b031681565b6040516001600160a01b039091168152602001610118565b61010e61015a36600461120c565b61027d565b61010e620f424081565b61010e61017736600461120c565b610382565b61019361018a366004611247565b50505050505050565b005b6101936101a33660046112c1565b5050505050565b61010e6101b8366004611323565b61047e565b61010e6101cb36600461136a565b6104f5565b6101936101de3660046113b0565b61077c565b6101f66101f13660046113cb565b61084b565b60408051928352602083019190915201610118565b61010e610219366004611428565b610c0a565b61010e61022c366004611464565b610f2b565b600154610134906001600160a01b031681565b61025a6102523660046114cc565b600192915050565b6040519015158152602001610118565b61010e6102783660046114ff565b610ff3565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102fb919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561034e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610372919061155d565b60006104f5565b90505b92915050565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610400919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610453573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610477919061155d565b60016104f5565b60015460405163c65bc7b160e01b81526001600160a01b038581166004830152600092169063c65bc7b190602401602060405180830381865afa1580156104c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ed919061155d565b949350505050565b60015460408051639f392eb360e01b815290516000926001600160a01b031691639f392eb39160048083019260209291908290030181865afa15801561053f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105639190611576565b61056e575082610773565b60015460405163345a947960e11b81526001600160a01b03888116600483015260009216906368b528f290602401602060405180830381865afa1580156105b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105dd919061155d565b905060006105eb87836115b0565b90508361060e578187116106085761060387836115c3565b61060b565b60005b90505b600154604051635385b2d560e01b81526001600160a01b038a811660048301526000921690635385b2d590602401602060405180830381865afa158015610659573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067d919061155d565b90508060000361069257869350505050610773565b60008184116106aa576106a584836115c3565b6106b4565b6106b482856115c3565b905060008284116106ce576106c984846115c3565b6106d8565b6106d883856115c3565b905081811015610721576000836106ef848b6115d6565b6106f991906115ed565b90508981116107115761070c818b6115c3565b610714565b60005b9650505050505050610773565b6000600261072f83856115b0565b61073991906115ed565b9050838111156107465750825b600084610753838c6115d6565b61075d91906115ed565b9050610769818c6115b0565b9750505050505050505b95945050505050565b6000546001600160a01b031633146107d35760405162461bcd60e51b815260206004820152601560248201527423b7bb32b93730b136329d103337b93134b23232b760591b60448201526064015b60405180910390fd5b6001600160a01b0381166108295760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016107ca565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b600080600061085c888888886110b8565b600154815160408084015160c08501519151635c07eaab60e01b81526001600160a01b038c811660048301526024820194909452604481019190915289151560648201526084810191909152929350169060009081908390635c07eaab9060a4016040805180830381865afa1580156108d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fd919061160f565b9150915060006109198c8c8c8c89600001518a60600151610f2b565b905061092c8c8c8c8c8960000151610ff3565b61093690826115b0565b9050821580156109495750818560200151105b156109ac57871561099c5760405162461bcd60e51b815260206004820152601f60248201527f5661756c743a206c6f737365732065786365656420636f6c6c61746572616c0060448201526064016107ca565b600196509450610c009350505050565b6020850151836109c9578286602001516109c691906115c3565b90505b81811015610a30578815610a1f5760405162461bcd60e51b815260206004820152601d60248201527f5661756c743a20666565732065786365656420636f6c6c61746572616c00000060448201526064016107ca565b600197509550610c00945050505050565b846001600160a01b031663174d26946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a6e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a92919061155d565b610a9c90836115b0565b811015610b14578815610b035760405162461bcd60e51b815260206004820152602960248201527f5661756c743a206c69717569646174696f6e20666565732065786365656420636044820152681bdb1b185d195c985b60ba1b60648201526084016107ca565b50600196509450610c009350505050565b8551610b2390612710906115d6565b856001600160a01b031663ae3302c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b61573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b85919061155d565b610b8f90836115d6565b1015610bf4578815610be35760405162461bcd60e51b815260206004820152601b60248201527f5661756c743a206d61784c65766572616765206578636565646564000000000060448201526064016107ca565b50600296509450610c009350505050565b50600096509450505050505b9550959350505050565b6001546040516342b60b0360e01b81526001600160a01b03858116600483015260009283929116906342b60b0390602401602060405180830381865afa158015610c58573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c7c9190611576565b8015610cf157506001546040516342b60b0360e01b81526001600160a01b038681166004830152909116906342b60b0390602401602060405180830381865afa158015610ccd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cf19190611576565b9050600081610d7657600160009054906101000a90046001600160a01b03166001600160a01b031663a22f23926040518163ffffffff1660e01b8152600401602060405180830381865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d71919061155d565b610ded565b600160009054906101000a90046001600160a01b03166001600160a01b031663df73a2676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610dc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ded919061155d565b9050600082610e7257600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610e49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6d919061155d565b610ee9565b600160009054906101000a90046001600160a01b03166001600160a01b03166310eb56c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ec5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee9919061155d565b90506000610efb8887858560016104f5565b90506000610f0d8888868660006104f5565b9050808211610f1c5780610f1e565b815b9998505050505050505050565b600082600003610f3d57506000610fe9565b60015460405163c65bc7b160e01b81526001600160a01b038881166004830152600092859291169063c65bc7b190602401602060405180830381865afa158015610f8b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610faf919061155d565b610fb991906115c3565b905080600003610fcd576000915050610fe9565b620f4240610fdb82866115d6565b610fe591906115ed565b9150505b9695505050505050565b60008160000361100557506000610773565b6000612710600160009054906101000a90046001600160a01b03166001600160a01b031663318bc6896040518163ffffffff1660e01b8152600401602060405180830381865afa15801561105d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611081919061155d565b61108d906127106115c3565b61109790856115d6565b6110a191906115ed565b90506110ad81846115c3565b979650505050505050565b6110f86040518060e00160405280600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6001546040805160e081018252600080825260208201819052818301819052606082018190526080820181905260a0820181905260c082018190529151634a3f088d60e01b81526001600160a01b0389811660048301528881166024830152878116604483015286151560648301529093169290919081908190819081908790634a3f088d9060840161010060405180830381865afa15801561119f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c3919061163d565b968d5250505060208a01929092526040890152606088015260c087015250939a9950505050505050505050565b80356001600160a01b038116811461120757600080fd5b919050565b6000806040838503121561121f57600080fd5b611228836111f0565b946020939093013593505050565b801515811461124457600080fd5b50565b600080600080600080600060e0888a03121561126257600080fd5b61126b886111f0565b9650611279602089016111f0565b9550611287604089016111f0565b9450606088013593506080880135925060a08801356112a581611236565b91506112b360c089016111f0565b905092959891949750929550565b600080600080600060a086880312156112d957600080fd5b6112e2866111f0565b94506112f0602087016111f0565b93506112fe604087016111f0565b925060608601359150608086013561131581611236565b809150509295509295909350565b60008060006060848603121561133857600080fd5b611341846111f0565b925061134f602085016111f0565b9150604084013561135f81611236565b809150509250925092565b600080600080600060a0868803121561138257600080fd5b61138b866111f0565b9450602086013593506040860135925060608601359150608086013561131581611236565b6000602082840312156113c257600080fd5b610379826111f0565b600080600080600060a086880312156113e357600080fd5b6113ec866111f0565b94506113fa602087016111f0565b9350611408604087016111f0565b9250606086013561141881611236565b9150608086013561131581611236565b60008060006060848603121561143d57600080fd5b611446846111f0565b9250611454602085016111f0565b9150604084013590509250925092565b60008060008060008060c0878903121561147d57600080fd5b611486876111f0565b9550611494602088016111f0565b94506114a2604088016111f0565b935060608701356114b281611236565b9598949750929560808101359460a0909101359350915050565b600080604083850312156114df57600080fd5b6114e8836111f0565b91506114f6602084016111f0565b90509250929050565b600080600080600060a0868803121561151757600080fd5b611520866111f0565b945061152e602087016111f0565b935061153c604087016111f0565b9250606086013561154c81611236565b949793965091946080013592915050565b60006020828403121561156f57600080fd5b5051919050565b60006020828403121561158857600080fd5b815161159381611236565b9392505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561037c5761037c61159a565b8181038181111561037c5761037c61159a565b808202811582820484141761037c5761037c61159a565b60008261160a57634e487b7160e01b600052601260045260246000fd5b500490565b6000806040838503121561162257600080fd5b825161162d81611236565b6020939093015192949293505050565b600080600080600080600080610100898b03121561165a57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161168f81611236565b8092505060e08901519050929598509295989093965056fea26469706673582212202543d64ea6dcc0312a8e654331ec6d03e98d2f89e334453dd54657f76f0b674b64736f6c63430008120033","sourceMap":"208:8767:52:-:0;;;645:58;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;133:3:27;:16;;139:10;-1:-1:-1;;;;;;133:16:27;;;;;;;-1:-1:-1;682:14:52;;;;;-1:-1:-1;;;;;682:14:52;;;;;;;;;;208:8767;;14:306:177;100:6;153:2;141:9;132:7;128:23;124:32;121:52;;;169:1;166;159:12;121:52;195:16;;-1:-1:-1;;;;;240:31:177;;230:42;;220:70;;286:1;283;276:12;220:70;309:5;14:306;-1:-1:-1;;;14:306:177:o;:::-;208:8767:52;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106101005760003560e01c8063c7e074c311610097578063da76524c11610066578063da76524c1461021e578063fbfa77cf14610231578063fbfded6d14610244578063fdaf6ac31461026a57600080fd5b8063c7e074c3146101bd578063cfad57a2146101d0578063d54d5a9f146101e3578063da1338161461020b57600080fd5b806371ba415e116100d357806371ba415e1461016957806381d11a231461017c5780639d5c28fa14610195578063b1cc53ab146101aa57600080fd5b8063126082cf1461010557806312d43a51146101215780635b396c921461014c5780636be6026b1461015f575b600080fd5b61010e61271081565b6040519081526020015b60405180910390f35b600054610134906001600160a01b031681565b6040516001600160a01b039091168152602001610118565b61010e61015a36600461120c565b61027d565b61010e620f424081565b61010e61017736600461120c565b610382565b61019361018a366004611247565b50505050505050565b005b6101936101a33660046112c1565b5050505050565b61010e6101b8366004611323565b61047e565b61010e6101cb36600461136a565b6104f5565b6101936101de3660046113b0565b61077c565b6101f66101f13660046113cb565b61084b565b60408051928352602083019190915201610118565b61010e610219366004611428565b610c0a565b61010e61022c366004611464565b610f2b565b600154610134906001600160a01b031681565b61025a6102523660046114cc565b600192915050565b6040519015158152602001610118565b61010e6102783660046114ff565b610ff3565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102fb919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561034e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610372919061155d565b60006104f5565b90505b92915050565b60006103798383600160009054906101000a90046001600160a01b03166001600160a01b0316634d47b3046040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610400919061155d565b600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610453573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610477919061155d565b60016104f5565b60015460405163c65bc7b160e01b81526001600160a01b038581166004830152600092169063c65bc7b190602401602060405180830381865afa1580156104c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ed919061155d565b949350505050565b60015460408051639f392eb360e01b815290516000926001600160a01b031691639f392eb39160048083019260209291908290030181865afa15801561053f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105639190611576565b61056e575082610773565b60015460405163345a947960e11b81526001600160a01b03888116600483015260009216906368b528f290602401602060405180830381865afa1580156105b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105dd919061155d565b905060006105eb87836115b0565b90508361060e578187116106085761060387836115c3565b61060b565b60005b90505b600154604051635385b2d560e01b81526001600160a01b038a811660048301526000921690635385b2d590602401602060405180830381865afa158015610659573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067d919061155d565b90508060000361069257869350505050610773565b60008184116106aa576106a584836115c3565b6106b4565b6106b482856115c3565b905060008284116106ce576106c984846115c3565b6106d8565b6106d883856115c3565b905081811015610721576000836106ef848b6115d6565b6106f991906115ed565b90508981116107115761070c818b6115c3565b610714565b60005b9650505050505050610773565b6000600261072f83856115b0565b61073991906115ed565b9050838111156107465750825b600084610753838c6115d6565b61075d91906115ed565b9050610769818c6115b0565b9750505050505050505b95945050505050565b6000546001600160a01b031633146107d35760405162461bcd60e51b815260206004820152601560248201527423b7bb32b93730b136329d103337b93134b23232b760591b60448201526064015b60405180910390fd5b6001600160a01b0381166108295760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016107ca565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b600080600061085c888888886110b8565b600154815160408084015160c08501519151635c07eaab60e01b81526001600160a01b038c811660048301526024820194909452604481019190915289151560648201526084810191909152929350169060009081908390635c07eaab9060a4016040805180830381865afa1580156108d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fd919061160f565b9150915060006109198c8c8c8c89600001518a60600151610f2b565b905061092c8c8c8c8c8960000151610ff3565b61093690826115b0565b9050821580156109495750818560200151105b156109ac57871561099c5760405162461bcd60e51b815260206004820152601f60248201527f5661756c743a206c6f737365732065786365656420636f6c6c61746572616c0060448201526064016107ca565b600196509450610c009350505050565b6020850151836109c9578286602001516109c691906115c3565b90505b81811015610a30578815610a1f5760405162461bcd60e51b815260206004820152601d60248201527f5661756c743a20666565732065786365656420636f6c6c61746572616c00000060448201526064016107ca565b600197509550610c00945050505050565b846001600160a01b031663174d26946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a6e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a92919061155d565b610a9c90836115b0565b811015610b14578815610b035760405162461bcd60e51b815260206004820152602960248201527f5661756c743a206c69717569646174696f6e20666565732065786365656420636044820152681bdb1b185d195c985b60ba1b60648201526084016107ca565b50600196509450610c009350505050565b8551610b2390612710906115d6565b856001600160a01b031663ae3302c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b61573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b85919061155d565b610b8f90836115d6565b1015610bf4578815610be35760405162461bcd60e51b815260206004820152601b60248201527f5661756c743a206d61784c65766572616765206578636565646564000000000060448201526064016107ca565b50600296509450610c009350505050565b50600096509450505050505b9550959350505050565b6001546040516342b60b0360e01b81526001600160a01b03858116600483015260009283929116906342b60b0390602401602060405180830381865afa158015610c58573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c7c9190611576565b8015610cf157506001546040516342b60b0360e01b81526001600160a01b038681166004830152909116906342b60b0390602401602060405180830381865afa158015610ccd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cf19190611576565b9050600081610d7657600160009054906101000a90046001600160a01b03166001600160a01b031663a22f23926040518163ffffffff1660e01b8152600401602060405180830381865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d71919061155d565b610ded565b600160009054906101000a90046001600160a01b03166001600160a01b031663df73a2676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610dc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ded919061155d565b9050600082610e7257600160009054906101000a90046001600160a01b03166001600160a01b0316637a210a2b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610e49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6d919061155d565b610ee9565b600160009054906101000a90046001600160a01b03166001600160a01b03166310eb56c26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ec5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee9919061155d565b90506000610efb8887858560016104f5565b90506000610f0d8888868660006104f5565b9050808211610f1c5780610f1e565b815b9998505050505050505050565b600082600003610f3d57506000610fe9565b60015460405163c65bc7b160e01b81526001600160a01b038881166004830152600092859291169063c65bc7b190602401602060405180830381865afa158015610f8b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610faf919061155d565b610fb991906115c3565b905080600003610fcd576000915050610fe9565b620f4240610fdb82866115d6565b610fe591906115ed565b9150505b9695505050505050565b60008160000361100557506000610773565b6000612710600160009054906101000a90046001600160a01b03166001600160a01b031663318bc6896040518163ffffffff1660e01b8152600401602060405180830381865afa15801561105d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611081919061155d565b61108d906127106115c3565b61109790856115d6565b6110a191906115ed565b90506110ad81846115c3565b979650505050505050565b6110f86040518060e00160405280600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6001546040805160e081018252600080825260208201819052818301819052606082018190526080820181905260a0820181905260c082018190529151634a3f088d60e01b81526001600160a01b0389811660048301528881166024830152878116604483015286151560648301529093169290919081908190819081908790634a3f088d9060840161010060405180830381865afa15801561119f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c3919061163d565b968d5250505060208a01929092526040890152606088015260c087015250939a9950505050505050505050565b80356001600160a01b038116811461120757600080fd5b919050565b6000806040838503121561121f57600080fd5b611228836111f0565b946020939093013593505050565b801515811461124457600080fd5b50565b600080600080600080600060e0888a03121561126257600080fd5b61126b886111f0565b9650611279602089016111f0565b9550611287604089016111f0565b9450606088013593506080880135925060a08801356112a581611236565b91506112b360c089016111f0565b905092959891949750929550565b600080600080600060a086880312156112d957600080fd5b6112e2866111f0565b94506112f0602087016111f0565b93506112fe604087016111f0565b925060608601359150608086013561131581611236565b809150509295509295909350565b60008060006060848603121561133857600080fd5b611341846111f0565b925061134f602085016111f0565b9150604084013561135f81611236565b809150509250925092565b600080600080600060a0868803121561138257600080fd5b61138b866111f0565b9450602086013593506040860135925060608601359150608086013561131581611236565b6000602082840312156113c257600080fd5b610379826111f0565b600080600080600060a086880312156113e357600080fd5b6113ec866111f0565b94506113fa602087016111f0565b9350611408604087016111f0565b9250606086013561141881611236565b9150608086013561131581611236565b60008060006060848603121561143d57600080fd5b611446846111f0565b9250611454602085016111f0565b9150604084013590509250925092565b60008060008060008060c0878903121561147d57600080fd5b611486876111f0565b9550611494602088016111f0565b94506114a2604088016111f0565b935060608701356114b281611236565b9598949750929560808101359460a0909101359350915050565b600080604083850312156114df57600080fd5b6114e8836111f0565b91506114f6602084016111f0565b90509250929050565b600080600080600060a0868803121561151757600080fd5b611520866111f0565b945061152e602087016111f0565b935061153c604087016111f0565b9250606086013561154c81611236565b949793965091946080013592915050565b60006020828403121561156f57600080fd5b5051919050565b60006020828403121561158857600080fd5b815161159381611236565b9392505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561037c5761037c61159a565b8181038181111561037c5761037c61159a565b808202811582820484141761037c5761037c61159a565b60008261160a57634e487b7160e01b600052601260045260246000fd5b500490565b6000806040838503121561162257600080fd5b825161162d81611236565b6020939093015192949293505050565b600080600080600080600080610100898b03121561165a57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161168f81611236565b8092505060e08901519050929598509295989093965056fea26469706673582212202543d64ea6dcc0312a8e654331ec6d03e98d2f89e334453dd54657f76f0b674b64736f6c63430008120033","sourceMap":"208:8767:52:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;524:52;;571:5;524:52;;;;;160:25:177;;;148:2;133:18;524:52:52;;;;;;;;84:18:27;;;;;-1:-1:-1;;;;;84:18:27;;;;;;-1:-1:-1;;;;;360:32:177;;;342:51;;330:2;315:18;84::27;196:203:177;5718:236:52;;;;;;:::i;:::-;;:::i;582:56::-;;631:7;582:56;;5478:234;;;;;;:::i;:::-;;:::i;1194:349::-;;;;;;:::i;:::-;;;;;;;;;;;912:276;;;;;;:::i;:::-;;;;;;;4259:248;;;;;;:::i;:::-;;:::i;7567:1406::-;;;;;;:::i;:::-;;:::i;266:147:27:-;;;;;;:::i;:::-;;:::i;2484:1769:52:-;;;;;;:::i;:::-;;:::i;:::-;;;;4074:25:177;;;4130:2;4115:18;;4108:34;;;;4047:18;2484:1769:52;3900:248:177;5960:807:52;;;;;;:::i;:::-;;:::i;4973:499::-;;;;;;:::i;:::-;;:::i;498:19::-;;;;;-1:-1:-1;;;;;498:19:52;;;709:197;;;;;;:::i;:::-;895:4;709:197;;;;;;;;5747:14:177;;5740:22;5722:41;;5710:2;5695:18;709:197:52;5582:187:177;4513:454:52;;;;;;:::i;:::-;;:::i;5718:236::-;5820:7;5846:101;5864:6;5872:11;5885:5;;;;;;;;;-1:-1:-1;;;;;5885:5:52;-1:-1:-1;;;;;5885:28:52;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5917:5;;;;;;;;;-1:-1:-1;;;;;5917:5:52;-1:-1:-1;;;;;5917:20:52;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5941:5;5846:17;:101::i;:::-;5839:108;;5718:236;;;;;:::o;5478:234::-;5579:7;5605:100;5623:6;5631:11;5644:5;;;;;;;;;-1:-1:-1;;;;;5644:5:52;-1:-1:-1;;;;;5644:28:52;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5676:5;;;;;;;;;-1:-1:-1;;;;;5676:5:52;-1:-1:-1;;;;;5676:20:52;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5700:4;5605:17;:100::i;4259:248::-;4454:5;;:46;;-1:-1:-1;;;4454:46:52;;-1:-1:-1;;;;;360:32:177;;;4454:46:52;;;342:51:177;4424:7:52;;4454:5;;:28;;315:18:177;;4454:46:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4447:53;4259:248;-1:-1:-1;;;;4259:248:52:o;7567:1406::-;7797:5;;:22;;;-1:-1:-1;;;7797:22:52;;;;7773:7;;-1:-1:-1;;;;;7797:5:52;;:20;;:22;;;;;;;;;;;;;;:5;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7792:51;;-1:-1:-1;7828:15:52;7821:22;;7792:51;7878:5;;:25;;-1:-1:-1;;;7878:25:52;;-1:-1:-1;;;;;360:32:177;;;7878:25:52;;;342:51:177;7854:21:52;;7878:5;;:17;;315:18:177;;7878:25:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7854:49;-1:-1:-1;7913:18:52;7934:26;7950:10;7854:49;7934:26;:::i;:::-;7913:47;;7975:10;7970:114;;8027:13;8014:10;:26;:59;;8047:26;8063:10;8047:13;:26;:::i;:::-;8014:59;;;8043:1;8014:59;8001:72;;7970:114;8117:5;;:33;;-1:-1:-1;;;8117:33:52;;-1:-1:-1;;;;;360:32:177;;;8117:33:52;;;342:51:177;8094:20:52;;8117:5;;:25;;315:18:177;;8117:33:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8094:56;;8164:12;8180:1;8164:17;8160:45;;8190:15;8183:22;;;;;;;8160:45;8216:19;8254:12;8238:13;:28;:90;;8300:28;8315:13;8300:12;:28;:::i;:::-;8238:90;;;8269:28;8285:12;8269:13;:28;:::i;:::-;8216:112;;8338:16;8370:12;8357:10;:25;:81;;8413:25;8428:10;8413:12;:25;:::i;:::-;8357:81;;;8385:25;8398:12;8385:10;:25;:::i;:::-;8338:100;;8514:11;8503:8;:22;8499:201;;;8541:17;8595:12;8562:29;8580:11;8562:15;:29;:::i;:::-;8561:46;;;;:::i;:::-;8541:66;;8640:15;8628:9;:27;:61;;8662:27;8680:9;8662:15;:27;:::i;:::-;8628:61;;;8658:1;8628:61;8621:68;;;;;;;;;;8499:201;8710:19;8759:1;8733:22;8747:8;8733:11;:22;:::i;:::-;8732:28;;;;:::i;:::-;8710:50;;8788:12;8774:11;:26;8770:83;;;-1:-1:-1;8830:12:52;8770:83;8862:14;8913:12;8880:29;8898:11;8880:15;:29;:::i;:::-;8879:46;;;;:::i;:::-;8862:63;-1:-1:-1;8942:24:52;8862:63;8942:15;:24;:::i;:::-;8935:31;;;;;;;;;7567:1406;;;;;;;;:::o;266:147:27:-;213:3;;-1:-1:-1;;;;;213:3:27;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:27;;7743:2:177;191:51:27;;;7725:21:177;7782:2;7762:18;;;7755:30;-1:-1:-1;;;7801:18:177;;;7794:51;7862:18;;191:51:27;;;;;;;;;-1:-1:-1;;;;;331:18:27;::::1;323:63;;;::::0;-1:-1:-1;;;323:63:27;;8093:2:177;323:63:27::1;::::0;::::1;8075:21:177::0;;;8112:18;;;8105:30;8171:34;8151:18;;;8144:62;8223:18;;323:63:27::1;7891:356:177::0;323:63:27::1;396:3;:10:::0;;-1:-1:-1;;;;;;396:10:27::1;-1:-1:-1::0;;;;;396:10:27;;;::::1;::::0;;;::::1;::::0;;266:147::o;2484:1769:52:-;2681:7;2690;2709:24;2736:61;2748:8;2758:16;2776:11;2789:7;2736:11;:61::i;:::-;2823:5;;2914:13;;2929:21;;;;;2961:26;;;;2885:103;;-1:-1:-1;;;2885:103:52;;-1:-1:-1;;;;;8523:32:177;;;2885:103:52;;;8505:51:177;8572:18;;;8565:34;;;;8615:18;;;8608:34;;;;8685:14;;8678:22;8658:18;;;8651:50;8717:19;;;8710:35;;;;2914:13:52;;-1:-1:-1;2823:5:52;;2807:13;;;;2823:5;;2885:15;;8477:19:177;;2885:103:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2839:149;;;;2998:18;3031:105;3045:8;3055:16;3073:11;3086:7;3095:8;:13;;;3110:8;:25;;;3031:13;:105::i;:::-;2998:138;;3172:79;3187:8;3197:16;3215:11;3228:7;3237:8;:13;;;3172:14;:79::i;:::-;3159:92;;:10;:92;:::i;:::-;3146:105;;3267:9;3266:10;:41;;;;;3302:5;3280:8;:19;;;:27;3266:41;3262:161;;;3327:6;3323:53;;;3335:41;;-1:-1:-1;;;3335:41:52;;9269:2:177;3335:41:52;;;9251:21:177;9308:2;9288:18;;;9281:30;9347:33;9327:18;;;9320:61;9398:18;;3335:41:52;9067:355:177;3323:53:52;3398:1;;-1:-1:-1;3401:10:52;-1:-1:-1;3390:22:52;;-1:-1:-1;;;;3390:22:52;3262:161;3463:19;;;;3497:9;3492:90;;3566:5;3544:8;:19;;;:27;;;;:::i;:::-;3522:49;;3492:90;3618:10;3596:19;:32;3592:214;;;3648:6;3644:51;;;3656:39;;-1:-1:-1;;;3656:39:52;;9629:2:177;3656:39:52;;;9611:21:177;9668:2;9648:18;;;9641:30;9707:31;9687:18;;;9680:59;9756:18;;3656:39:52;9427:353:177;3644:51:52;3772:1;;-1:-1:-1;3775:19:52;-1:-1:-1;3764:31:52;;-1:-1:-1;;;;;3764:31:52;3592:214;3855:6;-1:-1:-1;;;;;3855:24:52;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3842:39;;:10;:39;:::i;:::-;3820:19;:61;3816:191;;;3901:6;3897:63;;;3909:51;;-1:-1:-1;;;3909:51:52;;9987:2:177;3909:51:52;;;9969:21:177;10026:2;10006:18;;;9999:30;10065:34;10045:18;;;10038:62;-1:-1:-1;;;10116:18:177;;;10109:39;10165:19;;3909:51:52;9785:405:177;3897:63:52;-1:-1:-1;3982:1:52;;-1:-1:-1;3985:10:52;-1:-1:-1;3974:22:52;;-1:-1:-1;;;;3974:22:52;3816:191;4066:13;;:36;;571:5;;4066:36;:::i;:::-;4043:6;-1:-1:-1;;;;;4043:18:52;;:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4021:42;;:19;:42;:::i;:::-;:81;4017:197;;;4122:6;4118:49;;;4130:37;;-1:-1:-1;;;4130:37:52;;10397:2:177;4130:37:52;;;10379:21:177;10436:2;10416:18;;;10409:30;10475:29;10455:18;;;10448:57;10522:18;;4130:37:52;10195:351:177;4118:49:52;-1:-1:-1;4189:1:52;;-1:-1:-1;4192:10:52;-1:-1:-1;4181:22:52;;-1:-1:-1;;;;4181:22:52;4017:197;-1:-1:-1;4232:1:52;;-1:-1:-1;4235:10:52;-1:-1:-1;;;;;2484:1769:52;;;;;;;;;:::o;5960:807::-;6154:5;;:28;;-1:-1:-1;;;6154:28:52;;-1:-1:-1;;;;;360:32:177;;;6154:28:52;;;342:51:177;6111:7:52;;;;6154:5;;;:18;;315::177;;6154:28:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:61;;;;-1:-1:-1;6186:5:52;;:29;;-1:-1:-1;;;6186:29:52;;-1:-1:-1;;;;;360:32:177;;;6186:29:52;;;342:51:177;6186:5:52;;;;:18;;315::177;;6186:29:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6134:81;;6225:15;6243:12;:76;;6293:5;;;;;;;;;-1:-1:-1;;;;;6293:5:52;-1:-1:-1;;;;;6293:24:52;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6243:76;;;6258:5;;;;;;;;;-1:-1:-1;;;;;6258:5:52;-1:-1:-1;;;;;6258:30:52;;:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6225:94;;6329:14;6346:12;:68;;6392:5;;;;;;;;;-1:-1:-1;;;;;6392:5:52;-1:-1:-1;;;;;6392:20:52;;:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6346:68;;;6361:5;;;;;;;;;-1:-1:-1;;;;;6361:5:52;-1:-1:-1;;;;;6361:26:52;;:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6329:85;;6424:24;6451:63;6469:8;6479:11;6492:7;6501:6;6509:4;6451:17;:63::i;:::-;6424:90;;6524:24;6551:65;6569:9;6580:11;6593:7;6602:6;6610:5;6551:17;:65::i;:::-;6524:92;;6706:16;6687;:35;:73;;6744:16;6687:73;;;6725:16;6687:73;6680:80;5960:807;-1:-1:-1;;;;;;;;;5960:807:52:o;4973:499::-;5219:7;5242:5;5251:1;5242:10;5238:24;;-1:-1:-1;5261:1:52;5254:8;;5238:24;5295:5;;:46;;-1:-1:-1;;;5295:46:52;;-1:-1:-1;;;;;360:32:177;;;5295:46:52;;;342:51:177;5273:19:52;;5344:17;;5295:5;;;:28;;315:18:177;;5295:46:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:66;;;;:::i;:::-;5273:88;;5375:11;5390:1;5375:16;5371:30;;5400:1;5393:8;;;;;5371:30;631:7;5420:19;5428:11;5420:5;:19;:::i;:::-;5419:46;;;;:::i;:::-;5412:53;;;4973:499;;;;;;;;;:::o;4513:454::-;4736:7;4759:10;4773:1;4759:15;4755:29;;-1:-1:-1;4783:1:52;4776:8;;4755:29;4794:19;571:5;4866;;;;;;;;;-1:-1:-1;;;;;4866:5:52;-1:-1:-1;;;;;4866:26:52;;:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4843:51;;571:5;4843:51;:::i;:::-;4829:66;;:10;:66;:::i;:::-;4828:91;;;;:::i;:::-;4794:125;-1:-1:-1;4936:24:52;4794:125;4936:10;:24;:::i;:::-;4929:31;4513:454;-1:-1:-1;;;;;;;4513:454:52:o;1549:929::-;1696:15;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1696:15:52;1743:5;;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2120:68:52;;-1:-1:-1;;;2120:68:52;;-1:-1:-1;;;;;10832:15:177;;;2120:68:52;;;10814:34:177;10884:15;;;10864:18;;;10857:43;10936:15;;;10916:18;;;10909:43;10995:14;;10988:22;10968:18;;;10961:50;1743:5:52;;;;-1:-1:-1;;;;;;;;;;;1743:5:52;;2120:18;;10748:19:177;;2120:68:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2202:20;;;-1:-1:-1;;;2236:19:52;;;:32;;;;2282:21;;;:36;2332:25;;;:44;2390:26;;;:46;-1:-1:-1;2202:20:52;;1549:929;-1:-1:-1;;;;;;;;;;1549:929:52:o;404:173:177:-;472:20;;-1:-1:-1;;;;;521:31:177;;511:42;;501:70;;567:1;564;557:12;501:70;404:173;;;:::o;582:254::-;650:6;658;711:2;699:9;690:7;686:23;682:32;679:52;;;727:1;724;717:12;679:52;750:29;769:9;750:29;:::i;:::-;740:39;826:2;811:18;;;;798:32;;-1:-1:-1;;;582:254:177:o;841:118::-;927:5;920:13;913:21;906:5;903:32;893:60;;949:1;946;939:12;893:60;841:118;:::o;964:677::-;1074:6;1082;1090;1098;1106;1114;1122;1175:3;1163:9;1154:7;1150:23;1146:33;1143:53;;;1192:1;1189;1182:12;1143:53;1215:29;1234:9;1215:29;:::i;:::-;1205:39;;1263:38;1297:2;1286:9;1282:18;1263:38;:::i;:::-;1253:48;;1320:38;1354:2;1343:9;1339:18;1320:38;:::i;:::-;1310:48;;1405:2;1394:9;1390:18;1377:32;1367:42;;1456:3;1445:9;1441:19;1428:33;1418:43;;1511:3;1500:9;1496:19;1483:33;1525:28;1547:5;1525:28;:::i;:::-;1572:5;-1:-1:-1;1596:39:177;1630:3;1615:19;;1596:39;:::i;:::-;1586:49;;964:677;;;;;;;;;;:::o;1646:533::-;1738:6;1746;1754;1762;1770;1823:3;1811:9;1802:7;1798:23;1794:33;1791:53;;;1840:1;1837;1830:12;1791:53;1863:29;1882:9;1863:29;:::i;:::-;1853:39;;1911:38;1945:2;1934:9;1930:18;1911:38;:::i;:::-;1901:48;;1968:38;2002:2;1991:9;1987:18;1968:38;:::i;:::-;1958:48;;2053:2;2042:9;2038:18;2025:32;2015:42;;2107:3;2096:9;2092:19;2079:33;2121:28;2143:5;2121:28;:::i;:::-;2168:5;2158:15;;;1646:533;;;;;;;;:::o;2184:389::-;2258:6;2266;2274;2327:2;2315:9;2306:7;2302:23;2298:32;2295:52;;;2343:1;2340;2333:12;2295:52;2366:29;2385:9;2366:29;:::i;:::-;2356:39;;2414:38;2448:2;2437:9;2433:18;2414:38;:::i;:::-;2404:48;;2502:2;2491:9;2487:18;2474:32;2515:28;2537:5;2515:28;:::i;:::-;2562:5;2552:15;;;2184:389;;;;;:::o;2578:521::-;2670:6;2678;2686;2694;2702;2755:3;2743:9;2734:7;2730:23;2726:33;2723:53;;;2772:1;2769;2762:12;2723:53;2795:29;2814:9;2795:29;:::i;:::-;2785:39;;2871:2;2860:9;2856:18;2843:32;2833:42;;2922:2;2911:9;2907:18;2894:32;2884:42;;2973:2;2962:9;2958:18;2945:32;2935:42;;3027:3;3016:9;3012:19;2999:33;3041:28;3063:5;3041:28;:::i;3104:186::-;3163:6;3216:2;3204:9;3195:7;3191:23;3187:32;3184:52;;;3232:1;3229;3222:12;3184:52;3255:29;3274:9;3255:29;:::i;3295:600::-;3384:6;3392;3400;3408;3416;3469:3;3457:9;3448:7;3444:23;3440:33;3437:53;;;3486:1;3483;3476:12;3437:53;3509:29;3528:9;3509:29;:::i;:::-;3499:39;;3557:38;3591:2;3580:9;3576:18;3557:38;:::i;:::-;3547:48;;3614:38;3648:2;3637:9;3633:18;3614:38;:::i;:::-;3604:48;;3702:2;3691:9;3687:18;3674:32;3715:28;3737:5;3715:28;:::i;:::-;3762:5;-1:-1:-1;3819:3:177;3804:19;;3791:33;3833:30;3791:33;3833:30;:::i;4153:328::-;4230:6;4238;4246;4299:2;4287:9;4278:7;4274:23;4270:32;4267:52;;;4315:1;4312;4305:12;4267:52;4338:29;4357:9;4338:29;:::i;:::-;4328:39;;4386:38;4420:2;4409:9;4405:18;4386:38;:::i;:::-;4376:48;;4471:2;4460:9;4456:18;4443:32;4433:42;;4153:328;;;;;:::o;4486:602::-;4587:6;4595;4603;4611;4619;4627;4680:3;4668:9;4659:7;4655:23;4651:33;4648:53;;;4697:1;4694;4687:12;4648:53;4720:29;4739:9;4720:29;:::i;:::-;4710:39;;4768:38;4802:2;4791:9;4787:18;4768:38;:::i;:::-;4758:48;;4825:38;4859:2;4848:9;4844:18;4825:38;:::i;:::-;4815:48;;4913:2;4902:9;4898:18;4885:32;4926:28;4948:5;4926:28;:::i;:::-;4486:602;;;;-1:-1:-1;4486:602:177;;5025:3;5010:19;;4997:33;;5077:3;5062:19;;;5049:33;;-1:-1:-1;4486:602:177;-1:-1:-1;;4486:602:177:o;5317:260::-;5385:6;5393;5446:2;5434:9;5425:7;5421:23;5417:32;5414:52;;;5462:1;5459;5452:12;5414:52;5485:29;5504:9;5485:29;:::i;:::-;5475:39;;5533:38;5567:2;5556:9;5552:18;5533:38;:::i;:::-;5523:48;;5317:260;;;;;:::o;5774:533::-;5866:6;5874;5882;5890;5898;5951:3;5939:9;5930:7;5926:23;5922:33;5919:53;;;5968:1;5965;5958:12;5919:53;5991:29;6010:9;5991:29;:::i;:::-;5981:39;;6039:38;6073:2;6062:9;6058:18;6039:38;:::i;:::-;6029:48;;6096:38;6130:2;6119:9;6115:18;6096:38;:::i;:::-;6086:48;;6184:2;6173:9;6169:18;6156:32;6197:28;6219:5;6197:28;:::i;:::-;5774:533;;;;-1:-1:-1;5774:533:177;;6296:3;6281:19;6268:33;;5774:533;-1:-1:-1;;5774:533:177:o;6312:184::-;6382:6;6435:2;6423:9;6414:7;6410:23;6406:32;6403:52;;;6451:1;6448;6441:12;6403:52;-1:-1:-1;6474:16:177;;6312:184;-1:-1:-1;6312:184:177:o;6501:245::-;6568:6;6621:2;6609:9;6600:7;6596:23;6592:32;6589:52;;;6637:1;6634;6627:12;6589:52;6669:9;6663:16;6688:28;6710:5;6688:28;:::i;:::-;6735:5;6501:245;-1:-1:-1;;;6501:245:177:o;6751:127::-;6812:10;6807:3;6803:20;6800:1;6793:31;6843:4;6840:1;6833:15;6867:4;6864:1;6857:15;6883:125;6948:9;;;6969:10;;;6966:36;;;6982:18;;:::i;7013:128::-;7080:9;;;7101:11;;;7098:37;;;7115:18;;:::i;7146:168::-;7219:9;;;7250;;7267:15;;;7261:22;;7247:37;7237:71;;7288:18;;:::i;7319:217::-;7359:1;7385;7375:132;;7429:10;7424:3;7420:20;7417:1;7410:31;7464:4;7461:1;7454:15;7492:4;7489:1;7482:15;7375:132;-1:-1:-1;7521:9:177;;7319:217::o;8756:306::-;8832:6;8840;8893:2;8881:9;8872:7;8868:23;8864:32;8861:52;;;8909:1;8906;8899:12;8861:52;8941:9;8935:16;8960:28;8982:5;8960:28;:::i;:::-;9052:2;9037:18;;;;9031:25;9007:5;;9031:25;;-1:-1:-1;;;8756:306:177:o;11022:677::-;11152:6;11160;11168;11176;11184;11192;11200;11208;11261:3;11249:9;11240:7;11236:23;11232:33;11229:53;;;11278:1;11275;11268:12;11229:53;11307:9;11301:16;11291:26;;11357:2;11346:9;11342:18;11336:25;11326:35;;11401:2;11390:9;11386:18;11380:25;11370:35;;11445:2;11434:9;11430:18;11424:25;11414:35;;11489:3;11478:9;11474:19;11468:26;11458:36;;11534:3;11523:9;11519:19;11513:26;11503:36;;11582:3;11571:9;11567:19;11561:26;11596:28;11618:5;11596:28;:::i;:::-;11643:5;11633:15;;;11688:3;11677:9;11673:19;11667:26;11657:36;;11022:677;;;;;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"BASIS_POINTS_DIVISOR()":"126082cf","FUNDING_RATE_PRECISION()":"6be6026b","getBuyUsdpFeeBasisPoints(address,uint256)":"71ba415e","getEntryFundingRate(address,address,bool)":"b1cc53ab","getFeeBasisPoints(address,uint256,uint256,uint256,bool)":"c7e074c3","getFundingFee(address,address,address,bool,uint256,uint256)":"da76524c","getPositionFee(address,address,address,bool,uint256)":"fdaf6ac3","getSellUsdpFeeBasisPoints(address,uint256)":"5b396c92","getSwapFeeBasisPoints(address,address,uint256)":"da133816","gov()":"12d43a51","setGov(address)":"cfad57a2","updateCumulativeFundingRate(address,address)":"fbfded6d","validateDecreasePosition(address,address,address,uint256,uint256,bool,address)":"81d11a23","validateIncreasePosition(address,address,address,uint256,bool)":"9d5c28fa","validateLiquidation(address,address,address,bool,bool)":"d54d5a9f","vault()":"fbfa77cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IVault\",\"name\":\"_vault\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BASIS_POINTS_DIVISOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FUNDING_RATE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getBuyUsdpFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"name\":\"getEntryFundingRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpDelta\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_feeBasisPoints\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_taxBasisPoints\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_increment\",\"type\":\"bool\"}],\"name\":\"getFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_entryFundingRate\",\"type\":\"uint256\"}],\"name\":\"getFundingFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_sizeDelta\",\"type\":\"uint256\"}],\"name\":\"getPositionFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getSellUsdpFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_usdpAmount\",\"type\":\"uint256\"}],\"name\":\"getSwapFeeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGov\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"updateCumulativeFundingRate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"validateDecreasePosition\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"name\":\"validateIncreasePosition\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_indexToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_isLong\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_raise\",\"type\":\"bool\"}],\"name\":\"validateLiquidation\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"contract IVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/VaultUtils.sol\":\"VaultUtils\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/access/Governable.sol\":{\"keccak256\":\"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815\",\"dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod\"]},\"src/core/VaultUtils.sol\":{\"keccak256\":\"0xbbe9e7f04b4b025063617df6fe57ad2633c64a1fc6c57f2279d7c524f4871ee6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://97ee0c9e9a5a2938c0fd8853782acef76bf7424d0eae45436bc9b4b3c343538a\",\"dweb:/ipfs/QmVR5C9EuTSqsMg45bSjpCWvuj8iUnpumt5zGmuSwMZYGW\"]},\"src/core/interfaces/IVault.sol\":{\"keccak256\":\"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208\",\"dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC\"]},\"src/core/interfaces/IVaultUtils.sol\":{\"keccak256\":\"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3\",\"dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF\"]},\"src/libraries/token/IERC20.sol\":{\"keccak256\":\"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2\",\"dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IVault","name":"_vault","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FUNDING_RATE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getBuyUsdpFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","name":"getEntryFundingRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpDelta","type":"uint256"},{"internalType":"uint256","name":"_feeBasisPoints","type":"uint256"},{"internalType":"uint256","name":"_taxBasisPoints","type":"uint256"},{"internalType":"bool","name":"_increment","type":"bool"}],"stateMutability":"view","type":"function","name":"getFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"_size","type":"uint256"},{"internalType":"uint256","name":"_entryFundingRate","type":"uint256"}],"stateMutability":"view","type":"function","name":"getFundingFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPositionFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSellUsdpFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_tokenIn","type":"address"},{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"uint256","name":"_usdpAmount","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSwapFeeBasisPoints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGov"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function","name":"updateCumulativeFundingRate","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"validateDecreasePosition"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","name":"validateIncreasePosition"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bool","name":"_raise","type":"bool"}],"stateMutability":"view","type":"function","name":"validateLiquidation","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"contract IVault","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/","chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/VaultUtils.sol":"VaultUtils"},"libraries":{}},"sources":{"src/access/Governable.sol":{"keccak256":"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1","urls":["bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815","dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod"],"license":"MIT"},"src/core/VaultUtils.sol":{"keccak256":"0xbbe9e7f04b4b025063617df6fe57ad2633c64a1fc6c57f2279d7c524f4871ee6","urls":["bzz-raw://97ee0c9e9a5a2938c0fd8853782acef76bf7424d0eae45436bc9b4b3c343538a","dweb:/ipfs/QmVR5C9EuTSqsMg45bSjpCWvuj8iUnpumt5zGmuSwMZYGW"],"license":"MIT"},"src/core/interfaces/IVault.sol":{"keccak256":"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453","urls":["bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208","dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC"],"license":"MIT"},"src/core/interfaces/IVaultUtils.sol":{"keccak256":"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd","urls":["bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3","dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF"],"license":"MIT"},"src/libraries/token/IERC20.sol":{"keccak256":"0xbc4c8bd9fbcfd23789dcc20016ba52273f01fb96b68cf8f14623f9f7e59d81bd","urls":["bzz-raw://6e45aff4df94cd29c6420270f1219daf3c11064503da5530b76c5643f93e7ca2","dweb:/ipfs/QmPLTSaUu8v26r72VUCYVVWs2ewZG4jZVmKnvNMCqadZah"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/core/VaultUtils.sol","id":51378,"exportedSymbols":{"Governable":[32410],"IERC20":[56117],"IVault":[52650],"IVaultUtils":[52916],"VaultUtils":[51377]},"nodeType":"SourceUnit","src":"33:8943:52","nodes":[{"id":50669,"nodeType":"PragmaDirective","src":"33:23:52","nodes":[],"literals":["solidity","0.8",".18"]},{"id":50670,"nodeType":"ImportDirective","src":"58:39:52","nodes":[],"absolutePath":"src/libraries/token/IERC20.sol","file":"../libraries/token/IERC20.sol","nameLocation":"-1:-1:-1","scope":51378,"sourceUnit":56118,"symbolAliases":[],"unitAlias":""},{"id":50671,"nodeType":"ImportDirective","src":"98:33:52","nodes":[],"absolutePath":"src/core/interfaces/IVault.sol","file":"./interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":51378,"sourceUnit":52651,"symbolAliases":[],"unitAlias":""},{"id":50672,"nodeType":"ImportDirective","src":"132:38:52","nodes":[],"absolutePath":"src/core/interfaces/IVaultUtils.sol","file":"./interfaces/IVaultUtils.sol","nameLocation":"-1:-1:-1","scope":51378,"sourceUnit":52917,"symbolAliases":[],"unitAlias":""},{"id":50673,"nodeType":"ImportDirective","src":"172:34:52","nodes":[],"absolutePath":"src/access/Governable.sol","file":"../access/Governable.sol","nameLocation":"-1:-1:-1","scope":51378,"sourceUnit":32411,"symbolAliases":[],"unitAlias":""},{"id":51377,"nodeType":"ContractDefinition","src":"208:8767:52","nodes":[{"id":50692,"nodeType":"StructDefinition","src":"261:231:52","nodes":[],"canonicalName":"VaultUtils.Position","members":[{"constant":false,"id":50679,"mutability":"mutable","name":"size","nameLocation":"295:4:52","nodeType":"VariableDeclaration","scope":50692,"src":"287:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50678,"name":"uint256","nodeType":"ElementaryTypeName","src":"287:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50681,"mutability":"mutable","name":"collateral","nameLocation":"317:10:52","nodeType":"VariableDeclaration","scope":50692,"src":"309:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50680,"name":"uint256","nodeType":"ElementaryTypeName","src":"309:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50683,"mutability":"mutable","name":"averagePrice","nameLocation":"345:12:52","nodeType":"VariableDeclaration","scope":50692,"src":"337:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50682,"name":"uint256","nodeType":"ElementaryTypeName","src":"337:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50685,"mutability":"mutable","name":"entryFundingRate","nameLocation":"375:16:52","nodeType":"VariableDeclaration","scope":50692,"src":"367:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50684,"name":"uint256","nodeType":"ElementaryTypeName","src":"367:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50687,"mutability":"mutable","name":"reserveAmount","nameLocation":"409:13:52","nodeType":"VariableDeclaration","scope":50692,"src":"401:21:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50686,"name":"uint256","nodeType":"ElementaryTypeName","src":"401:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50689,"mutability":"mutable","name":"realisedPnl","nameLocation":"439:11:52","nodeType":"VariableDeclaration","scope":50692,"src":"432:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":50688,"name":"int256","nodeType":"ElementaryTypeName","src":"432:6:52","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":50691,"mutability":"mutable","name":"lastIncreasedTime","nameLocation":"468:17:52","nodeType":"VariableDeclaration","scope":50692,"src":"460:25:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50690,"name":"uint256","nodeType":"ElementaryTypeName","src":"460:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Position","nameLocation":"268:8:52","scope":51377,"visibility":"public"},{"id":50695,"nodeType":"VariableDeclaration","src":"498:19:52","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"512:5:52","scope":51377,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"},"typeName":{"id":50694,"nodeType":"UserDefinedTypeName","pathNode":{"id":50693,"name":"IVault","nameLocations":["498:6:52"],"nodeType":"IdentifierPath","referencedDeclaration":52650,"src":"498:6:52"},"referencedDeclaration":52650,"src":"498:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"visibility":"public"},{"id":50698,"nodeType":"VariableDeclaration","src":"524:52:52","nodes":[],"constant":true,"functionSelector":"126082cf","mutability":"constant","name":"BASIS_POINTS_DIVISOR","nameLocation":"548:20:52","scope":51377,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50696,"name":"uint256","nodeType":"ElementaryTypeName","src":"524:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030","id":50697,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"571:5:52","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"visibility":"public"},{"id":50701,"nodeType":"VariableDeclaration","src":"582:56:52","nodes":[],"constant":true,"functionSelector":"6be6026b","mutability":"constant","name":"FUNDING_RATE_PRECISION","nameLocation":"606:22:52","scope":51377,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50699,"name":"uint256","nodeType":"ElementaryTypeName","src":"582:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31303030303030","id":50700,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"631:7:52","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1000000"},"visibility":"public"},{"id":50712,"nodeType":"FunctionDefinition","src":"645:58:52","nodes":[],"body":{"id":50711,"nodeType":"Block","src":"672:31:52","nodes":[],"statements":[{"expression":{"id":50709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50707,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"682:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50708,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50704,"src":"690:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"src":"682:14:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":50710,"nodeType":"ExpressionStatement","src":"682:14:52"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":50705,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50704,"mutability":"mutable","name":"_vault","nameLocation":"664:6:52","nodeType":"VariableDeclaration","scope":50712,"src":"657:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"},"typeName":{"id":50703,"nodeType":"UserDefinedTypeName","pathNode":{"id":50702,"name":"IVault","nameLocations":["657:6:52"],"nodeType":"IdentifierPath","referencedDeclaration":52650,"src":"657:6:52"},"referencedDeclaration":52650,"src":"657:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"visibility":"internal"}],"src":"656:15:52"},"returnParameters":{"id":50706,"nodeType":"ParameterList","parameters":[],"src":"672:0:52"},"scope":51377,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":50725,"nodeType":"FunctionDefinition","src":"709:197:52","nodes":[],"body":{"id":50724,"nodeType":"Block","src":"878:28:52","nodes":[],"statements":[{"expression":{"hexValue":"74727565","id":50722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"895:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":50721,"id":50723,"nodeType":"Return","src":"888:11:52"}]},"baseFunctions":[52781],"functionSelector":"fbfded6d","implemented":true,"kind":"function","modifiers":[],"name":"updateCumulativeFundingRate","nameLocation":"718:27:52","overrides":{"id":50718,"nodeType":"OverrideSpecifier","overrides":[],"src":"842:8:52"},"parameters":{"id":50717,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50714,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50725,"src":"746:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50713,"name":"address","nodeType":"ElementaryTypeName","src":"746:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50716,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50725,"src":"778:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50715,"name":"address","nodeType":"ElementaryTypeName","src":"778:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"745:60:52"},"returnParameters":{"id":50721,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50720,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50725,"src":"868:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50719,"name":"bool","nodeType":"ElementaryTypeName","src":"868:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"867:6:52"},"scope":51377,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":50740,"nodeType":"FunctionDefinition","src":"912:276:52","nodes":[],"body":{"id":50739,"nodeType":"Block","src":"1144:44:52","nodes":[],"statements":[]},"baseFunctions":[52794],"functionSelector":"9d5c28fa","implemented":true,"kind":"function","modifiers":[],"name":"validateIncreasePosition","nameLocation":"921:24:52","overrides":{"id":50737,"nodeType":"OverrideSpecifier","overrides":[],"src":"1135:8:52"},"parameters":{"id":50736,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50727,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50740,"src":"955:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50726,"name":"address","nodeType":"ElementaryTypeName","src":"955:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50729,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50740,"src":"987:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50728,"name":"address","nodeType":"ElementaryTypeName","src":"987:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50731,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50740,"src":"1027:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50730,"name":"address","nodeType":"ElementaryTypeName","src":"1027:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50733,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50740,"src":"1062:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50732,"name":"uint256","nodeType":"ElementaryTypeName","src":"1062:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50735,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50740,"src":"1096:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50734,"name":"bool","nodeType":"ElementaryTypeName","src":"1096:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"945:175:52"},"returnParameters":{"id":50738,"nodeType":"ParameterList","parameters":[],"src":"1144:0:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":50759,"nodeType":"FunctionDefinition","src":"1194:349:52","nodes":[],"body":{"id":50758,"nodeType":"Block","src":"1499:44:52","nodes":[],"statements":[]},"baseFunctions":[52811],"functionSelector":"81d11a23","implemented":true,"kind":"function","modifiers":[],"name":"validateDecreasePosition","nameLocation":"1203:24:52","overrides":{"id":50756,"nodeType":"OverrideSpecifier","overrides":[],"src":"1490:8:52"},"parameters":{"id":50755,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50742,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1237:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50741,"name":"address","nodeType":"ElementaryTypeName","src":"1237:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50744,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1269:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50743,"name":"address","nodeType":"ElementaryTypeName","src":"1269:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50746,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1309:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50745,"name":"address","nodeType":"ElementaryTypeName","src":"1309:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50748,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1344:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50747,"name":"uint256","nodeType":"ElementaryTypeName","src":"1344:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50750,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1384:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50749,"name":"uint256","nodeType":"ElementaryTypeName","src":"1384:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50752,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1418:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50751,"name":"bool","nodeType":"ElementaryTypeName","src":"1418:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":50754,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50759,"src":"1446:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50753,"name":"address","nodeType":"ElementaryTypeName","src":"1446:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1227:248:52"},"returnParameters":{"id":50757,"nodeType":"ParameterList","parameters":[],"src":"1499:0:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":50834,"nodeType":"FunctionDefinition","src":"1549:929:52","nodes":[],"body":{"id":50833,"nodeType":"Block","src":"1717:761:52","nodes":[],"statements":[{"assignments":[50775],"declarations":[{"constant":false,"id":50775,"mutability":"mutable","name":"_vault","nameLocation":"1734:6:52","nodeType":"VariableDeclaration","scope":50833,"src":"1727:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"},"typeName":{"id":50774,"nodeType":"UserDefinedTypeName","pathNode":{"id":50773,"name":"IVault","nameLocations":["1727:6:52"],"nodeType":"IdentifierPath","referencedDeclaration":52650,"src":"1727:6:52"},"referencedDeclaration":52650,"src":"1727:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"visibility":"internal"}],"id":50777,"initialValue":{"id":50776,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"1743:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"nodeType":"VariableDeclarationStatement","src":"1727:21:52"},{"assignments":[50780],"declarations":[{"constant":false,"id":50780,"mutability":"mutable","name":"position","nameLocation":"1774:8:52","nodeType":"VariableDeclaration","scope":50833,"src":"1758:24:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":50779,"nodeType":"UserDefinedTypeName","pathNode":{"id":50778,"name":"Position","nameLocations":["1758:8:52"],"nodeType":"IdentifierPath","referencedDeclaration":50692,"src":"1758:8:52"},"referencedDeclaration":50692,"src":"1758:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"id":50781,"nodeType":"VariableDeclarationStatement","src":"1758:24:52"},{"id":50830,"nodeType":"Block","src":"1792:655:52","statements":[{"assignments":[50783,50785,50787,50789,null,null,null,50791],"declarations":[{"constant":false,"id":50783,"mutability":"mutable","name":"size","nameLocation":"1832:4:52","nodeType":"VariableDeclaration","scope":50830,"src":"1824:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50782,"name":"uint256","nodeType":"ElementaryTypeName","src":"1824:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50785,"mutability":"mutable","name":"collateral","nameLocation":"1862:10:52","nodeType":"VariableDeclaration","scope":50830,"src":"1854:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50784,"name":"uint256","nodeType":"ElementaryTypeName","src":"1854:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50787,"mutability":"mutable","name":"averagePrice","nameLocation":"1898:12:52","nodeType":"VariableDeclaration","scope":50830,"src":"1890:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50786,"name":"uint256","nodeType":"ElementaryTypeName","src":"1890:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50789,"mutability":"mutable","name":"entryFundingRate","nameLocation":"1936:16:52","nodeType":"VariableDeclaration","scope":50830,"src":"1928:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50788,"name":"uint256","nodeType":"ElementaryTypeName","src":"1928:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null,null,null,{"constant":false,"id":50791,"mutability":"mutable","name":"lastIncreasedTime","nameLocation":"2086:17:52","nodeType":"VariableDeclaration","scope":50830,"src":"2078:25:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50790,"name":"uint256","nodeType":"ElementaryTypeName","src":"2078:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50799,"initialValue":{"arguments":[{"id":50794,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50761,"src":"2139:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50795,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50763,"src":"2149:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50796,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50765,"src":"2167:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50797,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50767,"src":"2180:7:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":50792,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50775,"src":"2120:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":50793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2127:11:52","memberName":"getPosition","nodeType":"MemberAccess","referencedDeclaration":52649,"src":"2120:18:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$_t_address_$_t_bool_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"function (address,address,address,bool) view external returns (uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"id":50798,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2120:68:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"1806:382:52"},{"expression":{"id":50804,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":50800,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2202:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50802,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2211:4:52","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":50679,"src":"2202:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50803,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50783,"src":"2218:4:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2202:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50805,"nodeType":"ExpressionStatement","src":"2202:20:52"},{"expression":{"id":50810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":50806,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2236:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50808,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2245:10:52","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":50681,"src":"2236:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50809,"name":"collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50785,"src":"2258:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2236:32:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50811,"nodeType":"ExpressionStatement","src":"2236:32:52"},{"expression":{"id":50816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":50812,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2282:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50814,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2291:12:52","memberName":"averagePrice","nodeType":"MemberAccess","referencedDeclaration":50683,"src":"2282:21:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50815,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50787,"src":"2306:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2282:36:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50817,"nodeType":"ExpressionStatement","src":"2282:36:52"},{"expression":{"id":50822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":50818,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2332:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2341:16:52","memberName":"entryFundingRate","nodeType":"MemberAccess","referencedDeclaration":50685,"src":"2332:25:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50821,"name":"entryFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50789,"src":"2360:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2332:44:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50823,"nodeType":"ExpressionStatement","src":"2332:44:52"},{"expression":{"id":50828,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":50824,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2390:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50826,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2399:17:52","memberName":"lastIncreasedTime","nodeType":"MemberAccess","referencedDeclaration":50691,"src":"2390:26:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50827,"name":"lastIncreasedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50791,"src":"2419:17:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2390:46:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50829,"nodeType":"ExpressionStatement","src":"2390:46:52"}]},{"expression":{"id":50831,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50780,"src":"2463:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"functionReturnParameters":50772,"id":50832,"nodeType":"Return","src":"2456:15:52"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getPosition","nameLocation":"1558:11:52","parameters":{"id":50768,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50761,"mutability":"mutable","name":"_account","nameLocation":"1578:8:52","nodeType":"VariableDeclaration","scope":50834,"src":"1570:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50760,"name":"address","nodeType":"ElementaryTypeName","src":"1570:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50763,"mutability":"mutable","name":"_collateralToken","nameLocation":"1596:16:52","nodeType":"VariableDeclaration","scope":50834,"src":"1588:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50762,"name":"address","nodeType":"ElementaryTypeName","src":"1588:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50765,"mutability":"mutable","name":"_indexToken","nameLocation":"1622:11:52","nodeType":"VariableDeclaration","scope":50834,"src":"1614:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50764,"name":"address","nodeType":"ElementaryTypeName","src":"1614:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50767,"mutability":"mutable","name":"_isLong","nameLocation":"1640:7:52","nodeType":"VariableDeclaration","scope":50834,"src":"1635:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50766,"name":"bool","nodeType":"ElementaryTypeName","src":"1635:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1569:79:52"},"returnParameters":{"id":50772,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50771,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":50834,"src":"1696:15:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":50770,"nodeType":"UserDefinedTypeName","pathNode":{"id":50769,"name":"Position","nameLocations":["1696:8:52"],"nodeType":"IdentifierPath","referencedDeclaration":50692,"src":"1696:8:52"},"referencedDeclaration":50692,"src":"1696:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"src":"1695:17:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":51005,"nodeType":"FunctionDefinition","src":"2484:1769:52","nodes":[],"body":{"id":51004,"nodeType":"Block","src":"2699:1554:52","nodes":[],"statements":[{"assignments":[50854],"declarations":[{"constant":false,"id":50854,"mutability":"mutable","name":"position","nameLocation":"2725:8:52","nodeType":"VariableDeclaration","scope":51004,"src":"2709:24:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position"},"typeName":{"id":50853,"nodeType":"UserDefinedTypeName","pathNode":{"id":50852,"name":"Position","nameLocations":["2709:8:52"],"nodeType":"IdentifierPath","referencedDeclaration":50692,"src":"2709:8:52"},"referencedDeclaration":50692,"src":"2709:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_storage_ptr","typeString":"struct VaultUtils.Position"}},"visibility":"internal"}],"id":50861,"initialValue":{"arguments":[{"id":50856,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50836,"src":"2748:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50857,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50838,"src":"2758:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50858,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50840,"src":"2776:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50859,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50842,"src":"2789:7:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":50855,"name":"getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50834,"src":"2736:11:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$returns$_t_struct$_Position_$50692_memory_ptr_$","typeString":"function (address,address,address,bool) view returns (struct VaultUtils.Position memory)"}},"id":50860,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2736:61:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"nodeType":"VariableDeclarationStatement","src":"2709:88:52"},{"assignments":[50864],"declarations":[{"constant":false,"id":50864,"mutability":"mutable","name":"_vault","nameLocation":"2814:6:52","nodeType":"VariableDeclaration","scope":51004,"src":"2807:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"},"typeName":{"id":50863,"nodeType":"UserDefinedTypeName","pathNode":{"id":50862,"name":"IVault","nameLocations":["2807:6:52"],"nodeType":"IdentifierPath","referencedDeclaration":52650,"src":"2807:6:52"},"referencedDeclaration":52650,"src":"2807:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"visibility":"internal"}],"id":50866,"initialValue":{"id":50865,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"2823:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"nodeType":"VariableDeclarationStatement","src":"2807:21:52"},{"assignments":[50868,50870],"declarations":[{"constant":false,"id":50868,"mutability":"mutable","name":"hasProfit","nameLocation":"2845:9:52","nodeType":"VariableDeclaration","scope":51004,"src":"2840:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50867,"name":"bool","nodeType":"ElementaryTypeName","src":"2840:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":50870,"mutability":"mutable","name":"delta","nameLocation":"2864:5:52","nodeType":"VariableDeclaration","scope":51004,"src":"2856:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50869,"name":"uint256","nodeType":"ElementaryTypeName","src":"2856:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50882,"initialValue":{"arguments":[{"id":50873,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50840,"src":"2901:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":50874,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"2914:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50875,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2923:4:52","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":50679,"src":"2914:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":50876,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"2929:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50877,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2938:12:52","memberName":"averagePrice","nodeType":"MemberAccess","referencedDeclaration":50683,"src":"2929:21:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":50878,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50842,"src":"2952:7:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":50879,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"2961:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50880,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2970:17:52","memberName":"lastIncreasedTime","nodeType":"MemberAccess","referencedDeclaration":50691,"src":"2961:26:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":50871,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50864,"src":"2885:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":50872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2892:8:52","memberName":"getDelta","nodeType":"MemberAccess","referencedDeclaration":52622,"src":"2885:15:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$returns$_t_bool_$_t_uint256_$","typeString":"function (address,uint256,uint256,bool,uint256) view external returns (bool,uint256)"}},"id":50881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2885:103:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2839:149:52"},{"assignments":[50884],"declarations":[{"constant":false,"id":50884,"mutability":"mutable","name":"marginFees","nameLocation":"3006:10:52","nodeType":"VariableDeclaration","scope":51004,"src":"2998:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50883,"name":"uint256","nodeType":"ElementaryTypeName","src":"2998:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50895,"initialValue":{"arguments":[{"id":50886,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50836,"src":"3045:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50887,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50838,"src":"3055:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50888,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50840,"src":"3073:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50889,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50842,"src":"3086:7:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":50890,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3095:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50891,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3104:4:52","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":50679,"src":"3095:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":50892,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3110:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50893,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3119:16:52","memberName":"entryFundingRate","nodeType":"MemberAccess","referencedDeclaration":50685,"src":"3110:25:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":50885,"name":"getFundingFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51111,"src":"3031:13:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,address,address,bool,uint256,uint256) view returns (uint256)"}},"id":50894,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3031:105:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2998:138:52"},{"expression":{"id":50907,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50896,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3146:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50897,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3159:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":50899,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50836,"src":"3187:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50900,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50838,"src":"3197:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50901,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50840,"src":"3215:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":50902,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50842,"src":"3228:7:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":50903,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3237:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50904,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3246:4:52","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":50679,"src":"3237:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":50898,"name":"getPositionFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51064,"src":"3172:14:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_bool_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,address,address,bool,uint256) view returns (uint256)"}},"id":50905,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3172:79:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3159:92:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3146:105:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50908,"nodeType":"ExpressionStatement","src":"3146:105:52"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":50915,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3266:10:52","subExpression":{"id":50909,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50868,"src":"3267:9:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50911,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3280:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50912,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3289:10:52","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":50681,"src":"3280:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":50913,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50870,"src":"3302:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3280:27:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3266:41:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50927,"nodeType":"IfStatement","src":"3262:161:52","trueBody":{"id":50926,"nodeType":"Block","src":"3309:114:52","statements":[{"condition":{"id":50916,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50844,"src":"3327:6:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50921,"nodeType":"IfStatement","src":"3323:53:52","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206c6f737365732065786365656420636f6c6c61746572616c","id":50918,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3342:33:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_6c431b8d590673e711a7f93e59ba13639514cc756cc66b09cf0894aef3b2cbe9","typeString":"literal_string \"Vault: losses exceed collateral\""},"value":"Vault: losses exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6c431b8d590673e711a7f93e59ba13639514cc756cc66b09cf0894aef3b2cbe9","typeString":"literal_string \"Vault: losses exceed collateral\""}],"id":50917,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3335:6:52","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":50919,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3335:41:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50920,"nodeType":"ExpressionStatement","src":"3335:41:52"}},{"expression":{"components":[{"hexValue":"31","id":50922,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3398:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":50923,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3401:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":50924,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3397:15:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":50851,"id":50925,"nodeType":"Return","src":"3390:22:52"}]}},{"assignments":[50929],"declarations":[{"constant":false,"id":50929,"mutability":"mutable","name":"remainingCollateral","nameLocation":"3441:19:52","nodeType":"VariableDeclaration","scope":51004,"src":"3433:27:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50928,"name":"uint256","nodeType":"ElementaryTypeName","src":"3433:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50932,"initialValue":{"expression":{"id":50930,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3463:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50931,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3472:10:52","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":50681,"src":"3463:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3433:49:52"},{"condition":{"id":50934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3496:10:52","subExpression":{"id":50933,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50868,"src":"3497:9:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50943,"nodeType":"IfStatement","src":"3492:90:52","trueBody":{"id":50942,"nodeType":"Block","src":"3508:74:52","statements":[{"expression":{"id":50940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50935,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50929,"src":"3522:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50939,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50936,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"3544:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50937,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3553:10:52","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":50681,"src":"3544:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":50938,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50870,"src":"3566:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3544:27:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3522:49:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50941,"nodeType":"ExpressionStatement","src":"3522:49:52"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50944,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50929,"src":"3596:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":50945,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3618:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3596:32:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50958,"nodeType":"IfStatement","src":"3592:214:52","trueBody":{"id":50957,"nodeType":"Block","src":"3630:176:52","statements":[{"condition":{"id":50947,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50844,"src":"3648:6:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50952,"nodeType":"IfStatement","src":"3644:51:52","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a20666565732065786365656420636f6c6c61746572616c","id":50949,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3663:31:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_c7705211c909799b6051000735000e60951f43757d510ab7e193600b10fbb784","typeString":"literal_string \"Vault: fees exceed collateral\""},"value":"Vault: fees exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c7705211c909799b6051000735000e60951f43757d510ab7e193600b10fbb784","typeString":"literal_string \"Vault: fees exceed collateral\""}],"id":50948,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3656:6:52","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":50950,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3656:39:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50951,"nodeType":"ExpressionStatement","src":"3656:39:52"}},{"expression":{"components":[{"hexValue":"31","id":50953,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3772:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":50954,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50929,"src":"3775:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":50955,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3771:24:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":50851,"id":50956,"nodeType":"Return","src":"3764:31:52"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50959,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50929,"src":"3820:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50960,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3842:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":50961,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50864,"src":"3855:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":50962,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3862:17:52","memberName":"liquidationFeeUsd","nodeType":"MemberAccess","referencedDeclaration":52435,"src":"3855:24:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":50963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3855:26:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3842:39:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3820:61:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50977,"nodeType":"IfStatement","src":"3816:191:52","trueBody":{"id":50976,"nodeType":"Block","src":"3883:124:52","statements":[{"condition":{"id":50966,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50844,"src":"3901:6:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50971,"nodeType":"IfStatement","src":"3897:63:52","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206c69717569646174696f6e20666565732065786365656420636f6c6c61746572616c","id":50968,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3916:43:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_514b36554c00fb9e51f3566ee1986bba5ee49978daa99c95dedc08f9cdbbb3a2","typeString":"literal_string \"Vault: liquidation fees exceed collateral\""},"value":"Vault: liquidation fees exceed collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_514b36554c00fb9e51f3566ee1986bba5ee49978daa99c95dedc08f9cdbbb3a2","typeString":"literal_string \"Vault: liquidation fees exceed collateral\""}],"id":50967,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3909:6:52","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":50969,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3909:51:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50970,"nodeType":"ExpressionStatement","src":"3909:51:52"}},{"expression":{"components":[{"hexValue":"31","id":50972,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3982:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"id":50973,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"3985:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":50974,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3981:15:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_uint256_$","typeString":"tuple(int_const 1,uint256)"}},"functionReturnParameters":50851,"id":50975,"nodeType":"Return","src":"3974:22:52"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":50978,"name":"remainingCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50929,"src":"4021:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":50979,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50864,"src":"4043:6:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":50980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4050:11:52","memberName":"maxLeverage","nodeType":"MemberAccess","referencedDeclaration":52064,"src":"4043:18:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":50981,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4043:20:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4021:42:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50986,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":50983,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50854,"src":"4066:8:52","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$50692_memory_ptr","typeString":"struct VaultUtils.Position memory"}},"id":50984,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4075:4:52","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":50679,"src":"4066:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":50985,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50698,"src":"4082:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4066:36:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4021:81:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50999,"nodeType":"IfStatement","src":"4017:197:52","trueBody":{"id":50998,"nodeType":"Block","src":"4104:110:52","statements":[{"condition":{"id":50988,"name":"_raise","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50844,"src":"4122:6:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50993,"nodeType":"IfStatement","src":"4118:49:52","trueBody":{"expression":{"arguments":[{"hexValue":"5661756c743a206d61784c65766572616765206578636565646564","id":50990,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4137:29:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_c30744b594916aa6e178e2ea6dc29a4e30c465ff198137cf09c359341efaca6c","typeString":"literal_string \"Vault: maxLeverage exceeded\""},"value":"Vault: maxLeverage exceeded"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c30744b594916aa6e178e2ea6dc29a4e30c465ff198137cf09c359341efaca6c","typeString":"literal_string \"Vault: maxLeverage exceeded\""}],"id":50989,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"4130:6:52","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":50991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4130:37:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50992,"nodeType":"ExpressionStatement","src":"4130:37:52"}},{"expression":{"components":[{"hexValue":"32","id":50994,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4189:1:52","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},{"id":50995,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"4192:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":50996,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4188:15:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_2_by_1_$_t_uint256_$","typeString":"tuple(int_const 2,uint256)"}},"functionReturnParameters":50851,"id":50997,"nodeType":"Return","src":"4181:22:52"}]}},{"expression":{"components":[{"hexValue":"30","id":51000,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4232:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":51001,"name":"marginFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50884,"src":"4235:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51002,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4231:15:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_uint256_$","typeString":"tuple(int_const 0,uint256)"}},"functionReturnParameters":50851,"id":51003,"nodeType":"Return","src":"4224:22:52"}]},"baseFunctions":[52828],"functionSelector":"d54d5a9f","implemented":true,"kind":"function","modifiers":[],"name":"validateLiquidation","nameLocation":"2493:19:52","overrides":{"id":50846,"nodeType":"OverrideSpecifier","overrides":[],"src":"2663:8:52"},"parameters":{"id":50845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50836,"mutability":"mutable","name":"_account","nameLocation":"2530:8:52","nodeType":"VariableDeclaration","scope":51005,"src":"2522:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50835,"name":"address","nodeType":"ElementaryTypeName","src":"2522:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50838,"mutability":"mutable","name":"_collateralToken","nameLocation":"2556:16:52","nodeType":"VariableDeclaration","scope":51005,"src":"2548:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50837,"name":"address","nodeType":"ElementaryTypeName","src":"2548:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50840,"mutability":"mutable","name":"_indexToken","nameLocation":"2590:11:52","nodeType":"VariableDeclaration","scope":51005,"src":"2582:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50839,"name":"address","nodeType":"ElementaryTypeName","src":"2582:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":50842,"mutability":"mutable","name":"_isLong","nameLocation":"2616:7:52","nodeType":"VariableDeclaration","scope":51005,"src":"2611:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50841,"name":"bool","nodeType":"ElementaryTypeName","src":"2611:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":50844,"mutability":"mutable","name":"_raise","nameLocation":"2638:6:52","nodeType":"VariableDeclaration","scope":51005,"src":"2633:11:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50843,"name":"bool","nodeType":"ElementaryTypeName","src":"2633:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2512:138:52"},"returnParameters":{"id":50851,"nodeType":"ParameterList","parameters":[{"constant":false,"id":50848,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51005,"src":"2681:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50847,"name":"uint256","nodeType":"ElementaryTypeName","src":"2681:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":50850,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51005,"src":"2690:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50849,"name":"uint256","nodeType":"ElementaryTypeName","src":"2690:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2680:18:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51023,"nodeType":"FunctionDefinition","src":"4259:248:52","nodes":[],"body":{"id":51022,"nodeType":"Block","src":"4437:70:52","nodes":[],"statements":[{"expression":{"arguments":[{"id":51019,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51007,"src":"4483:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51017,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"4454:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4460:22:52","memberName":"cumulativeFundingRates","nodeType":"MemberAccess","referencedDeclaration":52408,"src":"4454:28:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4454:46:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51016,"id":51021,"nodeType":"Return","src":"4447:53:52"}]},"baseFunctions":[52839],"functionSelector":"b1cc53ab","implemented":true,"kind":"function","modifiers":[],"name":"getEntryFundingRate","nameLocation":"4268:19:52","overrides":{"id":51013,"nodeType":"OverrideSpecifier","overrides":[],"src":"4398:8:52"},"parameters":{"id":51012,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51007,"mutability":"mutable","name":"_collateralToken","nameLocation":"4296:16:52","nodeType":"VariableDeclaration","scope":51023,"src":"4288:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51006,"name":"address","nodeType":"ElementaryTypeName","src":"4288:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51009,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51023,"src":"4314:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51008,"name":"address","nodeType":"ElementaryTypeName","src":"4314:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51011,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51023,"src":"4341:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51010,"name":"bool","nodeType":"ElementaryTypeName","src":"4341:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4287:74:52"},"returnParameters":{"id":51016,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51015,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51023,"src":"4424:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51014,"name":"uint256","nodeType":"ElementaryTypeName","src":"4424:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4423:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51064,"nodeType":"FunctionDefinition","src":"4513:454:52","nodes":[],"body":{"id":51063,"nodeType":"Block","src":"4745:222:52","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51041,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51039,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51033,"src":"4759:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51040,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4773:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4759:15:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51044,"nodeType":"IfStatement","src":"4755:29:52","trueBody":{"expression":{"hexValue":"30","id":51042,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4783:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51038,"id":51043,"nodeType":"Return","src":"4776:8:52"}},{"assignments":[51046],"declarations":[{"constant":false,"id":51046,"mutability":"mutable","name":"afterFeeUsd","nameLocation":"4802:11:52","nodeType":"VariableDeclaration","scope":51063,"src":"4794:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51045,"name":"uint256","nodeType":"ElementaryTypeName","src":"4794:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51058,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51047,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51033,"src":"4829:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51048,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50698,"src":"4843:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51049,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"4866:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51050,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4872:20:52","memberName":"marginFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52465,"src":"4866:26:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51051,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4866:28:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4843:51:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51053,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4842:53:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4829:66:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51055,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4828:68:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51056,"name":"BASIS_POINTS_DIVISOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50698,"src":"4899:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4828:91:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4794:125:52"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51059,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51033,"src":"4936:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51060,"name":"afterFeeUsd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51046,"src":"4949:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4936:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51038,"id":51062,"nodeType":"Return","src":"4929:31:52"}]},"baseFunctions":[52854],"functionSelector":"fdaf6ac3","implemented":true,"kind":"function","modifiers":[],"name":"getPositionFee","nameLocation":"4522:14:52","overrides":{"id":51035,"nodeType":"OverrideSpecifier","overrides":[],"src":"4718:8:52"},"parameters":{"id":51034,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51025,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51064,"src":"4546:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51024,"name":"address","nodeType":"ElementaryTypeName","src":"4546:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51027,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51064,"src":"4578:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51026,"name":"address","nodeType":"ElementaryTypeName","src":"4578:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51029,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51064,"src":"4618:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51028,"name":"address","nodeType":"ElementaryTypeName","src":"4618:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51031,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51064,"src":"4653:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51030,"name":"bool","nodeType":"ElementaryTypeName","src":"4653:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51033,"mutability":"mutable","name":"_sizeDelta","nameLocation":"4689:10:52","nodeType":"VariableDeclaration","scope":51064,"src":"4681:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51032,"name":"uint256","nodeType":"ElementaryTypeName","src":"4681:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4536:169:52"},"returnParameters":{"id":51038,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51037,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51064,"src":"4736:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51036,"name":"uint256","nodeType":"ElementaryTypeName","src":"4736:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4735:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51111,"nodeType":"FunctionDefinition","src":"4973:499:52","nodes":[],"body":{"id":51110,"nodeType":"Block","src":"5228:244:52","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51084,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51082,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51074,"src":"5242:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51083,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5251:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5242:10:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51087,"nodeType":"IfStatement","src":"5238:24:52","trueBody":{"expression":{"hexValue":"30","id":51085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5261:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51081,"id":51086,"nodeType":"Return","src":"5254:8:52"}},{"assignments":[51089],"declarations":[{"constant":false,"id":51089,"mutability":"mutable","name":"fundingRate","nameLocation":"5281:11:52","nodeType":"VariableDeclaration","scope":51110,"src":"5273:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51088,"name":"uint256","nodeType":"ElementaryTypeName","src":"5273:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51096,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51095,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":51092,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51068,"src":"5324:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51090,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"5295:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5301:22:52","memberName":"cumulativeFundingRates","nodeType":"MemberAccess","referencedDeclaration":52408,"src":"5295:28:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5295:46:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51094,"name":"_entryFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51076,"src":"5344:17:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5295:66:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5273:88:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51097,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51089,"src":"5375:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51098,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5390:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5375:16:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51102,"nodeType":"IfStatement","src":"5371:30:52","trueBody":{"expression":{"hexValue":"30","id":51100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5400:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":51081,"id":51101,"nodeType":"Return","src":"5393:8:52"}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51103,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51074,"src":"5420:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":51104,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51089,"src":"5428:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5420:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51106,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5419:21:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51107,"name":"FUNDING_RATE_PRECISION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50701,"src":"5443:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5419:46:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51081,"id":51109,"nodeType":"Return","src":"5412:53:52"}]},"baseFunctions":[52871],"functionSelector":"da76524c","implemented":true,"kind":"function","modifiers":[],"name":"getFundingFee","nameLocation":"4982:13:52","overrides":{"id":51078,"nodeType":"OverrideSpecifier","overrides":[],"src":"5201:8:52"},"parameters":{"id":51077,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51066,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51111,"src":"5005:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51065,"name":"address","nodeType":"ElementaryTypeName","src":"5005:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51068,"mutability":"mutable","name":"_collateralToken","nameLocation":"5045:16:52","nodeType":"VariableDeclaration","scope":51111,"src":"5037:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51067,"name":"address","nodeType":"ElementaryTypeName","src":"5037:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51070,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51111,"src":"5071:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51069,"name":"address","nodeType":"ElementaryTypeName","src":"5071:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51072,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51111,"src":"5106:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51071,"name":"bool","nodeType":"ElementaryTypeName","src":"5106:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51074,"mutability":"mutable","name":"_size","nameLocation":"5142:5:52","nodeType":"VariableDeclaration","scope":51111,"src":"5134:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51073,"name":"uint256","nodeType":"ElementaryTypeName","src":"5134:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51076,"mutability":"mutable","name":"_entryFundingRate","nameLocation":"5165:17:52","nodeType":"VariableDeclaration","scope":51111,"src":"5157:25:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51075,"name":"uint256","nodeType":"ElementaryTypeName","src":"5157:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4995:193:52"},"returnParameters":{"id":51081,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51080,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51111,"src":"5219:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51079,"name":"uint256","nodeType":"ElementaryTypeName","src":"5219:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5218:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51134,"nodeType":"FunctionDefinition","src":"5478:234:52","nodes":[],"body":{"id":51133,"nodeType":"Block","src":"5588:124:52","nodes":[],"statements":[{"expression":{"arguments":[{"id":51122,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51113,"src":"5623:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51123,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51115,"src":"5631:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51124,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"5644:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5650:22:52","memberName":"mintBurnFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52450,"src":"5644:28:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51126,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5644:30:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51127,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"5676:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5682:14:52","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52440,"src":"5676:20:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5676:22:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":51130,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5700:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51121,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51376,"src":"5605:17:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51131,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5605:100:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51120,"id":51132,"nodeType":"Return","src":"5598:107:52"}]},"baseFunctions":[52880],"functionSelector":"71ba415e","implemented":true,"kind":"function","modifiers":[],"name":"getBuyUsdpFeeBasisPoints","nameLocation":"5487:24:52","overrides":{"id":51117,"nodeType":"OverrideSpecifier","overrides":[],"src":"5561:8:52"},"parameters":{"id":51116,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51113,"mutability":"mutable","name":"_token","nameLocation":"5520:6:52","nodeType":"VariableDeclaration","scope":51134,"src":"5512:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51112,"name":"address","nodeType":"ElementaryTypeName","src":"5512:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51115,"mutability":"mutable","name":"_usdpAmount","nameLocation":"5536:11:52","nodeType":"VariableDeclaration","scope":51134,"src":"5528:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51114,"name":"uint256","nodeType":"ElementaryTypeName","src":"5528:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5511:37:52"},"returnParameters":{"id":51120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51119,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51134,"src":"5579:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51118,"name":"uint256","nodeType":"ElementaryTypeName","src":"5579:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5578:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51157,"nodeType":"FunctionDefinition","src":"5718:236:52","nodes":[],"body":{"id":51156,"nodeType":"Block","src":"5829:125:52","nodes":[],"statements":[{"expression":{"arguments":[{"id":51145,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51136,"src":"5864:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51146,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51138,"src":"5872:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51147,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"5885:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5891:22:52","memberName":"mintBurnFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52450,"src":"5885:28:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51149,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5885:30:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51150,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"5917:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51151,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5923:14:52","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52440,"src":"5917:20:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51152,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5917:22:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":51153,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5941:5:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51144,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51376,"src":"5846:17:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51154,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5846:101:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51143,"id":51155,"nodeType":"Return","src":"5839:108:52"}]},"baseFunctions":[52889],"functionSelector":"5b396c92","implemented":true,"kind":"function","modifiers":[],"name":"getSellUsdpFeeBasisPoints","nameLocation":"5727:25:52","overrides":{"id":51140,"nodeType":"OverrideSpecifier","overrides":[],"src":"5802:8:52"},"parameters":{"id":51139,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51136,"mutability":"mutable","name":"_token","nameLocation":"5761:6:52","nodeType":"VariableDeclaration","scope":51157,"src":"5753:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51135,"name":"address","nodeType":"ElementaryTypeName","src":"5753:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51138,"mutability":"mutable","name":"_usdpAmount","nameLocation":"5777:11:52","nodeType":"VariableDeclaration","scope":51157,"src":"5769:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51137,"name":"uint256","nodeType":"ElementaryTypeName","src":"5769:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5752:37:52"},"returnParameters":{"id":51143,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51142,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51157,"src":"5820:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51141,"name":"uint256","nodeType":"ElementaryTypeName","src":"5820:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5819:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51231,"nodeType":"FunctionDefinition","src":"5960:807:52","nodes":[],"body":{"id":51230,"nodeType":"Block","src":"6124:643:52","nodes":[],"statements":[{"assignments":[51170],"declarations":[{"constant":false,"id":51170,"mutability":"mutable","name":"isStableSwap","nameLocation":"6139:12:52","nodeType":"VariableDeclaration","scope":51230,"src":"6134:17:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51169,"name":"bool","nodeType":"ElementaryTypeName","src":"6134:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":51180,"initialValue":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":51179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":51173,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51159,"src":"6173:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51171,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6154:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51172,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6160:12:52","memberName":"stableTokens","nodeType":"MemberAccess","referencedDeclaration":52491,"src":"6154:18:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":51174,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6154:28:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":51177,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51161,"src":"6205:9:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51175,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6186:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6192:12:52","memberName":"stableTokens","nodeType":"MemberAccess","referencedDeclaration":52491,"src":"6186:18:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":51178,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6186:29:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6154:61:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"6134:81:52"},{"assignments":[51182],"declarations":[{"constant":false,"id":51182,"mutability":"mutable","name":"baseBps","nameLocation":"6233:7:52","nodeType":"VariableDeclaration","scope":51230,"src":"6225:15:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51181,"name":"uint256","nodeType":"ElementaryTypeName","src":"6225:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51191,"initialValue":{"condition":{"id":51183,"name":"isStableSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51170,"src":"6243:12:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51187,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6293:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6299:18:52","memberName":"swapFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52455,"src":"6293:24:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51189,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6293:26:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6243:76:52","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51184,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6258:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51185,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6264:24:52","memberName":"stableSwapFeeBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52460,"src":"6258:30:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6258:32:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6225:94:52"},{"assignments":[51193],"declarations":[{"constant":false,"id":51193,"mutability":"mutable","name":"taxBps","nameLocation":"6337:6:52","nodeType":"VariableDeclaration","scope":51230,"src":"6329:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51192,"name":"uint256","nodeType":"ElementaryTypeName","src":"6329:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51202,"initialValue":{"condition":{"id":51194,"name":"isStableSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51170,"src":"6346:12:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51198,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6392:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6398:14:52","memberName":"taxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52440,"src":"6392:20:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6392:22:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51201,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6346:68:52","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51195,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"6361:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6367:20:52","memberName":"stableTaxBasisPoints","nodeType":"MemberAccess","referencedDeclaration":52445,"src":"6361:26:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":51197,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6361:28:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6329:85:52"},{"assignments":[51204],"declarations":[{"constant":false,"id":51204,"mutability":"mutable","name":"feesBasisPoints0","nameLocation":"6432:16:52","nodeType":"VariableDeclaration","scope":51230,"src":"6424:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51203,"name":"uint256","nodeType":"ElementaryTypeName","src":"6424:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51212,"initialValue":{"arguments":[{"id":51206,"name":"_tokenIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51159,"src":"6469:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51207,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51163,"src":"6479:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51208,"name":"baseBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51182,"src":"6492:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51209,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51193,"src":"6501:6:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":51210,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6509:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51205,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51376,"src":"6451:17:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51211,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6451:63:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6424:90:52"},{"assignments":[51214],"declarations":[{"constant":false,"id":51214,"mutability":"mutable","name":"feesBasisPoints1","nameLocation":"6532:16:52","nodeType":"VariableDeclaration","scope":51230,"src":"6524:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51213,"name":"uint256","nodeType":"ElementaryTypeName","src":"6524:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51222,"initialValue":{"arguments":[{"id":51216,"name":"_tokenOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51161,"src":"6569:9:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":51217,"name":"_usdpAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51163,"src":"6580:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51218,"name":"baseBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51182,"src":"6593:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51219,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51193,"src":"6602:6:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":51220,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6610:5:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":51215,"name":"getFeeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51376,"src":"6551:17:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$","typeString":"function (address,uint256,uint256,uint256,bool) view returns (uint256)"}},"id":51221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6551:65:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6524:92:52"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51225,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51223,"name":"feesBasisPoints0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51204,"src":"6687:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51224,"name":"feesBasisPoints1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51214,"src":"6706:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6687:35:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":51227,"name":"feesBasisPoints1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51214,"src":"6744:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6687:73:52","trueExpression":{"id":51226,"name":"feesBasisPoints0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51204,"src":"6725:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51168,"id":51229,"nodeType":"Return","src":"6680:80:52"}]},"baseFunctions":[52900],"functionSelector":"da133816","implemented":true,"kind":"function","modifiers":[],"name":"getSwapFeeBasisPoints","nameLocation":"5969:21:52","overrides":{"id":51165,"nodeType":"OverrideSpecifier","overrides":[],"src":"6085:8:52"},"parameters":{"id":51164,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51159,"mutability":"mutable","name":"_tokenIn","nameLocation":"5999:8:52","nodeType":"VariableDeclaration","scope":51231,"src":"5991:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51158,"name":"address","nodeType":"ElementaryTypeName","src":"5991:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51161,"mutability":"mutable","name":"_tokenOut","nameLocation":"6017:9:52","nodeType":"VariableDeclaration","scope":51231,"src":"6009:17:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51160,"name":"address","nodeType":"ElementaryTypeName","src":"6009:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51163,"mutability":"mutable","name":"_usdpAmount","nameLocation":"6036:11:52","nodeType":"VariableDeclaration","scope":51231,"src":"6028:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51162,"name":"uint256","nodeType":"ElementaryTypeName","src":"6028:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5990:58:52"},"returnParameters":{"id":51168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51167,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51231,"src":"6111:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51166,"name":"uint256","nodeType":"ElementaryTypeName","src":"6111:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6110:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":51376,"nodeType":"FunctionDefinition","src":"7567:1406:52","nodes":[],"body":{"id":51375,"nodeType":"Block","src":"7782:1191:52","nodes":[],"statements":[{"condition":{"id":51250,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7796:23:52","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":51247,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"7797:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7803:14:52","memberName":"hasDynamicFees","nodeType":"MemberAccess","referencedDeclaration":52074,"src":"7797:20:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":51249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7797:22:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51253,"nodeType":"IfStatement","src":"7792:51:52","trueBody":{"expression":{"id":51251,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51237,"src":"7828:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51246,"id":51252,"nodeType":"Return","src":"7821:22:52"}},{"assignments":[51255],"declarations":[{"constant":false,"id":51255,"mutability":"mutable","name":"initialAmount","nameLocation":"7862:13:52","nodeType":"VariableDeclaration","scope":51375,"src":"7854:21:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51254,"name":"uint256","nodeType":"ElementaryTypeName","src":"7854:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51260,"initialValue":{"arguments":[{"id":51258,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51233,"src":"7896:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51256,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"7878:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7884:11:52","memberName":"usdpAmounts","nodeType":"MemberAccess","referencedDeclaration":52575,"src":"7878:17:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51259,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7878:25:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7854:49:52"},{"assignments":[51262],"declarations":[{"constant":false,"id":51262,"mutability":"mutable","name":"nextAmount","nameLocation":"7921:10:52","nodeType":"VariableDeclaration","scope":51375,"src":"7913:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51261,"name":"uint256","nodeType":"ElementaryTypeName","src":"7913:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51266,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51263,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"7934:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":51264,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51235,"src":"7950:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7934:26:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7913:47:52"},{"condition":{"id":51268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7974:11:52","subExpression":{"id":51267,"name":"_increment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51241,"src":"7975:10:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51281,"nodeType":"IfStatement","src":"7970:114:52","trueBody":{"id":51280,"nodeType":"Block","src":"7987:97:52","statements":[{"expression":{"id":51278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51269,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51262,"src":"8001:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51270,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51235,"src":"8014:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51271,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"8027:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8014:26:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51274,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"8047:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51275,"name":"_usdpDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51235,"src":"8063:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8047:26:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51277,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8014:59:52","trueExpression":{"hexValue":"30","id":51273,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8043:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8001:72:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51279,"nodeType":"ExpressionStatement","src":"8001:72:52"}]}},{"assignments":[51283],"declarations":[{"constant":false,"id":51283,"mutability":"mutable","name":"targetAmount","nameLocation":"8102:12:52","nodeType":"VariableDeclaration","scope":51375,"src":"8094:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51282,"name":"uint256","nodeType":"ElementaryTypeName","src":"8094:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51288,"initialValue":{"arguments":[{"id":51286,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51233,"src":"8143:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":51284,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50695,"src":"8117:5:52","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$52650","typeString":"contract IVault"}},"id":51285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8123:19:52","memberName":"getTargetUsdpAmount","nodeType":"MemberAccess","referencedDeclaration":52091,"src":"8117:25:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":51287,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8117:33:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8094:56:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51291,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51289,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8164:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51290,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8180:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8164:17:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51294,"nodeType":"IfStatement","src":"8160:45:52","trueBody":{"expression":{"id":51292,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51237,"src":"8190:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51246,"id":51293,"nodeType":"Return","src":"8183:22:52"}},{"assignments":[51296],"declarations":[{"constant":false,"id":51296,"mutability":"mutable","name":"initialDiff","nameLocation":"8224:11:52","nodeType":"VariableDeclaration","scope":51375,"src":"8216:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51295,"name":"uint256","nodeType":"ElementaryTypeName","src":"8216:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51307,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51297,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"8238:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51298,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8254:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8238:28:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51305,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51303,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8300:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51304,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"8315:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8300:28:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8238:90:52","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51300,"name":"initialAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51255,"src":"8269:13:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51301,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8285:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8269:28:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8216:112:52"},{"assignments":[51309],"declarations":[{"constant":false,"id":51309,"mutability":"mutable","name":"nextDiff","nameLocation":"8346:8:52","nodeType":"VariableDeclaration","scope":51375,"src":"8338:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51308,"name":"uint256","nodeType":"ElementaryTypeName","src":"8338:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51320,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51312,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51310,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51262,"src":"8357:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51311,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8370:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8357:25:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51316,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8413:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51317,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51262,"src":"8428:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8413:25:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8357:81:52","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51313,"name":"nextAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51262,"src":"8385:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51314,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8398:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8385:25:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8338:100:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51321,"name":"nextDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51309,"src":"8503:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":51322,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51296,"src":"8514:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8503:22:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51343,"nodeType":"IfStatement","src":"8499:201:52","trueBody":{"id":51342,"nodeType":"Block","src":"8527:173:52","statements":[{"assignments":[51325],"declarations":[{"constant":false,"id":51325,"mutability":"mutable","name":"rebateBps","nameLocation":"8549:9:52","nodeType":"VariableDeclaration","scope":51342,"src":"8541:17:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51324,"name":"uint256","nodeType":"ElementaryTypeName","src":"8541:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51332,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51326,"name":"_taxBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51239,"src":"8562:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":51327,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51296,"src":"8580:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8562:29:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51329,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8561:31:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51330,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8595:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8561:46:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8541:66:52"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51333,"name":"rebateBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51325,"src":"8628:9:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51334,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51237,"src":"8640:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8628:27:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51337,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51237,"src":"8662:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51338,"name":"rebateBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51325,"src":"8680:9:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8662:27:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8628:61:52","trueExpression":{"hexValue":"30","id":51336,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8658:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51246,"id":51341,"nodeType":"Return","src":"8621:68:52"}]}},{"assignments":[51345],"declarations":[{"constant":false,"id":51345,"mutability":"mutable","name":"averageDiff","nameLocation":"8718:11:52","nodeType":"VariableDeclaration","scope":51375,"src":"8710:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51344,"name":"uint256","nodeType":"ElementaryTypeName","src":"8710:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51352,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51351,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51348,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51346,"name":"initialDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51296,"src":"8733:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":51347,"name":"nextDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51309,"src":"8747:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8733:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51349,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8732:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":51350,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8759:1:52","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"8732:28:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8710:50:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51353,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51345,"src":"8774:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":51354,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8788:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8774:26:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51361,"nodeType":"IfStatement","src":"8770:83:52","trueBody":{"id":51360,"nodeType":"Block","src":"8802:51:52","statements":[{"expression":{"id":51358,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51356,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51345,"src":"8816:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51357,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8830:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8816:26:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51359,"nodeType":"ExpressionStatement","src":"8816:26:52"}]}},{"assignments":[51363],"declarations":[{"constant":false,"id":51363,"mutability":"mutable","name":"taxBps","nameLocation":"8870:6:52","nodeType":"VariableDeclaration","scope":51375,"src":"8862:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51362,"name":"uint256","nodeType":"ElementaryTypeName","src":"8862:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51370,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51364,"name":"_taxBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51239,"src":"8880:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":51365,"name":"averageDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51345,"src":"8898:11:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8880:29:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":51367,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8879:31:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":51368,"name":"targetAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51283,"src":"8913:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8879:46:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8862:63:52"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51371,"name":"_feeBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51237,"src":"8942:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":51372,"name":"taxBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51363,"src":"8960:6:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8942:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":51246,"id":51374,"nodeType":"Return","src":"8935:31:52"}]},"baseFunctions":[52915],"functionSelector":"c7e074c3","implemented":true,"kind":"function","modifiers":[],"name":"getFeeBasisPoints","nameLocation":"7576:17:52","overrides":{"id":51243,"nodeType":"OverrideSpecifier","overrides":[],"src":"7755:8:52"},"parameters":{"id":51242,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51233,"mutability":"mutable","name":"_token","nameLocation":"7611:6:52","nodeType":"VariableDeclaration","scope":51376,"src":"7603:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51232,"name":"address","nodeType":"ElementaryTypeName","src":"7603:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51235,"mutability":"mutable","name":"_usdpDelta","nameLocation":"7635:10:52","nodeType":"VariableDeclaration","scope":51376,"src":"7627:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51234,"name":"uint256","nodeType":"ElementaryTypeName","src":"7627:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51237,"mutability":"mutable","name":"_feeBasisPoints","nameLocation":"7663:15:52","nodeType":"VariableDeclaration","scope":51376,"src":"7655:23:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51236,"name":"uint256","nodeType":"ElementaryTypeName","src":"7655:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51239,"mutability":"mutable","name":"_taxBasisPoints","nameLocation":"7696:15:52","nodeType":"VariableDeclaration","scope":51376,"src":"7688:23:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51238,"name":"uint256","nodeType":"ElementaryTypeName","src":"7688:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51241,"mutability":"mutable","name":"_increment","nameLocation":"7726:10:52","nodeType":"VariableDeclaration","scope":51376,"src":"7721:15:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51240,"name":"bool","nodeType":"ElementaryTypeName","src":"7721:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7593:149:52"},"returnParameters":{"id":51246,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51245,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51376,"src":"7773:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51244,"name":"uint256","nodeType":"ElementaryTypeName","src":"7773:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7772:9:52"},"scope":51377,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[{"baseName":{"id":50674,"name":"IVaultUtils","nameLocations":["231:11:52"],"nodeType":"IdentifierPath","referencedDeclaration":52916,"src":"231:11:52"},"id":50675,"nodeType":"InheritanceSpecifier","src":"231:11:52"},{"baseName":{"id":50676,"name":"Governable","nameLocations":["244:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":32410,"src":"244:10:52"},"id":50677,"nodeType":"InheritanceSpecifier","src":"244:10:52"}],"canonicalName":"VaultUtils","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[51377,32410,52916],"name":"VaultUtils","nameLocation":"217:10:52","scope":51378,"usedErrors":[]}],"license":"MIT"},"id":52}