{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"MAX_INT256","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"_getNextGlobalAveragePrice","inputs":[{"name":"_averagePrice","type":"uint256","internalType":"uint256"},{"name":"_nextPrice","type":"uint256","internalType":"uint256"},{"name":"_nextSize","type":"uint256","internalType":"uint256"},{"name":"_delta","type":"uint256","internalType":"uint256"},{"name":"_realisedPnl","type":"int256","internalType":"int256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"data","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getGlobalShortDelta","inputs":[{"name":"_token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getNextGlobalShortData","inputs":[{"name":"_account","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_indexToken","type":"address","internalType":"address"},{"name":"_nextPrice","type":"uint256","internalType":"uint256"},{"name":"_sizeDelta","type":"uint256","internalType":"uint256"},{"name":"_isIncrease","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getRealisedPnl","inputs":[{"name":"_account","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_indexToken","type":"address","internalType":"address"},{"name":"_sizeDelta","type":"uint256","internalType":"uint256"},{"name":"_isIncrease","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"globalShortAveragePrices","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gov","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isGlobalShortDataReady","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isHandler","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"setGov","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setHandler","inputs":[{"name":"_handler","type":"address","internalType":"address"},{"name":"_isActive","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setInitData","inputs":[{"name":"_tokens","type":"address[]","internalType":"address[]"},{"name":"_averagePrices","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setIsGlobalShortDataReady","inputs":[{"name":"value","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateGlobalShortData","inputs":[{"name":"_account","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_indexToken","type":"address","internalType":"address"},{"name":"_isLong","type":"bool","internalType":"bool"},{"name":"_sizeDelta","type":"uint256","internalType":"uint256"},{"name":"_markPrice","type":"uint256","internalType":"uint256"},{"name":"_isIncrease","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IVault"}],"stateMutability":"view"},{"type":"event","name":"GlobalShortDataUpdated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"globalShortSize","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"globalShortAveragePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5060405161119938038061119983398101604081905261002f91610062565b60008054336001600160a01b031991821617909155600180549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b6110f8806100a16000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c80639cb7de4b11610097578063bbd9718711610066578063bbd9718714610271578063cfad57a214610284578063f3238cec14610297578063fbfa77cf146102aa57600080fd5b80639cb7de4b146101f95780639cdeb5931461020c578063a83b75fd14610234578063b364accb1461024757600080fd5b806346ea87af116100d357806346ea87af146101865780635886b711146101b957806362749803146101cc5780639a11178f146101ec57600080fd5b80630147fb0c14610105578063122e7b071461013857806312d43a51146101465780633d30cabf14610171575b600080fd5b610125610113366004610c23565b60036020526000908152604090205481565b6040519081526020015b60405180910390f35b6101256001600160ff1b0381565b600054610159906001600160a01b031681565b6040516001600160a01b03909116815260200161012f565b61018461017f366004610c4d565b6102bd565b005b6101a9610194366004610c8d565b60026020526000908152604090205460ff1681565b604051901515815260200161012f565b6101256101c7366004610ca8565b610303565b6101256101da366004610c8d565b60046020526000908152604090205481565b6005546101a99060ff1681565b610184610207366004610ce3565b61035b565b61021f61021a366004610d1a565b610406565b6040805192835260208301919091520161012f565b610125610242366004610d84565b61055e565b61025a610255366004610c8d565b610744565b60408051921515835260208301919091520161012f565b61018461027f366004610e32565b6108a6565b610184610292366004610c8d565b6109b2565b6101846102a5366004610e9e565b610a54565b600154610159906001600160a01b031681565b6000546001600160a01b031633146102f05760405162461bcd60e51b81526004016102e790610f1c565b60405180910390fd5b6005805460ff1916911515919091179055565b600080600061031485898987610b52565b9150915060008261032e576103298288610f61565b610338565b6103388288610f7a565b610342888a610f8d565b61034c9190610fa4565b93505050505b95945050505050565b6000546001600160a01b031633146103855760405162461bcd60e51b81526004016102e790610f1c565b6001600160a01b0382166103db5760405162461bcd60e51b815260206004820152601f60248201527f53686f727473547261636b65723a20696e76616c6964205f68616e646c65720060448201526064016102e7565b6001600160a01b03919091166000908152600260205260409020805460ff1916911515919091179055565b6000806000610418898989888861055e565b6001600160a01b03881660009081526004602052604081205491925087821161044a576104458289610f7a565b610454565b6104548883610f7a565b60015460405163114f1b5560e31b81526001600160a01b038c8116600483015292935060009283928392911690638a78daa890602401602060405180830381865afa1580156104a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104cb9190610fc6565b9050886104e1576104dc8a82610f7a565b6104eb565b6104eb8a82610f61565b9250826000036105075760008097509750505050505050610553565b8460000361052057828b97509750505050505050610553565b8461052b8583610f8d565b6105359190610fa4565b9150506000610547858c85858a610303565b92975091955050505050505b965096945050505050565b6000811561056e57506000610352565b600154604051634a3f088d60e01b81526001600160a01b0388811660048301528781166024830152868116604483015260006064830181905292169190819081908490634a3f088d9060840161010060405180830381865afa1580156105d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105fc9190610fdf565b9750505050509350509250600080856001600160a01b0316635c07eaab8b87876000886040518663ffffffff1660e01b815260040161066a9594939291906001600160a01b039590951685526020850193909352604084019190915215156060830152608082015260a00190565b6040805180830381865afa158015610686573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106aa9190611049565b90925090506000856106bc838c610f8d565b6106c69190610fa4565b90506001600160ff1b03811061071e5760405162461bcd60e51b815260206004820152601760248201527f53686f727473547261636b65723a206f766572666c6f7700000000000000000060448201526064016102e7565b826107315761072c81611077565b610733565b805b9d9c50505050505050505050505050565b60015460405163114f1b5560e31b81526001600160a01b0383811660048301526000928392839290911690638a78daa890602401602060405180830381865afa158015610795573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107b99190610fc6565b6001600160a01b0385166000908152600460205260408120549192508290036107e9575060009485945092505050565b600154604051637092736960e11b81526001600160a01b038781166004830152600092169063e124e6d290602401602060405180830381865afa158015610834573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108589190610fc6565b905060008183116108725761086d8383610f7a565b61087c565b61087c8284610f7a565b905060008361088b8387610f8d565b6108959190610fa4565b929093119791965090945050505050565b6000546001600160a01b031633146108d05760405162461bcd60e51b81526004016102e790610f1c565b60055460ff16156109235760405162461bcd60e51b815260206004820152601f60248201527f53686f727473547261636b65723a20616c7265616479206d696772617465640060448201526064016102e7565b60005b8381101561099e5782828281811061094057610940611093565b905060200201356004600087878581811061095d5761095d611093565b90506020020160208101906109729190610c8d565b6001600160a01b0316815260208101919091526040016000205580610996816110a9565b915050610926565b50506005805460ff19166001179055505050565b6000546001600160a01b031633146109dc5760405162461bcd60e51b81526004016102e790610f1c565b6001600160a01b038116610a325760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016102e7565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b3360009081526002602052604090205460ff16610ab35760405162461bcd60e51b815260206004820152601860248201527f53686f727473547261636b65723a20666f7262696464656e000000000000000060448201526064016102e7565b8380610abd575082155b610b495760055460ff1615610b4957600080610add898989878988610406565b91509150610b0287826001600160a01b03909116600090815260046020526040902055565b60408051838152602081018390526001600160a01b038916917fd6137be44db128ffcf1ea1821dbe8f889f67f949be7656c2d8acba2a4a891a02910160405180910390a250505b50505050505050565b6000808385118015610bb5576000841315610b955786841115610b8457610b798785610f7a565b965060009050610bab565b610b8e8488610f7a565b9650610bab565b610b9e84611077565b610ba89088610f61565b96505b9150859050610c1a565b6000841315610bcf57610bc88488610f61565b9650610c14565b86610bd985611077565b1115610bfe5786610be985611077565b610bf39190610f7a565b965060019050610c14565b610c0784611077565b610c119088610f7a565b96505b91508590505b94509492505050565b600060208284031215610c3557600080fd5b5035919050565b8015158114610c4a57600080fd5b50565b600060208284031215610c5f57600080fd5b8135610c6a81610c3c565b9392505050565b80356001600160a01b0381168114610c8857600080fd5b919050565b600060208284031215610c9f57600080fd5b610c6a82610c71565b600080600080600060a08688031215610cc057600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b60008060408385031215610cf657600080fd5b610cff83610c71565b91506020830135610d0f81610c3c565b809150509250929050565b60008060008060008060c08789031215610d3357600080fd5b610d3c87610c71565b9550610d4a60208801610c71565b9450610d5860408801610c71565b9350606087013592506080870135915060a0870135610d7681610c3c565b809150509295509295509295565b600080600080600060a08688031215610d9c57600080fd5b610da586610c71565b9450610db360208701610c71565b9350610dc160408701610c71565b9250606086013591506080860135610dd881610c3c565b809150509295509295909350565b60008083601f840112610df857600080fd5b50813567ffffffffffffffff811115610e1057600080fd5b6020830191508360208260051b8501011115610e2b57600080fd5b9250929050565b60008060008060408587031215610e4857600080fd5b843567ffffffffffffffff80821115610e6057600080fd5b610e6c88838901610de6565b90965094506020870135915080821115610e8557600080fd5b50610e9287828801610de6565b95989497509550505050565b600080600080600080600060e0888a031215610eb957600080fd5b610ec288610c71565b9650610ed060208901610c71565b9550610ede60408901610c71565b94506060880135610eee81610c3c565b93506080880135925060a0880135915060c0880135610f0c81610c3c565b8091505092959891949750929550565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b80820180821115610f7457610f74610f4b565b92915050565b81810381811115610f7457610f74610f4b565b8082028115828204841417610f7457610f74610f4b565b600082610fc157634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610fd857600080fd5b5051919050565b600080600080600080600080610100898b031215610ffc57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161103181610c3c565b8092505060e089015190509295985092959890939650565b6000806040838503121561105c57600080fd5b825161106781610c3c565b6020939093015192949293505050565b6000600160ff1b820161108c5761108c610f4b565b5060000390565b634e487b7160e01b600052603260045260246000fd5b6000600182016110bb576110bb610f4b565b506001019056fea2646970667358221220836abbdd808342f2d2fad6a1d2a3dbf9bab9e03a96d8e652a40553b88266e2d364736f6c63430008120033","sourceMap":"170:7002:51:-:0;;;772:67;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;133:3:30;:16;;139:10;-1:-1:-1;;;;;;133:16:30;;;;;;;-1:-1:-1;810:22:51;;;;;-1:-1:-1;;;;;810:22:51;;;;;;;;;;170:7002;;14:290:181;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:181;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:181:o;:::-;170:7002:51;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106101005760003560e01c80639cb7de4b11610097578063bbd9718711610066578063bbd9718714610271578063cfad57a214610284578063f3238cec14610297578063fbfa77cf146102aa57600080fd5b80639cb7de4b146101f95780639cdeb5931461020c578063a83b75fd14610234578063b364accb1461024757600080fd5b806346ea87af116100d357806346ea87af146101865780635886b711146101b957806362749803146101cc5780639a11178f146101ec57600080fd5b80630147fb0c14610105578063122e7b071461013857806312d43a51146101465780633d30cabf14610171575b600080fd5b610125610113366004610c23565b60036020526000908152604090205481565b6040519081526020015b60405180910390f35b6101256001600160ff1b0381565b600054610159906001600160a01b031681565b6040516001600160a01b03909116815260200161012f565b61018461017f366004610c4d565b6102bd565b005b6101a9610194366004610c8d565b60026020526000908152604090205460ff1681565b604051901515815260200161012f565b6101256101c7366004610ca8565b610303565b6101256101da366004610c8d565b60046020526000908152604090205481565b6005546101a99060ff1681565b610184610207366004610ce3565b61035b565b61021f61021a366004610d1a565b610406565b6040805192835260208301919091520161012f565b610125610242366004610d84565b61055e565b61025a610255366004610c8d565b610744565b60408051921515835260208301919091520161012f565b61018461027f366004610e32565b6108a6565b610184610292366004610c8d565b6109b2565b6101846102a5366004610e9e565b610a54565b600154610159906001600160a01b031681565b6000546001600160a01b031633146102f05760405162461bcd60e51b81526004016102e790610f1c565b60405180910390fd5b6005805460ff1916911515919091179055565b600080600061031485898987610b52565b9150915060008261032e576103298288610f61565b610338565b6103388288610f7a565b610342888a610f8d565b61034c9190610fa4565b93505050505b95945050505050565b6000546001600160a01b031633146103855760405162461bcd60e51b81526004016102e790610f1c565b6001600160a01b0382166103db5760405162461bcd60e51b815260206004820152601f60248201527f53686f727473547261636b65723a20696e76616c6964205f68616e646c65720060448201526064016102e7565b6001600160a01b03919091166000908152600260205260409020805460ff1916911515919091179055565b6000806000610418898989888861055e565b6001600160a01b03881660009081526004602052604081205491925087821161044a576104458289610f7a565b610454565b6104548883610f7a565b60015460405163114f1b5560e31b81526001600160a01b038c8116600483015292935060009283928392911690638a78daa890602401602060405180830381865afa1580156104a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104cb9190610fc6565b9050886104e1576104dc8a82610f7a565b6104eb565b6104eb8a82610f61565b9250826000036105075760008097509750505050505050610553565b8460000361052057828b97509750505050505050610553565b8461052b8583610f8d565b6105359190610fa4565b9150506000610547858c85858a610303565b92975091955050505050505b965096945050505050565b6000811561056e57506000610352565b600154604051634a3f088d60e01b81526001600160a01b0388811660048301528781166024830152868116604483015260006064830181905292169190819081908490634a3f088d9060840161010060405180830381865afa1580156105d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105fc9190610fdf565b9750505050509350509250600080856001600160a01b0316635c07eaab8b87876000886040518663ffffffff1660e01b815260040161066a9594939291906001600160a01b039590951685526020850193909352604084019190915215156060830152608082015260a00190565b6040805180830381865afa158015610686573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106aa9190611049565b90925090506000856106bc838c610f8d565b6106c69190610fa4565b90506001600160ff1b03811061071e5760405162461bcd60e51b815260206004820152601760248201527f53686f727473547261636b65723a206f766572666c6f7700000000000000000060448201526064016102e7565b826107315761072c81611077565b610733565b805b9d9c50505050505050505050505050565b60015460405163114f1b5560e31b81526001600160a01b0383811660048301526000928392839290911690638a78daa890602401602060405180830381865afa158015610795573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107b99190610fc6565b6001600160a01b0385166000908152600460205260408120549192508290036107e9575060009485945092505050565b600154604051637092736960e11b81526001600160a01b038781166004830152600092169063e124e6d290602401602060405180830381865afa158015610834573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108589190610fc6565b905060008183116108725761086d8383610f7a565b61087c565b61087c8284610f7a565b905060008361088b8387610f8d565b6108959190610fa4565b929093119791965090945050505050565b6000546001600160a01b031633146108d05760405162461bcd60e51b81526004016102e790610f1c565b60055460ff16156109235760405162461bcd60e51b815260206004820152601f60248201527f53686f727473547261636b65723a20616c7265616479206d696772617465640060448201526064016102e7565b60005b8381101561099e5782828281811061094057610940611093565b905060200201356004600087878581811061095d5761095d611093565b90506020020160208101906109729190610c8d565b6001600160a01b0316815260208101919091526040016000205580610996816110a9565b915050610926565b50506005805460ff19166001179055505050565b6000546001600160a01b031633146109dc5760405162461bcd60e51b81526004016102e790610f1c565b6001600160a01b038116610a325760405162461bcd60e51b815260206004820181905260248201527f476f7665726e61626c653a205f676f76206973207a65726f206164647265737360448201526064016102e7565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b3360009081526002602052604090205460ff16610ab35760405162461bcd60e51b815260206004820152601860248201527f53686f727473547261636b65723a20666f7262696464656e000000000000000060448201526064016102e7565b8380610abd575082155b610b495760055460ff1615610b4957600080610add898989878988610406565b91509150610b0287826001600160a01b03909116600090815260046020526040902055565b60408051838152602081018390526001600160a01b038916917fd6137be44db128ffcf1ea1821dbe8f889f67f949be7656c2d8acba2a4a891a02910160405180910390a250505b50505050505050565b6000808385118015610bb5576000841315610b955786841115610b8457610b798785610f7a565b965060009050610bab565b610b8e8488610f7a565b9650610bab565b610b9e84611077565b610ba89088610f61565b96505b9150859050610c1a565b6000841315610bcf57610bc88488610f61565b9650610c14565b86610bd985611077565b1115610bfe5786610be985611077565b610bf39190610f7a565b965060019050610c14565b610c0784611077565b610c119088610f7a565b96505b91508590505b94509492505050565b600060208284031215610c3557600080fd5b5035919050565b8015158114610c4a57600080fd5b50565b600060208284031215610c5f57600080fd5b8135610c6a81610c3c565b9392505050565b80356001600160a01b0381168114610c8857600080fd5b919050565b600060208284031215610c9f57600080fd5b610c6a82610c71565b600080600080600060a08688031215610cc057600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b60008060408385031215610cf657600080fd5b610cff83610c71565b91506020830135610d0f81610c3c565b809150509250929050565b60008060008060008060c08789031215610d3357600080fd5b610d3c87610c71565b9550610d4a60208801610c71565b9450610d5860408801610c71565b9350606087013592506080870135915060a0870135610d7681610c3c565b809150509295509295509295565b600080600080600060a08688031215610d9c57600080fd5b610da586610c71565b9450610db360208701610c71565b9350610dc160408701610c71565b9250606086013591506080860135610dd881610c3c565b809150509295509295909350565b60008083601f840112610df857600080fd5b50813567ffffffffffffffff811115610e1057600080fd5b6020830191508360208260051b8501011115610e2b57600080fd5b9250929050565b60008060008060408587031215610e4857600080fd5b843567ffffffffffffffff80821115610e6057600080fd5b610e6c88838901610de6565b90965094506020870135915080821115610e8557600080fd5b50610e9287828801610de6565b95989497509550505050565b600080600080600080600060e0888a031215610eb957600080fd5b610ec288610c71565b9650610ed060208901610c71565b9550610ede60408901610c71565b94506060880135610eee81610c3c565b93506080880135925060a0880135915060c0880135610f0c81610c3c565b8091505092959891949750929550565b60208082526015908201527423b7bb32b93730b136329d103337b93134b23232b760591b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b80820180821115610f7457610f74610f4b565b92915050565b81810381811115610f7457610f74610f4b565b8082028115828204841417610f7457610f74610f4b565b600082610fc157634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610fd857600080fd5b5051919050565b600080600080600080600080610100898b031215610ffc57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161103181610c3c565b8092505060e089015190509295985092959890939650565b6000806040838503121561105c57600080fd5b825161106781610c3c565b6020939093015192949293505050565b6000600160ff1b820161108c5761108c610f4b565b5060000390565b634e487b7160e01b600052603260045260246000fd5b6000600182016110bb576110bb610f4b565b506001019056fea2646970667358221220836abbdd808342f2d2fad6a1d2a3dbf9bab9e03a96d8e652a40553b88266e2d364736f6c63430008120033","sourceMap":"170:7002:51:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;487:39;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;345:25:181;;;333:2;318:18;487:39:51;;;;;;;;345:62;;-1:-1:-1;;;;;345:62:51;;84:18:30;;;;;-1:-1:-1;;;;;84:18:30;;;;;;-1:-1:-1;;;;;727:32:181;;;709:51;;697:2;682:18;84::30;563:203:181;1202:120:51;;;;;;:::i;:::-;;:::i;:::-;;440:41;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;1674:14:181;;1667:22;1649:41;;1637:2;1622:18;440:41:51;1509:187:181;5114:498:51;;;;;;:::i;:::-;;:::i;533:68::-;;;;;;:::i;:::-;;;;;;;;;;;;;;607:43;;;;;;;;;845:195;;;;;;:::i;:::-;;:::i;3046:1201::-;;;;;;:::i;:::-;;:::i;:::-;;;;3260:25:181;;;3316:2;3301:18;;3294:34;;;;3233:18;3046:1201:51;3086:248:181;4253:855:51;;;;;;:::i;:::-;;:::i;2095:570::-;;;;;;:::i;:::-;;:::i;:::-;;;;4250:14:181;;4243:22;4225:41;;4297:2;4282:18;;4275:34;;;;4198:18;2095:570:51;4057:258:181;2671:369:51;;;;;;:::i;:::-;;:::i;266:147:30:-;;;;;;:::i;:::-;;:::i;1328:761:51:-;;;;;;:::i;:::-;;:::i;414:19::-;;;;;-1:-1:-1;;;;;414:19:51;;;1202:120;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;;;;;;;;;1285:22:51::1;:30:::0;;-1:-1:-1;;1285:30:51::1;::::0;::::1;;::::0;;;::::1;::::0;;1202:120::o;5114:498::-;5316:7;5336:14;5352:17;5373:62;5387:6;5395:13;5410:10;5422:12;5373:13;:62::i;:::-;5335:100;;;;5446:24;5513:9;:57;;5549:21;5561:9;5549;:21;:::i;:::-;5513:57;;;5525:21;5537:9;5525;:21;:::i;:::-;5486:22;5499:9;5486:10;:22;:::i;:::-;5485:86;;;;:::i;:::-;5446:125;-1:-1:-1;;;;5114:498:51;;;;;;;;:::o;845:195::-;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;-1:-1:-1;;;;;934:22:51;::::1;926:66;;;::::0;-1:-1:-1;;;926:66:51;;7779:2:181;926:66:51::1;::::0;::::1;7761:21:181::0;7818:2;7798:18;;;7791:30;7857:33;7837:18;;;7830:61;7908:18;;926:66:51::1;7577:355:181::0;926:66:51::1;-1:-1:-1::0;;;;;1002:19:51;;;::::1;;::::0;;;:9:::1;:19;::::0;;;;:31;;-1:-1:-1;;1002:31:51::1;::::0;::::1;;::::0;;;::::1;::::0;;845:195::o;3046:1201::-;3285:7;3294;3313:18;3334:80;3349:8;3359:16;3377:11;3390:10;3402:11;3334:14;:80::i;:::-;-1:-1:-1;;;;;3447:37:51;;3424:20;3447:37;;;:24;:37;;;;;;3313:101;;-1:-1:-1;3515:25:51;;;:83;;3573:25;3586:12;3573:10;:25;:::i;:::-;3515:83;;;3544:25;3559:10;3544:12;:25;:::i;:::-;3718:5;;:35;;-1:-1:-1;;;3718:35:51;;-1:-1:-1;;;;;727:32:181;;;3718:35:51;;;709:51:181;3494:104:51;;-1:-1:-1;3609:16:51;;;;;;3718:5;;;:22;;682:18:181;;3718:35:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3703:50;;3778:11;:51;;3812:17;3819:10;3812:4;:17;:::i;:::-;3778:51;;;3792:17;3799:10;3792:4;:17;:::i;:::-;3767:62;;3848:8;3860:1;3848:13;3844:65;;3889:1;3892;3881:13;;;;;;;;;;;;3844:65;3927:12;3943:1;3927:17;3923:85;;3972:8;3982:10;3964:29;;;;;;;;;;;;3923:85;4052:12;4031:17;4038:10;4031:4;:17;:::i;:::-;4030:34;;;;:::i;:::-;4022:42;;3689:386;4085:24;4112:82;4139:12;4153:10;4165:8;4175:5;4182:11;4112:26;:82::i;:::-;4213:8;;-1:-1:-1;4085:109:51;;-1:-1:-1;;;;;;3046:1201:51;;;;;;;;;;:::o;4253:855::-;4447:6;4469:11;4465:50;;;-1:-1:-1;4503:1:51;4496:8;;4465:50;4541:5;;4662:66;;-1:-1:-1;;;4662:66:51;;-1:-1:-1;;;;;8407:15:181;;;4662:66:51;;;8389:34:181;8459:15;;;8439:18;;;8432:43;8511:15;;;8491:18;;;8484:43;4525:13:51;8543:18:181;;;8536:50;;;4541:5:51;;;4525:13;;;;;4541:5;;4662:18;;8323:19:181;;4662:66:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4556:172;;;;;;;;;;;4740:14;4756:13;4773:6;-1:-1:-1;;;;;4773:15:51;;4789:11;4802:4;4808:12;4822:5;4829:17;4773:74;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;9550:32:181;;;;9532:51;;9614:2;9599:18;;9592:34;;;;9657:2;9642:18;;9635:34;;;;9712:14;9705:22;9700:2;9685:18;;9678:50;9759:3;9744:19;;9737:35;9519:3;9504:19;;9279:499;4773:74:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4739:108;;-1:-1:-1;4739:108:51;-1:-1:-1;4903:21:51;4950:4;4928:18;4739:108;4928:10;:18;:::i;:::-;4927:27;;;;:::i;:::-;4903:51;;-1:-1:-1;;;;;4972:13:51;:26;4964:62;;;;-1:-1:-1;;;4964:62:51;;10296:2:181;4964:62:51;;;10278:21:181;10335:2;10315:18;;;10308:30;10374:25;10354:18;;;10347:53;10417:18;;4964:62:51;10094:347:181;4964:62:51;5043:9;:58;;5079:22;5087:13;5079:22;:::i;:::-;5043:58;;;5062:13;5043:58;5036:65;4253:855;-1:-1:-1;;;;;;;;;;;;;4253:855:51:o;2095:570::-;2201:5;;:30;;-1:-1:-1;;;2201:30:51;;-1:-1:-1;;;;;727:32:181;;;2201:30:51;;;709:51:181;2161:4:51;;;;;;2201:5;;;;:22;;682:18:181;;2201:30:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;2264:32:51;;2241:20;2264:32;;;:24;:32;;;;;;2186:45;;-1:-1:-1;2310:9:51;;;2306:32;;-1:-1:-1;2329:5:51;;;;-1:-1:-1;2095:570:51;-1:-1:-1;;;2095:570:51:o;2306:32::-;2376:5;;2369:33;;-1:-1:-1;;;2369:33:51;;-1:-1:-1;;;;;727:32:181;;;2369:33:51;;;709:51:181;2349:17:51;;2376:5;;2369:25;;682:18:181;;2369:33:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2349:53;;2412:18;2448:9;2433:12;:24;:78;;2487:24;2499:12;2487:9;:24;:::i;:::-;2433:78;;;2460:24;2475:9;2460:12;:24;:::i;:::-;2412:99;-1:-1:-1;2521:13:51;2559:12;2538:17;2412:99;2538:4;:17;:::i;:::-;2537:34;;;;:::i;:::-;2598:24;;;;;2521:50;;-1:-1:-1;2095:570:51;;-1:-1:-1;;;;;2095:570:51:o;2671:369::-;213:3:30;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;2800:22:51::1;::::0;::::1;;2799:23;2791:67;;;::::0;-1:-1:-1;;;2791:67:51;;10789:2:181;2791:67:51::1;::::0;::::1;10771:21:181::0;10828:2;10808:18;;;10801:30;10867:33;10847:18;;;10840:61;10918:18;;2791:67:51::1;10587:355:181::0;2791:67:51::1;2874:9;2869:126;2889:18:::0;;::::1;2869:126;;;2967:14;;2982:1;2967:17;;;;;;;:::i;:::-;;;;;;;2928:24;:36;2953:7;;2961:1;2953:10;;;;;;;:::i;:::-;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1::0;;;;;2928:36:51::1;::::0;;::::1;::::0;::::1;::::0;;;;;;-1:-1:-1;2928:36:51;:56;2909:3;::::1;::::0;::::1;:::i;:::-;;;;2869:126;;;-1:-1:-1::0;;3004:22:51::1;:29:::0;;-1:-1:-1;;3004:29:51::1;3029:4;3004:29;::::0;;-1:-1:-1;;;2671:369:51:o;266:147:30:-;213:3;;-1:-1:-1;;;;;213:3:30;199:10;:17;191:51;;;;-1:-1:-1;;;191:51:30;;;;;;;:::i;:::-;-1:-1:-1;;;;;331:18:30;::::1;323:63;;;::::0;-1:-1:-1;;;323:63:30;;11421:2:181;323:63:30::1;::::0;::::1;11403:21:181::0;;;11440:18;;;11433:30;11499:34;11479:18;;;11472:62;11551:18;;323:63:30::1;11219:356:181::0;323:63:30::1;396:3;:10:::0;;-1:-1:-1;;;;;;396:10:30::1;-1:-1:-1::0;;;;;396:10:30;;;::::1;::::0;;;::::1;::::0;;266:147::o;1328:761:51:-;708:10;698:21;;;;:9;:21;;;;;;;;690:58;;;;-1:-1:-1;;;690:58:51;;11782:2:181;690:58:51;;;11764:21:181;11821:2;11801:18;;;11794:30;11860:26;11840:18;;;11833:54;11904:18;;690:58:51;11580:348:181;690:58:51;1602:7:::1;:26;;;-1:-1:-1::0;1613:15:51;;1602:26:::1;1644:7;1598:63;1676:22;::::0;::::1;;1671:60:::0;1714:7:::1;1671:60;1742:23;1767:31:::0;1814:100:::1;1837:8;1847:16;1865:11;1878:10;1890;1902:11;1814:22;:100::i;:::-;1741:173;;;;1924:65;1952:11;1965:23;-1:-1:-1::0;;;;;1141:32:51;;;;;;;:24;:32;;;;;:48;1046:150;1924:65:::1;2005:77;::::0;;3260:25:181;;;3316:2;3301:18;;3294:34;;;-1:-1:-1;;;;;2005:77:51;::::1;::::0;::::1;::::0;3233:18:181;2005:77:51::1;;;;;;;1588:501;;758:1;1328:761:::0;;;;;;;:::o;5618:1552::-;5768:4;;6244:26;;;6280:499;;;;6373:1;6358:12;:16;6354:374;;;6422:6;6406:12;6398:30;6394:241;;;6461:30;6485:6;6469:12;6461:30;:::i;:::-;6452:39;;6525:5;6513:17;;6354:374;;6394:241;6586:30;6603:12;6586:6;:30;:::i;:::-;6577:39;;6354:374;;;6699:13;6700:12;6699:13;:::i;:::-;6682:31;;:6;:31;:::i;:::-;6673:40;;6354:374;6750:9;-1:-1:-1;6761:6:51;;-1:-1:-1;6742:26:51;;6280:499;6808:1;6793:12;:16;6789:339;;;6834:30;6851:12;6834:6;:30;:::i;:::-;6825:39;;6789:339;;;6924:6;6907:13;6908:12;6907:13;:::i;:::-;6899:31;6895:223;;;6984:6;6967:13;6968:12;6967:13;:::i;:::-;6959:31;;;;:::i;:::-;6950:40;;7020:4;7008:16;;6895:223;;;7089:13;7090:12;7089:13;:::i;:::-;7072:31;;:6;:31;:::i;:::-;7063:40;;6895:223;7145:9;-1:-1:-1;7156:6:51;;-1:-1:-1;5618:1552:51;;;;;;;;:::o;14:180:181:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:181;;14:180;-1:-1:-1;14:180:181:o;771:118::-;857:5;850:13;843:21;836:5;833:32;823:60;;879:1;876;869:12;823:60;771:118;:::o;894:241::-;950:6;1003:2;991:9;982:7;978:23;974:32;971:52;;;1019:1;1016;1009:12;971:52;1058:9;1045:23;1077:28;1099:5;1077:28;:::i;:::-;1124:5;894:241;-1:-1:-1;;;894:241:181:o;1140:173::-;1208:20;;-1:-1:-1;;;;;1257:31:181;;1247:42;;1237:70;;1303:1;1300;1293:12;1237:70;1140:173;;;:::o;1318:186::-;1377:6;1430:2;1418:9;1409:7;1405:23;1401:32;1398:52;;;1446:1;1443;1436:12;1398:52;1469:29;1488:9;1469:29;:::i;1701:453::-;1795:6;1803;1811;1819;1827;1880:3;1868:9;1859:7;1855:23;1851:33;1848:53;;;1897:1;1894;1887:12;1848:53;-1:-1:-1;;1920:23:181;;;1990:2;1975:18;;1962:32;;-1:-1:-1;2041:2:181;2026:18;;2013:32;;2092:2;2077:18;;2064:32;;-1:-1:-1;2143:3:181;2128:19;2115:33;;-1:-1:-1;1701:453:181;-1:-1:-1;1701:453:181:o;2159:315::-;2224:6;2232;2285:2;2273:9;2264:7;2260:23;2256:32;2253:52;;;2301:1;2298;2291:12;2253:52;2324:29;2343:9;2324:29;:::i;:::-;2314:39;;2403:2;2392:9;2388:18;2375:32;2416:28;2438:5;2416:28;:::i;:::-;2463:5;2453:15;;;2159:315;;;;;:::o;2479:602::-;2580:6;2588;2596;2604;2612;2620;2673:3;2661:9;2652:7;2648:23;2644:33;2641:53;;;2690:1;2687;2680:12;2641:53;2713:29;2732:9;2713:29;:::i;:::-;2703:39;;2761:38;2795:2;2784:9;2780:18;2761:38;:::i;:::-;2751:48;;2818:38;2852:2;2841:9;2837:18;2818:38;:::i;:::-;2808:48;;2903:2;2892:9;2888:18;2875:32;2865:42;;2954:3;2943:9;2939:19;2926:33;2916:43;;3009:3;2998:9;2994:19;2981:33;3023:28;3045:5;3023:28;:::i;:::-;3070:5;3060:15;;;2479:602;;;;;;;;:::o;3339:533::-;3431:6;3439;3447;3455;3463;3516:3;3504:9;3495:7;3491:23;3487:33;3484:53;;;3533:1;3530;3523:12;3484:53;3556:29;3575:9;3556:29;:::i;:::-;3546:39;;3604:38;3638:2;3627:9;3623:18;3604:38;:::i;:::-;3594:48;;3661:38;3695:2;3684:9;3680:18;3661:38;:::i;:::-;3651:48;;3746:2;3735:9;3731:18;3718:32;3708:42;;3800:3;3789:9;3785:19;3772:33;3814:28;3836:5;3814:28;:::i;:::-;3861:5;3851:15;;;3339:533;;;;;;;;:::o;4320:367::-;4383:8;4393:6;4447:3;4440:4;4432:6;4428:17;4424:27;4414:55;;4465:1;4462;4455:12;4414:55;-1:-1:-1;4488:20:181;;4531:18;4520:30;;4517:50;;;4563:1;4560;4553:12;4517:50;4600:4;4592:6;4588:17;4576:29;;4660:3;4653:4;4643:6;4640:1;4636:14;4628:6;4624:27;4620:38;4617:47;4614:67;;;4677:1;4674;4667:12;4614:67;4320:367;;;;;:::o;4692:773::-;4814:6;4822;4830;4838;4891:2;4879:9;4870:7;4866:23;4862:32;4859:52;;;4907:1;4904;4897:12;4859:52;4947:9;4934:23;4976:18;5017:2;5009:6;5006:14;5003:34;;;5033:1;5030;5023:12;5003:34;5072:70;5134:7;5125:6;5114:9;5110:22;5072:70;:::i;:::-;5161:8;;-1:-1:-1;5046:96:181;-1:-1:-1;5249:2:181;5234:18;;5221:32;;-1:-1:-1;5265:16:181;;;5262:36;;;5294:1;5291;5284:12;5262:36;;5333:72;5397:7;5386:8;5375:9;5371:24;5333:72;:::i;:::-;4692:773;;;;-1:-1:-1;5424:8:181;-1:-1:-1;;;;4692:773:181:o;5470:738::-;5577:6;5585;5593;5601;5609;5617;5625;5678:3;5666:9;5657:7;5653:23;5649:33;5646:53;;;5695:1;5692;5685:12;5646:53;5718:29;5737:9;5718:29;:::i;:::-;5708:39;;5766:38;5800:2;5789:9;5785:18;5766:38;:::i;:::-;5756:48;;5823:38;5857:2;5846:9;5842:18;5823:38;:::i;:::-;5813:48;;5911:2;5900:9;5896:18;5883:32;5924:28;5946:5;5924:28;:::i;:::-;5971:5;-1:-1:-1;6023:3:181;6008:19;;5995:33;;-1:-1:-1;6075:3:181;6060:19;;6047:33;;-1:-1:-1;6132:3:181;6117:19;;6104:33;6146:30;6104:33;6146:30;:::i;:::-;6195:7;6185:17;;;5470:738;;;;;;;;;;:::o;6437:345::-;6639:2;6621:21;;;6678:2;6658:18;;;6651:30;-1:-1:-1;;;6712:2:181;6697:18;;6690:51;6773:2;6758:18;;6437:345::o;6787:127::-;6848:10;6843:3;6839:20;6836:1;6829:31;6879:4;6876:1;6869:15;6903:4;6900:1;6893:15;6919:125;6984:9;;;7005:10;;;7002:36;;;7018:18;;:::i;:::-;6919:125;;;;:::o;7049:128::-;7116:9;;;7137:11;;;7134:37;;;7151:18;;:::i;7182:168::-;7255:9;;;7286;;7303:15;;;7297:22;;7283:37;7273:71;;7324:18;;:::i;7355:217::-;7395:1;7421;7411:132;;7465:10;7460:3;7456:20;7453:1;7446:31;7500:4;7497:1;7490:15;7528:4;7525:1;7518:15;7411:132;-1:-1:-1;7557:9:181;;7355:217::o;7937:184::-;8007:6;8060:2;8048:9;8039:7;8035:23;8031:32;8028:52;;;8076:1;8073;8066:12;8028:52;-1:-1:-1;8099:16:181;;7937:184;-1:-1:-1;7937:184:181:o;8597:677::-;8727:6;8735;8743;8751;8759;8767;8775;8783;8836:3;8824:9;8815:7;8811:23;8807:33;8804:53;;;8853:1;8850;8843:12;8804:53;8882:9;8876:16;8866:26;;8932:2;8921:9;8917:18;8911:25;8901:35;;8976:2;8965:9;8961:18;8955:25;8945:35;;9020:2;9009:9;9005:18;8999:25;8989:35;;9064:3;9053:9;9049:19;9043:26;9033:36;;9109:3;9098:9;9094:19;9088:26;9078:36;;9157:3;9146:9;9142:19;9136:26;9171:28;9193:5;9171:28;:::i;:::-;9218:5;9208:15;;;9263:3;9252:9;9248:19;9242:26;9232:36;;8597:677;;;;;;;;;;;:::o;9783:306::-;9859:6;9867;9920:2;9908:9;9899:7;9895:23;9891:32;9888:52;;;9936:1;9933;9926:12;9888:52;9968:9;9962:16;9987:28;10009:5;9987:28;:::i;:::-;10079:2;10064:18;;;;10058:25;10034:5;;10058:25;;-1:-1:-1;;;9783:306:181:o;10446:136::-;10481:3;-1:-1:-1;;;10502:22:181;;10499:48;;10527:18;;:::i;:::-;-1:-1:-1;10567:1:181;10563:13;;10446:136::o;10947:127::-;11008:10;11003:3;10999:20;10996:1;10989:31;11039:4;11036:1;11029:15;11063:4;11060:1;11053:15;11079:135;11118:3;11139:17;;;11136:43;;11159:18;;:::i;:::-;-1:-1:-1;11206:1:181;11195:13;;11079:135::o","linkReferences":{}},"methodIdentifiers":{"MAX_INT256()":"122e7b07","_getNextGlobalAveragePrice(uint256,uint256,uint256,uint256,int256)":"5886b711","data(bytes32)":"0147fb0c","getGlobalShortDelta(address)":"b364accb","getNextGlobalShortData(address,address,address,uint256,uint256,bool)":"9cdeb593","getRealisedPnl(address,address,address,uint256,bool)":"a83b75fd","globalShortAveragePrices(address)":"62749803","gov()":"12d43a51","isGlobalShortDataReady()":"9a11178f","isHandler(address)":"46ea87af","setGov(address)":"cfad57a2","setHandler(address,bool)":"9cb7de4b","setInitData(address[],uint256[])":"bbd97187","setIsGlobalShortDataReady(bool)":"3d30cabf","updateGlobalShortData(address,address,address,bool,uint256,uint256,bool)":"f3238cec","vault()":"fbfa77cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_vault\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"globalShortSize\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"globalShortAveragePrice\",\"type\":\"uint256\"}],\"name\":\"GlobalShortDataUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_INT256\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_averagePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_nextPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_nextSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_delta\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"_realisedPnl\",\"type\":\"int256\"}],\"name\":\"_getNextGlobalAveragePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"data\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"}],\"name\":\"getGlobalShortDelta\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_nextPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sizeDelta\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_isIncrease\",\"type\":\"bool\"}],\"name\":\"getNextGlobalShortData\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_sizeDelta\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_isIncrease\",\"type\":\"bool\"}],\"name\":\"getRealisedPnl\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"globalShortAveragePrices\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isGlobalShortDataReady\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isHandler\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGov\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_handler\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_isActive\",\"type\":\"bool\"}],\"name\":\"setHandler\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"_tokens\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_averagePrices\",\"type\":\"uint256[]\"}],\"name\":\"setInitData\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"value\",\"type\":\"bool\"}],\"name\":\"setIsGlobalShortDataReady\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_indexToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_isLong\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_sizeDelta\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_markPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_isIncrease\",\"type\":\"bool\"}],\"name\":\"updateGlobalShortData\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"contract IVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/ShortsTracker.sol\":\"ShortsTracker\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/\",\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/access/Governable.sol\":{\"keccak256\":\"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815\",\"dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod\"]},\"src/core/ShortsTracker.sol\":{\"keccak256\":\"0xf68648509fd0b15e6da586cd78748a465f55198674ada485571f23a0dbf35d50\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://577de240a17a2409d3e10de4a23a98bdd8cb05aa114e3cd6120a27c5ba50f918\",\"dweb:/ipfs/QmbZtS2MWNQKAvTRCEZMEZH6LVTPNxv4XsbRqTnftg5du1\"]},\"src/core/interfaces/IShortsTracker.sol\":{\"keccak256\":\"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5\",\"dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4\"]},\"src/core/interfaces/IVault.sol\":{\"keccak256\":\"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208\",\"dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC\"]},\"src/core/interfaces/IVaultUtils.sol\":{\"keccak256\":\"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3\",\"dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"uint256","name":"globalShortSize","type":"uint256","indexed":false},{"internalType":"uint256","name":"globalShortAveragePrice","type":"uint256","indexed":false}],"type":"event","name":"GlobalShortDataUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_INT256","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_averagePrice","type":"uint256"},{"internalType":"uint256","name":"_nextPrice","type":"uint256"},{"internalType":"uint256","name":"_nextSize","type":"uint256"},{"internalType":"uint256","name":"_delta","type":"uint256"},{"internalType":"int256","name":"_realisedPnl","type":"int256"}],"stateMutability":"pure","type":"function","name":"_getNextGlobalAveragePrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"data","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"stateMutability":"view","type":"function","name":"getGlobalShortDelta","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_nextPrice","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"bool","name":"_isIncrease","type":"bool"}],"stateMutability":"view","type":"function","name":"getNextGlobalShortData","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"bool","name":"_isIncrease","type":"bool"}],"stateMutability":"view","type":"function","name":"getRealisedPnl","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"globalShortAveragePrices","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isGlobalShortDataReady","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"isHandler","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGov"},{"inputs":[{"internalType":"address","name":"_handler","type":"address"},{"internalType":"bool","name":"_isActive","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setHandler"},{"inputs":[{"internalType":"address[]","name":"_tokens","type":"address[]"},{"internalType":"uint256[]","name":"_averagePrices","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"setInitData"},{"inputs":[{"internalType":"bool","name":"value","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setIsGlobalShortDataReady"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_markPrice","type":"uint256"},{"internalType":"bool","name":"_isIncrease","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"updateGlobalShortData"},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"contract IVault","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink/contracts/src/v0.6/","chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/chainlink/contracts/foundry-lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/ShortsTracker.sol":"ShortsTracker"},"evmVersion":"paris","libraries":{}},"sources":{"src/access/Governable.sol":{"keccak256":"0xd8de41a8d8f0c08fb8c13adf4928dde9fc744a38ed23c316ac425212ca5b50a1","urls":["bzz-raw://b9fe073e34b15f9878ff4a82ea93b24007448f5e8e03c6d3941d9058f5523815","dweb:/ipfs/QmRz43VRZTSURZV5VvWBbN8Vb2UFiYYKrDQAmMuRxcfJod"],"license":"MIT"},"src/core/ShortsTracker.sol":{"keccak256":"0xf68648509fd0b15e6da586cd78748a465f55198674ada485571f23a0dbf35d50","urls":["bzz-raw://577de240a17a2409d3e10de4a23a98bdd8cb05aa114e3cd6120a27c5ba50f918","dweb:/ipfs/QmbZtS2MWNQKAvTRCEZMEZH6LVTPNxv4XsbRqTnftg5du1"],"license":"MIT"},"src/core/interfaces/IShortsTracker.sol":{"keccak256":"0xb1b1c323a59f9ac2a6448f564572deaa2f441ca888e143967e274d902aa36112","urls":["bzz-raw://9124a74eb003c67d1a8d4942219c223506d337723dc26be9d1a1750e46165ef5","dweb:/ipfs/QmPDjtLUW2jD3KQs1ZzeS2htbP4ctBV6Av8chnrGfxQbp4"],"license":"MIT"},"src/core/interfaces/IVault.sol":{"keccak256":"0x4cc6e3b5127cd810d4dc6ed39d0ec008c26bfb50faf64170e33ef3191d536453","urls":["bzz-raw://db108675081277cac7202c323b5b68d9c03bce71ef99dae235bf5c9205ed4208","dweb:/ipfs/QmehnayL8EVXSwZpwb2BvxryWhZozT6JiNExmZ9NH7boyC"],"license":"MIT"},"src/core/interfaces/IVaultUtils.sol":{"keccak256":"0x201178e34624c41dc5563165a9ffebc494f29a7d216e8deb4377396be07494bd","urls":["bzz-raw://d0cde3d9c826f4bca12b57e6c5970527fb2f2d0790f560a51de2e39faa4821a3","dweb:/ipfs/QmZCZUPwM9XQXPm8G9kmhTszEEA98wXRCtCtEGKcwqvimF"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/core/ShortsTracker.sol","id":45342,"exportedSymbols":{"Governable":[33234],"IShortsTracker":[52808],"IVault":[53450],"IVaultUtils":[53716],"ShortsTracker":[45341]},"nodeType":"SourceUnit","src":"33:7140:51","nodes":[{"id":44670,"nodeType":"PragmaDirective","src":"33:23:51","nodes":[],"literals":["solidity","0.8",".18"]},{"id":44671,"nodeType":"ImportDirective","src":"58:34:51","nodes":[],"absolutePath":"src/access/Governable.sol","file":"../access/Governable.sol","nameLocation":"-1:-1:-1","scope":45342,"sourceUnit":33235,"symbolAliases":[],"unitAlias":""},{"id":44672,"nodeType":"ImportDirective","src":"93:41:51","nodes":[],"absolutePath":"src/core/interfaces/IShortsTracker.sol","file":"./interfaces/IShortsTracker.sol","nameLocation":"-1:-1:-1","scope":45342,"sourceUnit":52809,"symbolAliases":[],"unitAlias":""},{"id":44673,"nodeType":"ImportDirective","src":"135:33:51","nodes":[],"absolutePath":"src/core/interfaces/IVault.sol","file":"./interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":45342,"sourceUnit":53451,"symbolAliases":[],"unitAlias":""},{"id":45341,"nodeType":"ContractDefinition","src":"170:7002:51","nodes":[{"id":44685,"nodeType":"EventDefinition","src":"229:110:51","nodes":[],"anonymous":false,"eventSelector":"d6137be44db128ffcf1ea1821dbe8f889f67f949be7656c2d8acba2a4a891a02","name":"GlobalShortDataUpdated","nameLocation":"235:22:51","parameters":{"id":44684,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44679,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"274:5:51","nodeType":"VariableDeclaration","scope":44685,"src":"258:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44678,"name":"address","nodeType":"ElementaryTypeName","src":"258:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44681,"indexed":false,"mutability":"mutable","name":"globalShortSize","nameLocation":"289:15:51","nodeType":"VariableDeclaration","scope":44685,"src":"281:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44680,"name":"uint256","nodeType":"ElementaryTypeName","src":"281:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44683,"indexed":false,"mutability":"mutable","name":"globalShortAveragePrice","nameLocation":"314:23:51","nodeType":"VariableDeclaration","scope":44685,"src":"306:31:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44682,"name":"uint256","nodeType":"ElementaryTypeName","src":"306:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"257:81:51"}},{"id":44695,"nodeType":"VariableDeclaration","src":"345:62:51","nodes":[],"constant":true,"functionSelector":"122e7b07","mutability":"constant","name":"MAX_INT256","nameLocation":"369:10:51","scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44686,"name":"uint256","nodeType":"ElementaryTypeName","src":"345:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"arguments":[{"expression":{"arguments":[{"id":44691,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"395:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":44690,"name":"int256","nodeType":"ElementaryTypeName","src":"395:6:51","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"}],"id":44689,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"390:4:51","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":44692,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"390:12:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_int256","typeString":"type(int256)"}},"id":44693,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"403:3:51","memberName":"max","nodeType":"MemberAccess","src":"390:16:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":44688,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"382:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":44687,"name":"uint256","nodeType":"ElementaryTypeName","src":"382:7:51","typeDescriptions":{}}},"id":44694,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"382:25:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":44698,"nodeType":"VariableDeclaration","src":"414:19:51","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"428:5:51","scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":44697,"nodeType":"UserDefinedTypeName","pathNode":{"id":44696,"name":"IVault","nameLocations":["414:6:51"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"414:6:51"},"referencedDeclaration":53450,"src":"414:6:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"public"},{"id":44702,"nodeType":"VariableDeclaration","src":"440:41:51","nodes":[],"constant":false,"functionSelector":"46ea87af","mutability":"mutable","name":"isHandler","nameLocation":"472:9:51","scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":44701,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":44699,"name":"address","nodeType":"ElementaryTypeName","src":"448:7:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"440:24:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":44700,"name":"bool","nodeType":"ElementaryTypeName","src":"459:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"public"},{"id":44706,"nodeType":"VariableDeclaration","src":"487:39:51","nodes":[],"constant":false,"functionSelector":"0147fb0c","mutability":"mutable","name":"data","nameLocation":"522:4:51","scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bytes32_$","typeString":"mapping(bytes32 => bytes32)"},"typeName":{"id":44705,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":44703,"name":"bytes32","nodeType":"ElementaryTypeName","src":"495:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"487:27:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bytes32_$","typeString":"mapping(bytes32 => bytes32)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":44704,"name":"bytes32","nodeType":"ElementaryTypeName","src":"506:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"visibility":"public"},{"id":44711,"nodeType":"VariableDeclaration","src":"533:68:51","nodes":[],"baseFunctions":[52750],"constant":false,"functionSelector":"62749803","mutability":"mutable","name":"globalShortAveragePrices","nameLocation":"577:24:51","overrides":{"id":44710,"nodeType":"OverrideSpecifier","overrides":[],"src":"568:8:51"},"scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":44709,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":44707,"name":"address","nodeType":"ElementaryTypeName","src":"541:7:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"533:27:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":44708,"name":"uint256","nodeType":"ElementaryTypeName","src":"552:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":44714,"nodeType":"VariableDeclaration","src":"607:43:51","nodes":[],"baseFunctions":[52743],"constant":false,"functionSelector":"9a11178f","mutability":"mutable","name":"isGlobalShortDataReady","nameLocation":"628:22:51","overrides":{"id":44713,"nodeType":"OverrideSpecifier","overrides":[],"src":"619:8:51"},"scope":45341,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44712,"name":"bool","nodeType":"ElementaryTypeName","src":"607:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"public"},{"id":44726,"nodeType":"ModifierDefinition","src":"657:109:51","nodes":[],"body":{"id":44725,"nodeType":"Block","src":"680:86:51","nodes":[],"statements":[{"expression":{"arguments":[{"baseExpression":{"id":44717,"name":"isHandler","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44702,"src":"698:9:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":44720,"indexExpression":{"expression":{"id":44718,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"708:3:51","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":44719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"712:6:51","memberName":"sender","nodeType":"MemberAccess","src":"708:10:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"698:21:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53686f727473547261636b65723a20666f7262696464656e","id":44721,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"721:26:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_7841260a376f5abeafe75eea1182f8babe69f41587d009b45687048fd0516c7b","typeString":"literal_string \"ShortsTracker: forbidden\""},"value":"ShortsTracker: forbidden"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_7841260a376f5abeafe75eea1182f8babe69f41587d009b45687048fd0516c7b","typeString":"literal_string \"ShortsTracker: forbidden\""}],"id":44716,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"690:7:51","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":44722,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"690:58:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44723,"nodeType":"ExpressionStatement","src":"690:58:51"},{"id":44724,"nodeType":"PlaceholderStatement","src":"758:1:51"}]},"name":"onlyHandler","nameLocation":"666:11:51","parameters":{"id":44715,"nodeType":"ParameterList","parameters":[],"src":"677:2:51"},"virtual":false,"visibility":"internal"},{"id":44738,"nodeType":"FunctionDefinition","src":"772:67:51","nodes":[],"body":{"id":44737,"nodeType":"Block","src":"800:39:51","nodes":[],"statements":[{"expression":{"id":44735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44731,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44698,"src":"810:5:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":44733,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44728,"src":"825:6:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":44732,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"818:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":44734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"818:14:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"src":"810:22:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":44736,"nodeType":"ExpressionStatement","src":"810:22:51"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":44729,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44728,"mutability":"mutable","name":"_vault","nameLocation":"792:6:51","nodeType":"VariableDeclaration","scope":44738,"src":"784:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44727,"name":"address","nodeType":"ElementaryTypeName","src":"784:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"783:16:51"},"returnParameters":{"id":44730,"nodeType":"ParameterList","parameters":[],"src":"800:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":44764,"nodeType":"FunctionDefinition","src":"845:195:51","nodes":[],"body":{"id":44763,"nodeType":"Block","src":"916:124:51","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":44753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44748,"name":"_handler","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44740,"src":"934:8:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":44751,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"954:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":44750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"946:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":44749,"name":"address","nodeType":"ElementaryTypeName","src":"946:7:51","typeDescriptions":{}}},"id":44752,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"946:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"934:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53686f727473547261636b65723a20696e76616c6964205f68616e646c6572","id":44754,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"958:33:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_17919eb097482d24b61aeae25aa89ecb89790fee6507ccc2d060b9f43de60e2f","typeString":"literal_string \"ShortsTracker: invalid _handler\""},"value":"ShortsTracker: invalid _handler"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_17919eb097482d24b61aeae25aa89ecb89790fee6507ccc2d060b9f43de60e2f","typeString":"literal_string \"ShortsTracker: invalid _handler\""}],"id":44747,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"926:7:51","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":44755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"926:66:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44756,"nodeType":"ExpressionStatement","src":"926:66:51"},{"expression":{"id":44761,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44757,"name":"isHandler","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44702,"src":"1002:9:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":44759,"indexExpression":{"id":44758,"name":"_handler","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44740,"src":"1012:8:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1002:19:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44760,"name":"_isActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44742,"src":"1024:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1002:31:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44762,"nodeType":"ExpressionStatement","src":"1002:31:51"}]},"baseFunctions":[52807],"functionSelector":"9cb7de4b","implemented":true,"kind":"function","modifiers":[{"id":44745,"kind":"modifierInvocation","modifierName":{"id":44744,"name":"onlyGov","nameLocations":["908:7:51"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"908:7:51"},"nodeType":"ModifierInvocation","src":"908:7:51"}],"name":"setHandler","nameLocation":"854:10:51","parameters":{"id":44743,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44740,"mutability":"mutable","name":"_handler","nameLocation":"873:8:51","nodeType":"VariableDeclaration","scope":44764,"src":"865:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44739,"name":"address","nodeType":"ElementaryTypeName","src":"865:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44742,"mutability":"mutable","name":"_isActive","nameLocation":"888:9:51","nodeType":"VariableDeclaration","scope":44764,"src":"883:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44741,"name":"bool","nodeType":"ElementaryTypeName","src":"883:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"864:34:51"},"returnParameters":{"id":44746,"nodeType":"ParameterList","parameters":[],"src":"916:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":44778,"nodeType":"FunctionDefinition","src":"1046:150:51","nodes":[],"body":{"id":44777,"nodeType":"Block","src":"1131:65:51","nodes":[],"statements":[{"expression":{"id":44775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44771,"name":"globalShortAveragePrices","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44711,"src":"1141:24:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":44773,"indexExpression":{"id":44772,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44766,"src":"1166:6:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1141:32:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44774,"name":"_averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44768,"src":"1176:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1141:48:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44776,"nodeType":"ExpressionStatement","src":"1141:48:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_setGlobalShortAveragePrice","nameLocation":"1055:27:51","parameters":{"id":44769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44766,"mutability":"mutable","name":"_token","nameLocation":"1091:6:51","nodeType":"VariableDeclaration","scope":44778,"src":"1083:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44765,"name":"address","nodeType":"ElementaryTypeName","src":"1083:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44768,"mutability":"mutable","name":"_averagePrice","nameLocation":"1107:13:51","nodeType":"VariableDeclaration","scope":44778,"src":"1099:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44767,"name":"uint256","nodeType":"ElementaryTypeName","src":"1099:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1082:39:51"},"returnParameters":{"id":44770,"nodeType":"ParameterList","parameters":[],"src":"1131:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":44791,"nodeType":"FunctionDefinition","src":"1202:120:51","nodes":[],"body":{"id":44790,"nodeType":"Block","src":"1275:47:51","nodes":[],"statements":[{"expression":{"id":44788,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44786,"name":"isGlobalShortDataReady","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44714,"src":"1285:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44787,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44780,"src":"1310:5:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1285:30:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44789,"nodeType":"ExpressionStatement","src":"1285:30:51"}]},"baseFunctions":[52791],"functionSelector":"3d30cabf","implemented":true,"kind":"function","modifiers":[{"id":44784,"kind":"modifierInvocation","modifierName":{"id":44783,"name":"onlyGov","nameLocations":["1267:7:51"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"1267:7:51"},"nodeType":"ModifierInvocation","src":"1267:7:51"}],"name":"setIsGlobalShortDataReady","nameLocation":"1211:25:51","overrides":{"id":44782,"nodeType":"OverrideSpecifier","overrides":[],"src":"1258:8:51"},"parameters":{"id":44781,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44780,"mutability":"mutable","name":"value","nameLocation":"1242:5:51","nodeType":"VariableDeclaration","scope":44791,"src":"1237:10:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44779,"name":"bool","nodeType":"ElementaryTypeName","src":"1237:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1236:12:51"},"returnParameters":{"id":44785,"nodeType":"ParameterList","parameters":[],"src":"1275:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":44849,"nodeType":"FunctionDefinition","src":"1328:761:51","nodes":[],"body":{"id":44848,"nodeType":"Block","src":"1588:501:51","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":44815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44811,"name":"_isLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44799,"src":"1602:7:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44814,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44812,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44801,"src":"1613:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":44813,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1627:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1613:15:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1602:26:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44818,"nodeType":"IfStatement","src":"1598:63:51","trueBody":{"id":44817,"nodeType":"Block","src":"1630:31:51","statements":[{"functionReturnParameters":44810,"id":44816,"nodeType":"Return","src":"1644:7:51"}]}},{"condition":{"id":44820,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"1675:23:51","subExpression":{"id":44819,"name":"isGlobalShortDataReady","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44714,"src":"1676:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44823,"nodeType":"IfStatement","src":"1671:60:51","trueBody":{"id":44822,"nodeType":"Block","src":"1700:31:51","statements":[{"functionReturnParameters":44810,"id":44821,"nodeType":"Return","src":"1714:7:51"}]}},{"assignments":[44825,44827],"declarations":[{"constant":false,"id":44825,"mutability":"mutable","name":"globalShortSize","nameLocation":"1750:15:51","nodeType":"VariableDeclaration","scope":44848,"src":"1742:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44824,"name":"uint256","nodeType":"ElementaryTypeName","src":"1742:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44827,"mutability":"mutable","name":"globalShortAveragePrice","nameLocation":"1775:23:51","nodeType":"VariableDeclaration","scope":44848,"src":"1767:31:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44826,"name":"uint256","nodeType":"ElementaryTypeName","src":"1767:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44836,"initialValue":{"arguments":[{"id":44829,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44793,"src":"1837:8:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44830,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44795,"src":"1847:16:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44831,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44797,"src":"1865:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44832,"name":"_markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44803,"src":"1878:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":44833,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44801,"src":"1890:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":44834,"name":"_isIncrease","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44805,"src":"1902:11:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":44828,"name":"getNextGlobalShortData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45084,"src":"1814:22:51","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address,address,address,uint256,uint256,bool) view returns (uint256,uint256)"}},"id":44835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1814:100:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"1741:173:51"},{"expression":{"arguments":[{"id":44838,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44797,"src":"1952:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44839,"name":"globalShortAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44827,"src":"1965:23:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":44837,"name":"_setGlobalShortAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44778,"src":"1924:27:51","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":44840,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:65:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44841,"nodeType":"ExpressionStatement","src":"1924:65:51"},{"eventCall":{"arguments":[{"id":44843,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44797,"src":"2028:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44844,"name":"globalShortSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44825,"src":"2041:15:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":44845,"name":"globalShortAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44827,"src":"2058:23:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":44842,"name":"GlobalShortDataUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44685,"src":"2005:22:51","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":44846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2005:77:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44847,"nodeType":"EmitStatement","src":"2000:82:51"}]},"baseFunctions":[52786],"functionSelector":"f3238cec","implemented":true,"kind":"function","modifiers":[{"id":44809,"kind":"modifierInvocation","modifierName":{"id":44808,"name":"onlyHandler","nameLocations":["1576:11:51"],"nodeType":"IdentifierPath","referencedDeclaration":44726,"src":"1576:11:51"},"nodeType":"ModifierInvocation","src":"1576:11:51"}],"name":"updateGlobalShortData","nameLocation":"1337:21:51","overrides":{"id":44807,"nodeType":"OverrideSpecifier","overrides":[],"src":"1567:8:51"},"parameters":{"id":44806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44793,"mutability":"mutable","name":"_account","nameLocation":"1376:8:51","nodeType":"VariableDeclaration","scope":44849,"src":"1368:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44792,"name":"address","nodeType":"ElementaryTypeName","src":"1368:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44795,"mutability":"mutable","name":"_collateralToken","nameLocation":"1402:16:51","nodeType":"VariableDeclaration","scope":44849,"src":"1394:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44794,"name":"address","nodeType":"ElementaryTypeName","src":"1394:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44797,"mutability":"mutable","name":"_indexToken","nameLocation":"1436:11:51","nodeType":"VariableDeclaration","scope":44849,"src":"1428:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44796,"name":"address","nodeType":"ElementaryTypeName","src":"1428:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44799,"mutability":"mutable","name":"_isLong","nameLocation":"1462:7:51","nodeType":"VariableDeclaration","scope":44849,"src":"1457:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44798,"name":"bool","nodeType":"ElementaryTypeName","src":"1457:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":44801,"mutability":"mutable","name":"_sizeDelta","nameLocation":"1487:10:51","nodeType":"VariableDeclaration","scope":44849,"src":"1479:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44800,"name":"uint256","nodeType":"ElementaryTypeName","src":"1479:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44803,"mutability":"mutable","name":"_markPrice","nameLocation":"1515:10:51","nodeType":"VariableDeclaration","scope":44849,"src":"1507:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44802,"name":"uint256","nodeType":"ElementaryTypeName","src":"1507:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44805,"mutability":"mutable","name":"_isIncrease","nameLocation":"1540:11:51","nodeType":"VariableDeclaration","scope":44849,"src":"1535:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44804,"name":"bool","nodeType":"ElementaryTypeName","src":"1535:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1358:199:51"},"returnParameters":{"id":44810,"nodeType":"ParameterList","parameters":[],"src":"1588:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":44921,"nodeType":"FunctionDefinition","src":"2095:570:51","nodes":[],"body":{"id":44920,"nodeType":"Block","src":"2176:489:51","nodes":[],"statements":[{"assignments":[44859],"declarations":[{"constant":false,"id":44859,"mutability":"mutable","name":"size","nameLocation":"2194:4:51","nodeType":"VariableDeclaration","scope":44920,"src":"2186:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44858,"name":"uint256","nodeType":"ElementaryTypeName","src":"2186:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44864,"initialValue":{"arguments":[{"id":44862,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44851,"src":"2224:6:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":44860,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44698,"src":"2201:5:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":44861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2207:16:51","memberName":"globalShortSizes","nodeType":"MemberAccess","referencedDeclaration":53312,"src":"2201:22:51","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":44863,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2201:30:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2186:45:51"},{"assignments":[44866],"declarations":[{"constant":false,"id":44866,"mutability":"mutable","name":"averagePrice","nameLocation":"2249:12:51","nodeType":"VariableDeclaration","scope":44920,"src":"2241:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44865,"name":"uint256","nodeType":"ElementaryTypeName","src":"2241:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44870,"initialValue":{"baseExpression":{"id":44867,"name":"globalShortAveragePrices","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44711,"src":"2264:24:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":44869,"indexExpression":{"id":44868,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44851,"src":"2289:6:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2264:32:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2241:55:51"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44873,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44871,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44859,"src":"2310:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":44872,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2318:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2310:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44878,"nodeType":"IfStatement","src":"2306:32:51","trueBody":{"expression":{"components":[{"hexValue":"66616c7365","id":44874,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2329:5:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"hexValue":"30","id":44875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2336:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":44876,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2328:10:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_rational_0_by_1_$","typeString":"tuple(bool,int_const 0)"}},"functionReturnParameters":44857,"id":44877,"nodeType":"Return","src":"2321:17:51"}},{"assignments":[44880],"declarations":[{"constant":false,"id":44880,"mutability":"mutable","name":"nextPrice","nameLocation":"2357:9:51","nodeType":"VariableDeclaration","scope":44920,"src":"2349:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44879,"name":"uint256","nodeType":"ElementaryTypeName","src":"2349:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44887,"initialValue":{"arguments":[{"id":44885,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44851,"src":"2395:6:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":44882,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44698,"src":"2376:5:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}],"id":44881,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53450,"src":"2369:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$53450_$","typeString":"type(contract IVault)"}},"id":44883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2369:13:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":44884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2383:11:51","memberName":"getMaxPrice","nodeType":"MemberAccess","referencedDeclaration":53398,"src":"2369:25:51","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":44886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2369:33:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2349:53:51"},{"assignments":[44889],"declarations":[{"constant":false,"id":44889,"mutability":"mutable","name":"priceDelta","nameLocation":"2420:10:51","nodeType":"VariableDeclaration","scope":44920,"src":"2412:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44888,"name":"uint256","nodeType":"ElementaryTypeName","src":"2412:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44900,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44890,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44866,"src":"2433:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":44891,"name":"nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44880,"src":"2448:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2433:24:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44896,"name":"nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44880,"src":"2487:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":44897,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44866,"src":"2499:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2487:24:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2433:78:51","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44893,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44866,"src":"2460:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":44894,"name":"nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44880,"src":"2475:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2460:24:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2412:99:51"},{"assignments":[44902],"declarations":[{"constant":false,"id":44902,"mutability":"mutable","name":"delta","nameLocation":"2529:5:51","nodeType":"VariableDeclaration","scope":44920,"src":"2521:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44901,"name":"uint256","nodeType":"ElementaryTypeName","src":"2521:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44909,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44903,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44859,"src":"2538:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":44904,"name":"priceDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44889,"src":"2545:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2538:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":44906,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2537:19:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":44907,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44866,"src":"2559:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2537:34:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2521:50:51"},{"assignments":[44911],"declarations":[{"constant":false,"id":44911,"mutability":"mutable","name":"hasProfit","nameLocation":"2586:9:51","nodeType":"VariableDeclaration","scope":44920,"src":"2581:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44910,"name":"bool","nodeType":"ElementaryTypeName","src":"2581:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":44915,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44912,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44866,"src":"2598:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":44913,"name":"nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44880,"src":"2613:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2598:24:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"2581:41:51"},{"expression":{"components":[{"id":44916,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44911,"src":"2641:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":44917,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44902,"src":"2652:5:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":44918,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2640:18:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"functionReturnParameters":44857,"id":44919,"nodeType":"Return","src":"2633:25:51"}]},"functionSelector":"b364accb","implemented":true,"kind":"function","modifiers":[],"name":"getGlobalShortDelta","nameLocation":"2104:19:51","parameters":{"id":44852,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44851,"mutability":"mutable","name":"_token","nameLocation":"2132:6:51","nodeType":"VariableDeclaration","scope":44921,"src":"2124:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44850,"name":"address","nodeType":"ElementaryTypeName","src":"2124:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2123:16:51"},"returnParameters":{"id":44857,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44854,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44921,"src":"2161:4:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44853,"name":"bool","nodeType":"ElementaryTypeName","src":"2161:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":44856,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44921,"src":"2167:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44855,"name":"uint256","nodeType":"ElementaryTypeName","src":"2167:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2160:15:51"},"scope":45341,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":44967,"nodeType":"FunctionDefinition","src":"2671:369:51","nodes":[],"body":{"id":44966,"nodeType":"Block","src":"2781:259:51","nodes":[],"statements":[{"expression":{"arguments":[{"id":44935,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"2799:23:51","subExpression":{"id":44934,"name":"isGlobalShortDataReady","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44714,"src":"2800:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53686f727473547261636b65723a20616c7265616479206d69677261746564","id":44936,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2824:33:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_b74aff559421eb4e443a51acea534ca3f49b7f0e6c8f0d058194fd503f67bee1","typeString":"literal_string \"ShortsTracker: already migrated\""},"value":"ShortsTracker: already migrated"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b74aff559421eb4e443a51acea534ca3f49b7f0e6c8f0d058194fd503f67bee1","typeString":"literal_string \"ShortsTracker: already migrated\""}],"id":44933,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2791:7:51","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":44937,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2791:67:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44938,"nodeType":"ExpressionStatement","src":"2791:67:51"},{"body":{"id":44960,"nodeType":"Block","src":"2914:81:51","statements":[{"expression":{"id":44958,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44950,"name":"globalShortAveragePrices","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44711,"src":"2928:24:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":44954,"indexExpression":{"baseExpression":{"id":44951,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44924,"src":"2953:7:51","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":44953,"indexExpression":{"id":44952,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44940,"src":"2961:1:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2953:10:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2928:36:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":44955,"name":"_averagePrices","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44927,"src":"2967:14:51","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":44957,"indexExpression":{"id":44956,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44940,"src":"2982:1:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2967:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2928:56:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44959,"nodeType":"ExpressionStatement","src":"2928:56:51"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44943,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44940,"src":"2889:1:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":44944,"name":"_tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44924,"src":"2893:7:51","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":44945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2901:6:51","memberName":"length","nodeType":"MemberAccess","src":"2893:14:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2889:18:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44961,"initializationExpression":{"assignments":[44940],"declarations":[{"constant":false,"id":44940,"mutability":"mutable","name":"i","nameLocation":"2882:1:51","nodeType":"VariableDeclaration","scope":44961,"src":"2874:9:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44939,"name":"uint256","nodeType":"ElementaryTypeName","src":"2874:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44942,"initialValue":{"hexValue":"30","id":44941,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2886:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2874:13:51"},"loopExpression":{"expression":{"id":44948,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2909:3:51","subExpression":{"id":44947,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44940,"src":"2909:1:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44949,"nodeType":"ExpressionStatement","src":"2909:3:51"},"nodeType":"ForStatement","src":"2869:126:51"},{"expression":{"id":44964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44962,"name":"isGlobalShortDataReady","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44714,"src":"3004:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":44963,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3029:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"3004:29:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44965,"nodeType":"ExpressionStatement","src":"3004:29:51"}]},"baseFunctions":[52800],"functionSelector":"bbd97187","implemented":true,"kind":"function","modifiers":[{"id":44931,"kind":"modifierInvocation","modifierName":{"id":44930,"name":"onlyGov","nameLocations":["2773:7:51"],"nodeType":"IdentifierPath","referencedDeclaration":33211,"src":"2773:7:51"},"nodeType":"ModifierInvocation","src":"2773:7:51"}],"name":"setInitData","nameLocation":"2680:11:51","overrides":{"id":44929,"nodeType":"OverrideSpecifier","overrides":[],"src":"2764:8:51"},"parameters":{"id":44928,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44924,"mutability":"mutable","name":"_tokens","nameLocation":"2711:7:51","nodeType":"VariableDeclaration","scope":44967,"src":"2692:26:51","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":44922,"name":"address","nodeType":"ElementaryTypeName","src":"2692:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":44923,"nodeType":"ArrayTypeName","src":"2692:9:51","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":44927,"mutability":"mutable","name":"_averagePrices","nameLocation":"2739:14:51","nodeType":"VariableDeclaration","scope":44967,"src":"2720:33:51","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":44925,"name":"uint256","nodeType":"ElementaryTypeName","src":"2720:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44926,"nodeType":"ArrayTypeName","src":"2720:9:51","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2691:63:51"},"returnParameters":{"id":44932,"nodeType":"ParameterList","parameters":[],"src":"2781:0:51"},"scope":45341,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":45084,"nodeType":"FunctionDefinition","src":"3046:1201:51","nodes":[],"body":{"id":45083,"nodeType":"Block","src":"3303:944:51","nodes":[],"statements":[{"assignments":[44988],"declarations":[{"constant":false,"id":44988,"mutability":"mutable","name":"realisedPnl","nameLocation":"3320:11:51","nodeType":"VariableDeclaration","scope":45083,"src":"3313:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":44987,"name":"int256","nodeType":"ElementaryTypeName","src":"3313:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":44996,"initialValue":{"arguments":[{"id":44990,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44969,"src":"3349:8:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44991,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44971,"src":"3359:16:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44992,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44973,"src":"3377:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44993,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44977,"src":"3390:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":44994,"name":"_isIncrease","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44979,"src":"3402:11:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":44989,"name":"getRealisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45165,"src":"3334:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$_t_uint256_$_t_bool_$returns$_t_int256_$","typeString":"function (address,address,address,uint256,bool) view returns (int256)"}},"id":44995,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3334:80:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"3313:101:51"},{"assignments":[44998],"declarations":[{"constant":false,"id":44998,"mutability":"mutable","name":"averagePrice","nameLocation":"3432:12:51","nodeType":"VariableDeclaration","scope":45083,"src":"3424:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44997,"name":"uint256","nodeType":"ElementaryTypeName","src":"3424:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45002,"initialValue":{"baseExpression":{"id":44999,"name":"globalShortAveragePrices","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44711,"src":"3447:24:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":45001,"indexExpression":{"id":45000,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44973,"src":"3472:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3447:37:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3424:60:51"},{"assignments":[45004],"declarations":[{"constant":false,"id":45004,"mutability":"mutable","name":"priceDelta","nameLocation":"3502:10:51","nodeType":"VariableDeclaration","scope":45083,"src":"3494:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45003,"name":"uint256","nodeType":"ElementaryTypeName","src":"3494:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45016,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45007,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45005,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"3515:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":45006,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44975,"src":"3530:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3515:25:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45012,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44975,"src":"3573:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45013,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"3586:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3573:25:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3515:83:51","trueExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45008,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"3544:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45009,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44975,"src":"3559:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3544:25:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45011,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3543:27:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3494:104:51"},{"assignments":[45018],"declarations":[{"constant":false,"id":45018,"mutability":"mutable","name":"nextSize","nameLocation":"3617:8:51","nodeType":"VariableDeclaration","scope":45083,"src":"3609:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45017,"name":"uint256","nodeType":"ElementaryTypeName","src":"3609:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45019,"nodeType":"VariableDeclarationStatement","src":"3609:16:51"},{"assignments":[45021],"declarations":[{"constant":false,"id":45021,"mutability":"mutable","name":"delta","nameLocation":"3643:5:51","nodeType":"VariableDeclaration","scope":45083,"src":"3635:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45020,"name":"uint256","nodeType":"ElementaryTypeName","src":"3635:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45022,"nodeType":"VariableDeclarationStatement","src":"3635:13:51"},{"id":45068,"nodeType":"Block","src":"3689:386:51","statements":[{"assignments":[45024],"declarations":[{"constant":false,"id":45024,"mutability":"mutable","name":"size","nameLocation":"3711:4:51","nodeType":"VariableDeclaration","scope":45068,"src":"3703:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45023,"name":"uint256","nodeType":"ElementaryTypeName","src":"3703:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45029,"initialValue":{"arguments":[{"id":45027,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44973,"src":"3741:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":45025,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44698,"src":"3718:5:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":45026,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3724:16:51","memberName":"globalShortSizes","nodeType":"MemberAccess","referencedDeclaration":53312,"src":"3718:22:51","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":45028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3718:35:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3703:50:51"},{"expression":{"id":45039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45030,"name":"nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3767:8:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":45031,"name":"_isIncrease","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44979,"src":"3778:11:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45037,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45035,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45024,"src":"3812:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45036,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44977,"src":"3819:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3812:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3778:51:51","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45034,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45032,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45024,"src":"3792:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":45033,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44977,"src":"3799:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3792:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3767:62:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45040,"nodeType":"ExpressionStatement","src":"3767:62:51"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45043,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45041,"name":"nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3848:8:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":45042,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3860:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3848:13:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45049,"nodeType":"IfStatement","src":"3844:65:51","trueBody":{"id":45048,"nodeType":"Block","src":"3863:46:51","statements":[{"expression":{"components":[{"hexValue":"30","id":45044,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3889:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":45045,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3892:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":45046,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3888:6:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":44986,"id":45047,"nodeType":"Return","src":"3881:13:51"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45050,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"3927:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":45051,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3943:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3927:17:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45058,"nodeType":"IfStatement","src":"3923:85:51","trueBody":{"id":45057,"nodeType":"Block","src":"3946:62:51","statements":[{"expression":{"components":[{"id":45053,"name":"nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3972:8:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45054,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44975,"src":"3982:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45055,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3971:22:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":44986,"id":45056,"nodeType":"Return","src":"3964:29:51"}]}},{"expression":{"id":45066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45059,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45021,"src":"4022:5:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45065,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45060,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45024,"src":"4031:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":45061,"name":"priceDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45004,"src":"4038:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4031:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45063,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4030:19:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":45064,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"4052:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4030:34:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4022:42:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45067,"nodeType":"ExpressionStatement","src":"4022:42:51"}]},{"assignments":[45070],"declarations":[{"constant":false,"id":45070,"mutability":"mutable","name":"nextAveragePrice","nameLocation":"4093:16:51","nodeType":"VariableDeclaration","scope":45083,"src":"4085:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45069,"name":"uint256","nodeType":"ElementaryTypeName","src":"4085:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45078,"initialValue":{"arguments":[{"id":45072,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44998,"src":"4139:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45073,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44975,"src":"4153:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45074,"name":"nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"4165:8:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45075,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45021,"src":"4175:5:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45076,"name":"realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44988,"src":"4182:11:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45071,"name":"_getNextGlobalAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45211,"src":"4112:26:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,int256) pure returns (uint256)"}},"id":45077,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4112:82:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4085:109:51"},{"expression":{"components":[{"id":45079,"name":"nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"4213:8:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45080,"name":"nextAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45070,"src":"4223:16:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45081,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4212:28:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":44986,"id":45082,"nodeType":"Return","src":"4205:35:51"}]},"baseFunctions":[52769],"functionSelector":"9cdeb593","implemented":true,"kind":"function","modifiers":[],"name":"getNextGlobalShortData","nameLocation":"3055:22:51","overrides":{"id":44981,"nodeType":"OverrideSpecifier","overrides":[],"src":"3267:8:51"},"parameters":{"id":44980,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44969,"mutability":"mutable","name":"_account","nameLocation":"3095:8:51","nodeType":"VariableDeclaration","scope":45084,"src":"3087:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44968,"name":"address","nodeType":"ElementaryTypeName","src":"3087:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44971,"mutability":"mutable","name":"_collateralToken","nameLocation":"3121:16:51","nodeType":"VariableDeclaration","scope":45084,"src":"3113:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44970,"name":"address","nodeType":"ElementaryTypeName","src":"3113:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44973,"mutability":"mutable","name":"_indexToken","nameLocation":"3155:11:51","nodeType":"VariableDeclaration","scope":45084,"src":"3147:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44972,"name":"address","nodeType":"ElementaryTypeName","src":"3147:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44975,"mutability":"mutable","name":"_nextPrice","nameLocation":"3184:10:51","nodeType":"VariableDeclaration","scope":45084,"src":"3176:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44974,"name":"uint256","nodeType":"ElementaryTypeName","src":"3176:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44977,"mutability":"mutable","name":"_sizeDelta","nameLocation":"3212:10:51","nodeType":"VariableDeclaration","scope":45084,"src":"3204:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44976,"name":"uint256","nodeType":"ElementaryTypeName","src":"3204:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44979,"mutability":"mutable","name":"_isIncrease","nameLocation":"3237:11:51","nodeType":"VariableDeclaration","scope":45084,"src":"3232:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":44978,"name":"bool","nodeType":"ElementaryTypeName","src":"3232:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3077:177:51"},"returnParameters":{"id":44986,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44983,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45084,"src":"3285:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44982,"name":"uint256","nodeType":"ElementaryTypeName","src":"3285:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":44985,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45084,"src":"3294:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44984,"name":"uint256","nodeType":"ElementaryTypeName","src":"3294:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3284:18:51"},"scope":45341,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":45165,"nodeType":"FunctionDefinition","src":"4253:855:51","nodes":[],"body":{"id":45164,"nodeType":"Block","src":"4455:653:51","nodes":[],"statements":[{"condition":{"id":45099,"name":"_isIncrease","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45094,"src":"4469:11:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45103,"nodeType":"IfStatement","src":"4465:50:51","trueBody":{"id":45102,"nodeType":"Block","src":"4482:33:51","statements":[{"expression":{"hexValue":"30","id":45100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4503:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":45098,"id":45101,"nodeType":"Return","src":"4496:8:51"}]}},{"assignments":[45106],"declarations":[{"constant":false,"id":45106,"mutability":"mutable","name":"_vault","nameLocation":"4532:6:51","nodeType":"VariableDeclaration","scope":45164,"src":"4525:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"},"typeName":{"id":45105,"nodeType":"UserDefinedTypeName","pathNode":{"id":45104,"name":"IVault","nameLocations":["4525:6:51"],"nodeType":"IdentifierPath","referencedDeclaration":53450,"src":"4525:6:51"},"referencedDeclaration":53450,"src":"4525:6:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"visibility":"internal"}],"id":45108,"initialValue":{"id":45107,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44698,"src":"4541:5:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"nodeType":"VariableDeclarationStatement","src":"4525:21:51"},{"assignments":[45110,null,45112,null,null,null,null,45114],"declarations":[{"constant":false,"id":45110,"mutability":"mutable","name":"size","nameLocation":"4565:4:51","nodeType":"VariableDeclaration","scope":45164,"src":"4557:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45109,"name":"uint256","nodeType":"ElementaryTypeName","src":"4557:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null,{"constant":false,"id":45112,"mutability":"mutable","name":"averagePrice","nameLocation":"4603:12:51","nodeType":"VariableDeclaration","scope":45164,"src":"4595:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45111,"name":"uint256","nodeType":"ElementaryTypeName","src":"4595:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null,null,null,null,{"constant":false,"id":45114,"mutability":"mutable","name":"lastIncreasedTime","nameLocation":"4629:17:51","nodeType":"VariableDeclaration","scope":45164,"src":"4621:25:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45113,"name":"uint256","nodeType":"ElementaryTypeName","src":"4621:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45122,"initialValue":{"arguments":[{"id":45117,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45086,"src":"4681:8:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45118,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45088,"src":"4691:16:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45119,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45090,"src":"4709:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"66616c7365","id":45120,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4722:5:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":45115,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45106,"src":"4662:6:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":45116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4669:11:51","memberName":"getPosition","nodeType":"MemberAccess","referencedDeclaration":53449,"src":"4662:18:51","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$_t_address_$_t_bool_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"function (address,address,address,bool) view external returns (uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"id":45121,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4662:66:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"4556:172:51"},{"assignments":[45124,45126],"declarations":[{"constant":false,"id":45124,"mutability":"mutable","name":"hasProfit","nameLocation":"4745:9:51","nodeType":"VariableDeclaration","scope":45164,"src":"4740:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45123,"name":"bool","nodeType":"ElementaryTypeName","src":"4740:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":45126,"mutability":"mutable","name":"delta","nameLocation":"4764:5:51","nodeType":"VariableDeclaration","scope":45164,"src":"4756:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45125,"name":"uint256","nodeType":"ElementaryTypeName","src":"4756:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45135,"initialValue":{"arguments":[{"id":45129,"name":"_indexToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45090,"src":"4789:11:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45130,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45110,"src":"4802:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45131,"name":"averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45112,"src":"4808:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":45132,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4822:5:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"id":45133,"name":"lastIncreasedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45114,"src":"4829:17:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":45127,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45106,"src":"4773:6:51","typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$53450","typeString":"contract IVault"}},"id":45128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4780:8:51","memberName":"getDelta","nodeType":"MemberAccess","referencedDeclaration":53422,"src":"4773:15:51","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$returns$_t_bool_$_t_uint256_$","typeString":"function (address,uint256,uint256,bool,uint256) view external returns (bool,uint256)"}},"id":45134,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4773:74:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"4739:108:51"},{"assignments":[45137],"declarations":[{"constant":false,"id":45137,"mutability":"mutable","name":"adjustedDelta","nameLocation":"4911:13:51","nodeType":"VariableDeclaration","scope":45164,"src":"4903:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45136,"name":"uint256","nodeType":"ElementaryTypeName","src":"4903:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45144,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45143,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45140,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45138,"name":"_sizeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45092,"src":"4928:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":45139,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45126,"src":"4941:5:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4928:18:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45141,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4927:20:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":45142,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45110,"src":"4950:4:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4927:27:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4903:51:51"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45146,"name":"adjustedDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45137,"src":"4972:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":45147,"name":"MAX_INT256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44695,"src":"4988:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4972:26:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53686f727473547261636b65723a206f766572666c6f77","id":45149,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5000:25:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_5d5cea51d82e1abca3d2b7ea9999f793f9a386ab0bccbd1010ee4f2ea516eedd","typeString":"literal_string \"ShortsTracker: overflow\""},"value":"ShortsTracker: overflow"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5d5cea51d82e1abca3d2b7ea9999f793f9a386ab0bccbd1010ee4f2ea516eedd","typeString":"literal_string \"ShortsTracker: overflow\""}],"id":45145,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4964:7:51","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":45150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4964:62:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45151,"nodeType":"ExpressionStatement","src":"4964:62:51"},{"expression":{"condition":{"id":45152,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45124,"src":"5043:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":45161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"5079:22:51","subExpression":{"arguments":[{"id":45159,"name":"adjustedDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45137,"src":"5087:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45158,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5080:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":45157,"name":"int256","nodeType":"ElementaryTypeName","src":"5080:6:51","typeDescriptions":{}}},"id":45160,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5080:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":45162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5043:58:51","trueExpression":{"arguments":[{"id":45155,"name":"adjustedDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45137,"src":"5062:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45154,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5055:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":45153,"name":"int256","nodeType":"ElementaryTypeName","src":"5055:6:51","typeDescriptions":{}}},"id":45156,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5055:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":45098,"id":45163,"nodeType":"Return","src":"5036:65:51"}]},"functionSelector":"a83b75fd","implemented":true,"kind":"function","modifiers":[],"name":"getRealisedPnl","nameLocation":"4262:14:51","parameters":{"id":45095,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45086,"mutability":"mutable","name":"_account","nameLocation":"4294:8:51","nodeType":"VariableDeclaration","scope":45165,"src":"4286:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45085,"name":"address","nodeType":"ElementaryTypeName","src":"4286:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45088,"mutability":"mutable","name":"_collateralToken","nameLocation":"4320:16:51","nodeType":"VariableDeclaration","scope":45165,"src":"4312:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45087,"name":"address","nodeType":"ElementaryTypeName","src":"4312:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45090,"mutability":"mutable","name":"_indexToken","nameLocation":"4354:11:51","nodeType":"VariableDeclaration","scope":45165,"src":"4346:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45089,"name":"address","nodeType":"ElementaryTypeName","src":"4346:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45092,"mutability":"mutable","name":"_sizeDelta","nameLocation":"4383:10:51","nodeType":"VariableDeclaration","scope":45165,"src":"4375:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45091,"name":"uint256","nodeType":"ElementaryTypeName","src":"4375:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45094,"mutability":"mutable","name":"_isIncrease","nameLocation":"4408:11:51","nodeType":"VariableDeclaration","scope":45165,"src":"4403:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45093,"name":"bool","nodeType":"ElementaryTypeName","src":"4403:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4276:149:51"},"returnParameters":{"id":45098,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45097,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45165,"src":"4447:6:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":45096,"name":"int256","nodeType":"ElementaryTypeName","src":"4447:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"4446:8:51"},"scope":45341,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":45211,"nodeType":"FunctionDefinition","src":"5114:498:51","nodes":[],"body":{"id":45210,"nodeType":"Block","src":"5325:287:51","nodes":[],"statements":[{"assignments":[45181,45183],"declarations":[{"constant":false,"id":45181,"mutability":"mutable","name":"hasProfit","nameLocation":"5341:9:51","nodeType":"VariableDeclaration","scope":45210,"src":"5336:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45180,"name":"bool","nodeType":"ElementaryTypeName","src":"5336:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":45183,"mutability":"mutable","name":"nextDelta","nameLocation":"5360:9:51","nodeType":"VariableDeclaration","scope":45210,"src":"5352:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45182,"name":"uint256","nodeType":"ElementaryTypeName","src":"5352:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45190,"initialValue":{"arguments":[{"id":45185,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45173,"src":"5387:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45186,"name":"_averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45167,"src":"5395:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45187,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45169,"src":"5410:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45188,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45175,"src":"5422:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45184,"name":"_getNextDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45340,"src":"5373:13:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_bool_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,int256) pure returns (bool,uint256)"}},"id":45189,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5373:62:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"5335:100:51"},{"assignments":[45192],"declarations":[{"constant":false,"id":45192,"mutability":"mutable","name":"nextAveragePrice","nameLocation":"5454:16:51","nodeType":"VariableDeclaration","scope":45210,"src":"5446:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45191,"name":"uint256","nodeType":"ElementaryTypeName","src":"5446:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45207,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45193,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45169,"src":"5486:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":45194,"name":"_nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45171,"src":"5499:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5486:22:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45196,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5485:24:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"condition":{"id":45197,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45181,"src":"5513:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45201,"name":"_nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45171,"src":"5549:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":45202,"name":"nextDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45183,"src":"5561:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5549:21:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5513:57:51","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45198,"name":"_nextSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45171,"src":"5525:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45199,"name":"nextDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45183,"src":"5537:9:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5525:21:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45205,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5512:59:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5485:86:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5446:125:51"},{"expression":{"id":45208,"name":"nextAveragePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45192,"src":"5589:16:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":45179,"id":45209,"nodeType":"Return","src":"5582:23:51"}]},"functionSelector":"5886b711","implemented":true,"kind":"function","modifiers":[],"name":"_getNextGlobalAveragePrice","nameLocation":"5123:26:51","parameters":{"id":45176,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45167,"mutability":"mutable","name":"_averagePrice","nameLocation":"5167:13:51","nodeType":"VariableDeclaration","scope":45211,"src":"5159:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45166,"name":"uint256","nodeType":"ElementaryTypeName","src":"5159:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45169,"mutability":"mutable","name":"_nextPrice","nameLocation":"5198:10:51","nodeType":"VariableDeclaration","scope":45211,"src":"5190:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45168,"name":"uint256","nodeType":"ElementaryTypeName","src":"5190:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45171,"mutability":"mutable","name":"_nextSize","nameLocation":"5226:9:51","nodeType":"VariableDeclaration","scope":45211,"src":"5218:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45170,"name":"uint256","nodeType":"ElementaryTypeName","src":"5218:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45173,"mutability":"mutable","name":"_delta","nameLocation":"5253:6:51","nodeType":"VariableDeclaration","scope":45211,"src":"5245:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45172,"name":"uint256","nodeType":"ElementaryTypeName","src":"5245:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45175,"mutability":"mutable","name":"_realisedPnl","nameLocation":"5276:12:51","nodeType":"VariableDeclaration","scope":45211,"src":"5269:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":45174,"name":"int256","nodeType":"ElementaryTypeName","src":"5269:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"5149:145:51"},"returnParameters":{"id":45179,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45178,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45211,"src":"5316:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45177,"name":"uint256","nodeType":"ElementaryTypeName","src":"5316:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5315:9:51"},"scope":45341,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":45340,"nodeType":"FunctionDefinition","src":"5618:1552:51","nodes":[],"body":{"id":45339,"nodeType":"Block","src":"5787:1383:51","nodes":[],"statements":[{"assignments":[45227],"declarations":[{"constant":false,"id":45227,"mutability":"mutable","name":"hasProfit","nameLocation":"6232:9:51","nodeType":"VariableDeclaration","scope":45339,"src":"6227:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45226,"name":"bool","nodeType":"ElementaryTypeName","src":"6227:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":45231,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45228,"name":"_averagePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45215,"src":"6244:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":45229,"name":"_nextPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45217,"src":"6260:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6244:26:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"6227:43:51"},{"condition":{"id":45232,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45227,"src":"6284:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45285,"nodeType":"IfStatement","src":"6280:499:51","trueBody":{"id":45284,"nodeType":"Block","src":"6295:484:51","statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":45235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45233,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6358:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":45234,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6373:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6358:16:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45278,"nodeType":"Block","src":"6655:73:51","statements":[{"expression":{"id":45276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45268,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6673:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45275,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45269,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6682:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":45273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"6699:13:51","subExpression":{"id":45272,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6700:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45271,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6691:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45270,"name":"uint256","nodeType":"ElementaryTypeName","src":"6691:7:51","typeDescriptions":{}}},"id":45274,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6691:22:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6682:31:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6673:40:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45277,"nodeType":"ExpressionStatement","src":"6673:40:51"}]},"id":45279,"nodeType":"IfStatement","src":"6354:374:51","trueBody":{"id":45267,"nodeType":"Block","src":"6376:273:51","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":45238,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6406:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45237,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6398:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45236,"name":"uint256","nodeType":"ElementaryTypeName","src":"6398:7:51","typeDescriptions":{}}},"id":45239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6398:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":45240,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6422:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6398:30:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45265,"nodeType":"Block","src":"6555:80:51","statements":[{"expression":{"id":45263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45256,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6577:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45257,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6586:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":45260,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6603:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45259,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6595:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45258,"name":"uint256","nodeType":"ElementaryTypeName","src":"6595:7:51","typeDescriptions":{}}},"id":45261,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6595:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6586:30:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6577:39:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45264,"nodeType":"ExpressionStatement","src":"6577:39:51"}]},"id":45266,"nodeType":"IfStatement","src":"6394:241:51","trueBody":{"id":45255,"nodeType":"Block","src":"6430:119:51","statements":[{"expression":{"id":45249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45242,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6452:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":45245,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6469:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45244,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6461:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45243,"name":"uint256","nodeType":"ElementaryTypeName","src":"6461:7:51","typeDescriptions":{}}},"id":45246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6461:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45247,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6485:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6461:30:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6452:39:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45250,"nodeType":"ExpressionStatement","src":"6452:39:51"},{"expression":{"id":45253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45251,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45227,"src":"6513:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"66616c7365","id":45252,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6525:5:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"6513:17:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45254,"nodeType":"ExpressionStatement","src":"6513:17:51"}]}}]}},{"expression":{"components":[{"id":45280,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45227,"src":"6750:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":45281,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6761:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45282,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6749:19:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"functionReturnParameters":45225,"id":45283,"nodeType":"Return","src":"6742:26:51"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":45288,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45286,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6793:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":45287,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6808:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6793:16:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45333,"nodeType":"Block","src":"6881:247:51","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45305,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":45302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"6907:13:51","subExpression":{"id":45301,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6908:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45300,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6899:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45299,"name":"uint256","nodeType":"ElementaryTypeName","src":"6899:7:51","typeDescriptions":{}}},"id":45303,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6899:22:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":45304,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6924:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6899:31:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45331,"nodeType":"Block","src":"7045:73:51","statements":[{"expression":{"id":45329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45321,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"7063:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45322,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"7072:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":45326,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7089:13:51","subExpression":{"id":45325,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"7090:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45324,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7081:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45323,"name":"uint256","nodeType":"ElementaryTypeName","src":"7081:7:51","typeDescriptions":{}}},"id":45327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7081:22:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7072:31:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7063:40:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45330,"nodeType":"ExpressionStatement","src":"7063:40:51"}]},"id":45332,"nodeType":"IfStatement","src":"6895:223:51","trueBody":{"id":45320,"nodeType":"Block","src":"6932:107:51","statements":[{"expression":{"id":45314,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45306,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6950:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":45310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"6967:13:51","subExpression":{"id":45309,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6968:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45308,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6959:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45307,"name":"uint256","nodeType":"ElementaryTypeName","src":"6959:7:51","typeDescriptions":{}}},"id":45311,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6959:22:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45312,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6984:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6959:31:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6950:40:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45315,"nodeType":"ExpressionStatement","src":"6950:40:51"},{"expression":{"id":45318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45316,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45227,"src":"7008:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":45317,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7020:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"7008:16:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45319,"nodeType":"ExpressionStatement","src":"7008:16:51"}]}}]},"id":45334,"nodeType":"IfStatement","src":"6789:339:51","trueBody":{"id":45298,"nodeType":"Block","src":"6811:64:51","statements":[{"expression":{"id":45296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45289,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6825:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45290,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"6834:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":45293,"name":"_realisedPnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45219,"src":"6851:12:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":45292,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6843:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45291,"name":"uint256","nodeType":"ElementaryTypeName","src":"6843:7:51","typeDescriptions":{}}},"id":45294,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6843:21:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6834:30:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6825:39:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45297,"nodeType":"ExpressionStatement","src":"6825:39:51"}]}},{"expression":{"components":[{"id":45335,"name":"hasProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45227,"src":"7145:9:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":45336,"name":"_delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45213,"src":"7156:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45337,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7144:19:51","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"functionReturnParameters":45225,"id":45338,"nodeType":"Return","src":"7137:26:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_getNextDelta","nameLocation":"5627:13:51","parameters":{"id":45220,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45213,"mutability":"mutable","name":"_delta","nameLocation":"5649:6:51","nodeType":"VariableDeclaration","scope":45340,"src":"5641:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45212,"name":"uint256","nodeType":"ElementaryTypeName","src":"5641:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45215,"mutability":"mutable","name":"_averagePrice","nameLocation":"5665:13:51","nodeType":"VariableDeclaration","scope":45340,"src":"5657:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45214,"name":"uint256","nodeType":"ElementaryTypeName","src":"5657:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45217,"mutability":"mutable","name":"_nextPrice","nameLocation":"5688:10:51","nodeType":"VariableDeclaration","scope":45340,"src":"5680:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45216,"name":"uint256","nodeType":"ElementaryTypeName","src":"5680:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45219,"mutability":"mutable","name":"_realisedPnl","nameLocation":"5707:12:51","nodeType":"VariableDeclaration","scope":45340,"src":"5700:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":45218,"name":"int256","nodeType":"ElementaryTypeName","src":"5700:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"5640:80:51"},"returnParameters":{"id":45225,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45222,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45340,"src":"5768:4:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45221,"name":"bool","nodeType":"ElementaryTypeName","src":"5768:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":45224,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45340,"src":"5774:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45223,"name":"uint256","nodeType":"ElementaryTypeName","src":"5774:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5767:15:51"},"scope":45341,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":44674,"name":"Governable","nameLocations":["196:10:51"],"nodeType":"IdentifierPath","referencedDeclaration":33234,"src":"196:10:51"},"id":44675,"nodeType":"InheritanceSpecifier","src":"196:10:51"},{"baseName":{"id":44676,"name":"IShortsTracker","nameLocations":["208:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":52808,"src":"208:14:51"},"id":44677,"nodeType":"InheritanceSpecifier","src":"208:14:51"}],"canonicalName":"ShortsTracker","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[45341,52808,33234],"name":"ShortsTracker","nameLocation":"179:13:51","scope":45342,"usedErrors":[]}],"license":"MIT"},"id":51}